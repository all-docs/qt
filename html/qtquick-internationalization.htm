<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Internationalization and Localization with Qt Quick</title>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a>Internationalization and Localization with Qt Quick</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Internationalization and Localization with Qt Quick</h1>
<span class="subtitle"></span>
<!-- $$$qtquick-internationalization.html-description -->
<div class="descr"> <a name="details"></a>
<a name="internationalizing-your-application"></a>
<h2 id="internationalizing-your-application">Internationalizing Your Application<a class="plink" href="#internationalizing-your-application" title="Direct link to this headline"></a></h2>
<p>The following sections describe various aspects of internationalizing your QML source code. If you follow these guides for all the user interface components in your application, it becomes possible to localize every aspect of your application for different languages and local cultural conventions such as the way dates and numbers are formatted.</p>
<a name="1-use-qstr-for-all-literal-user-interface-strings"></a>
<h3 id="1-use-qstr-for-all-literal-user-interface-strings">1. Use qsTr() for all Literal User Interface Strings<a class="plink" href="#1-use-qstr-for-all-literal-user-interface-strings" title="Direct link to this headline"></a></h3>
<p>Strings in QML can be marked for translation using the qsTr(), qsTranslate(), qsTrId(), <a href="./qtglobal.htm#QT_TR_NOOP" translate="no">QT_TR_NOOP</a>(), <a href="./qtglobal.htm#QT_TRANSLATE_NOOP" translate="no">QT_TRANSLATE_NOOP</a>(), and <a href="./qtglobal.htm#QT_TRID_NOOP" translate="no">QT_TRID_NOOP</a>() functions. The most common way of marking strings is with the qsTr() function. For example:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">Text {
    id: txt1;
    text: qsTr(<span class="string">"Back"</span>);
}</pre></div>
<p>This code makes "Back" a key entry in the translation files. At runtime, the translation system looks up the keyword "Back" and then gets the corresponding translation value for the current system locale. The result is returned to the <code translate="no">text</code> property and the user interface will show the appropriate translation of "Back" for the current locale.</p>
<a name="2-add-context-for-the-translator"></a>
<h3 id="2-add-context-for-the-translator">2. Add Context for the Translator<a class="plink" href="#2-add-context-for-the-translator" title="Direct link to this headline"></a></h3>
<p>User interface strings are often short so you need to help the person translating the text understand the context of the text. You can add context information in the source code as extra descriptive text before the string to be translated. These extra descriptions are included in the .ts translation files delivered to the translator.</p>
<div class="admonition note">
<p><b>Note: </b>The .ts files are XML files with the source texts and a place for the translated text. The updated .ts files are converted into binary translation files and included as part of the final application.</p>
</div>
<p>In the following code snippet, the text on the <code translate="no">//:</code> line is the main comment for the translator.</p>
<p>The text on the <code translate="no">//~</code> line is optional extra information. The first word of the text is used as an additional identifier in the XML element in the .ts file so make sure the first word is not part of the sentence. For example, the comment "Context Not related to that" is converted to "&lt;extra-Context&gt;Not related to that" in the .ts file.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">Text {
    id: txt1;
    <span class="comment">// This user interface string is only used here</span>
    <span class="comment">//: The back of the object, not the front</span>
    <span class="comment">//~ Context Not related to back-stepping</span>
    text: qsTr(<span class="string">"Back"</span>);
}</pre></div>
<a name="3-disambiguate-identical-texts"></a>
<h3 id="3-disambiguate-identical-texts">3. Disambiguate Identical Texts<a class="plink" href="#3-disambiguate-identical-texts" title="Direct link to this headline"></a></h3>
<p>The translation system consolidates the user interface text strings into unique items. This consolidation saves the person doing the translation work having to translate the same text multiple times. However, in some cases, the text is identical but has a different meaning. For example, in English, "back" means take a step backward and also means the part of an object opposite to the front. You need to tell the translation system about these two separate meanings so the translator can create two separate translations.</p>
<p>Differentiate between identical texts by adding some id text as the second parameter of the qsTr() function.</p>
<p>In the following code snippet, the <code translate="no">not front</code> text is an id to differentiate this "Back" text from the backstepping "Back" text:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">Text {
    id: txt1;
    <span class="comment">// This user interface string is used only here</span>
    <span class="comment">//: The back of the object, not the front</span>
    <span class="comment">//~ Context Not related to back-stepping</span>
    text: qsTr(<span class="string">"Back"</span><span class="operator">,</span> <span class="string">"not front"</span>);
}</pre></div>
<a name="4-use-op-op-x-to-insert-parameters-into-a-string"></a>
<h3 id="4-use-op-op-x-to-insert-parameters-into-a-string">4. Use <code translate="no">%x</code> to Insert Parameters into a String<a class="plink" href="#4-use-op-op-x-to-insert-parameters-into-a-string" title="Direct link to this headline"></a></h3>
<p>Different languages put words together in different orders so it is not a good idea to create sentences by concatenating words and data. Instead, use <code translate="no">%</code> to insert parameters into strings. For example, the following snippet has a string with two number parameters <code translate="no">%1</code> and <code translate="no">%2</code>. These parameters are inserted with the <code translate="no">.arg()</code> functions.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">Text {
    text: qsTr(<span class="string">"File %1 of %2"</span>)<span class="operator">.</span>arg(counter)<span class="operator">.</span>arg(total)
}</pre></div>
<p>%1 refers to the first parameter and <code translate="no">%2</code> refers to the second parameter so this code produces output like: "File 2 of 3".</p>
<a name="5-use-lx-so-numbers-are-localized"></a>
<h3 id="5-use-lx-so-numbers-are-localized">5. Use %Lx so Numbers are Localized<a class="plink" href="#5-use-lx-so-numbers-are-localized" title="Direct link to this headline"></a></h3>
<p>If you include the <code translate="no">%L</code> modifier when you specify a parameter, the number is localized according to the current regional settings. For example, in the following code snippet, <code translate="no">%L1</code> means to format the first parameters according to the number formatting conventions of the currently selected locale (geographical region):</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">Text {
    text: qsTr(<span class="string">"%L1"</span>)<span class="operator">.</span>arg(total)
}</pre></div>
<p>Then, with the above code, if <code translate="no">total</code> is the number "4321.56" (four thousand three hundred and twenty one point fifty six); with English regional settings, (locale) the output is "4,321.56"; with German regional settings, the output is "4.321,56".</p>
<a name="6-internationalize-dates-times-and-currencies"></a>
<h3 id="6-internationalize-dates-times-and-currencies">6. Internationalize Dates, Times and Currencies<a class="plink" href="#6-internationalize-dates-times-and-currencies" title="Direct link to this headline"></a></h3>
<p>There are no special in-string modifiers for formatting dates and times. Instead, you need to query the current locale (geographical region) and use the methods of <a href="./qml-qtqml-date.htm" translate="no">Date</a> to format the string.</p>
<p><code translate="no">Qt.locale()</code> returns a <a href="./qml-qtqml-locale.htm" translate="no">Locale</a> object which contains all kinds of information about the locale. In particular, the <a href="./qml-qtqml-locale.htm#name-prop" translate="no">Locale.name</a> property contains the language and country information for the current locale. You can use the value as is, or you can parse it to determine the appropriate content for the current locale.</p>
<p>The following snippet gets the current date and time with Date(), then converts that to a string for the current locale. Then it inserts the date string into the %1 parameter for the appropriate translation.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">Text {
    text: qsTr(<span class="string">"Date %1"</span>)<span class="operator">.</span>arg(Date()<span class="operator">.</span>toLocaleString(<span class="type"><a href="./qt.htm" translate="no">Qt</a></span><span class="operator">.</span>locale()))
}</pre></div>
<p>To make sure currency numbers are localized, use the <a href="./qml-qtqml-number.htm" translate="no">Number</a> type. This type has similar functions as the Date type for converting numbers into localized currency strings.</p>
<a name="7-use-qt-tr-noop-for-translatable-data-text-strings"></a>
<h3 id="7-use-qt-tr-noop-for-translatable-data-text-strings">7. Use QT_TR_NOOP() for Translatable Data Text Strings<a class="plink" href="#7-use-qt-tr-noop-for-translatable-data-text-strings" title="Direct link to this headline"></a></h3>
<p>If the user changes the system language without a reboot, depending on the system, the strings in arrays and list models and other data structures might not be refreshed automatically. To force the texts to be refreshed when they are displayed in the user interface, you need to declare the strings with the <a href="./qtglobal.htm#QT_TR_NOOP" translate="no">QT_TR_NOOP</a>() macro. Then, when you populate the objects for display, you need to explicitly retrieve the translation for each text. For example:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">ListModel {
    id: myListModel;
    ListElement {
        <span class="comment">//: Capital city of Finland</span>
        name: QT_TR_NOOP(<span class="string">"Helsinki"</span>);
        }
    }

<span class="operator">.</span><span class="operator">.</span><span class="operator">.</span>

Text {
    text: qsTr(myListModel<span class="operator">.</span>get(<span class="number">0</span>)<span class="operator">.</span>name); <span class="comment">// get the translation of the name property in element 0</span>
    }</pre></div>
<a name="8-use-locale-to-extend-localization-features"></a>
<h3 id="8-use-locale-to-extend-localization-features">8. Use Locale to Extend Localization Features<a class="plink" href="#8-use-locale-to-extend-localization-features" title="Direct link to this headline"></a></h3>
<p>If you want different graphics or audio for different geographical regions, you can use Qt.<a href="./technical-guide.htm#locale" translate="no">locale</a>() to get the current locale. Then you choose appropriate graphics or audio for that locale.</p>
<p>The following code snippet shows how you could select an appropriate icon that represents the language of the current locale.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">Component<span class="operator">.</span>onCompleted: {
    <span class="keyword">switch</span> (<span class="type"><a href="./qt.htm" translate="no">Qt</a></span><span class="operator">.</span>locale()<span class="operator">.</span>name<span class="operator">.</span>substring(<span class="number">0</span><span class="operator">,</span><span class="number">2</span>)) {
        <span class="keyword">case</span> <span class="string">"en"</span>:   <span class="comment">// show the English-language icon</span>
            languageIcon <span class="operator">=</span> <span class="string">"../images/language-icon_en.png"</span>;
            <span class="keyword">break</span>;
        <span class="keyword">case</span> <span class="string">"fi"</span>:   <span class="comment">// show the Finnish language icon</span>
            languageIcon <span class="operator">=</span> <span class="string">"../images/language-icon_fi.png"</span>;
            <span class="keyword">break</span>;
        <span class="keyword">default</span>:     <span class="comment">// show a default language icon</span>
            languageIcon <span class="operator">=</span> <span class="string">"../images/language-icon_default.png"</span>;
    }
}</pre></div>
<a name="9-prepare-for-dynamic-language-changes"></a>
<h3 id="9-prepare-for-dynamic-language-changes">9. Prepare for Dynamic Language Changes<a class="plink" href="#9-prepare-for-dynamic-language-changes" title="Direct link to this headline"></a></h3>
<p>You can change the language that Qt translation functions use by adding and removing translators with <a href="./qcoreapplication.htm#installTranslator" translate="no">QCoreApplication::installTranslator</a>() and <a href="./qcoreapplication.htm#removeTranslator" translate="no">QCoreApplication::removeTranslator</a>(). Afterwards you can call <a href="./qqmlengine.htm#retranslate" translate="no">QQmlEngine::retranslate</a>() to trigger a refresh of all bindings that use translations. As a result, your user interface will switch, dynamically, to the newly selected language.</p>
<p>Alternatively, you can also forward a <a href="./qevent.htm#Type-enum" translate="no">QEvent::LanguageChange</a> event to your application's <a href="./qqmlengine.htm" translate="no">QQmlEngine</a> instance or connect your own signal to <a href="./qqmlengine.htm#retranslate" translate="no">QQmlEngine::retranslate</a>().</p>
<a name="localizing-your-application"></a>
<h2 id="localizing-your-application">Localizing Your Application<a class="plink" href="#localizing-your-application" title="Direct link to this headline"></a></h2>
<p>Qt Quick applications use the same underlying localization system as Qt C++ applications (lupdate, lrelease and .ts files). You use the same tools as described in the <a href="./linguist-manager.htm" translate="no">Qt Linguist Manual</a>. You can even have user interface strings in C++ and QML source in the same application. The system will create a single combined translation file and the strings are accessible from QML and C++.</p>
<a name="use-a-conditional-to-hide-qml-source-from-the-compiler"></a>
<h3 id="use-a-conditional-to-hide-qml-source-from-the-compiler">Use a Conditional to Hide QML Source From the Compiler<a class="plink" href="#use-a-conditional-to-hide-qml-source-from-the-compiler" title="Direct link to this headline"></a></h3>
<p>The <code translate="no">lupdate</code> tool extracts user interface strings from your application. lupdate reads your application's .pro file to identify which source files contain texts to be translated. This means your source files must be listed in the <code translate="no">SOURCES</code> or <code translate="no">HEADERS</code> entry in the .pro file. If your files are not listed the texts in them will not be found.</p>
<p>However, the SOURCES variable is intended for C++ source files. If you list QML or JavaScript source files there, the compiler tries to build them as though they are C++ files. As a workaround, you can use an <code translate="no">lupdate_only{...}</code> conditional statement so the <code translate="no">lupdate</code> tool sees the .qml files but the C++ compiler ignores them.</p>
<p>For example, the following .pro file snippet specifies two .qml files in the application.</p>
<div class="pre"><pre class="cpp" translate="no">lupdate_only{
SOURCES <span class="operator">=</span> main<span class="operator">.</span>qml \
          MainPage<span class="operator">.</span>qml
}</pre></div>
<p>You can also specify the .qml source files with a wildcard match. The search is not recursive so you need to specify each directory where there are user interface strings in the source code:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">lupdate_only{
SOURCES <span class="operator">=</span> <span class="operator">*</span><span class="operator">.</span>qml \
          <span class="operator">*</span><span class="operator">.</span>js \
          content<span class="comment">/*.qml \
          content/*.js
}
</span></pre></div>
<p>See the <a href="./qtlinguist-index.htm" translate="no">Qt Linguist Manual</a> for more details about Qt localization.</p>
</div>
<!-- @@@qtquick-internationalization.html -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>