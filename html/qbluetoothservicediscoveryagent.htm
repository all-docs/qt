<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>QBluetoothServiceDiscoveryAgent | Qt Bluetooth</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/qbluetoothservicediscoveryagent.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtbluetooth-index.htm" translate="no">Qt Bluetooth</a></li>
                            <li><a href="./qtbluetooth-module.htm" translate="no">C++ Classes</a></li>
                            <li><a>QBluetoothServiceDiscoveryAgent</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title" translate="no">QBluetoothServiceDiscoveryAgent Class</h1>
<!-- $$$QBluetoothServiceDiscoveryAgent-brief -->
<p>The QBluetoothServiceDiscoveryAgent class enables you to query for Bluetooth services. <a href="#details">More...</a></p>
<!-- @@@QBluetoothServiceDiscoveryAgent -->
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QBluetoothServiceDiscoveryAgent&gt;</span>
</td></tr><tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += bluetooth</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign"> Qt 5.2</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Inherits:</td><td class="memItemRight bottomAlign"> <a href="./qobject.htm" translate="no">QObject</a></td></tr></tbody></table></div><p>This class was introduced in Qt 5.2.</p>
<ul>
<li><a href="./qbluetoothservicediscoveryagent-members.htm">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h2 id="public-types">Public Types<a class="plink" href="#public-types" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#DiscoveryMode-enum" translate="no">DiscoveryMode</a></b> { MinimalDiscovery, FullDiscovery }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#Error-enum" translate="no">Error</a></b> { NoError, PoweredOffError, InputOutputError, InvalidBluetoothAdapterError, UnknownError }</td></tr>
</tbody></table></div>
<a name="public-functions"></a>
<h2 id="public-functions">Public Functions<a class="plink" href="#public-functions" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#QBluetoothServiceDiscoveryAgent-1" translate="no">QBluetoothServiceDiscoveryAgent</a></b>(const QBluetoothAddress &amp;<i>deviceAdapter</i>, QObject *<i>parent</i> = nullptr)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#QBluetoothServiceDiscoveryAgent" translate="no">QBluetoothServiceDiscoveryAgent</a></b>(QObject *<i>parent</i> = nullptr)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#dtor.QBluetoothServiceDiscoveryAgent" translate="no">~QBluetoothServiceDiscoveryAgent</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QList&lt;QBluetoothServiceInfo&gt; </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#discoveredServices" translate="no">discoveredServices</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QBluetoothServiceDiscoveryAgent::Error </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#error" translate="no">error</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#errorString" translate="no">errorString</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#isActive" translate="no">isActive</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QBluetoothAddress </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#remoteAddress" translate="no">remoteAddress</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#setRemoteAddress" translate="no">setRemoteAddress</a></b>(const QBluetoothAddress &amp;<i>address</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#setUuidFilter" translate="no">setUuidFilter</a></b>(const QList&lt;QBluetoothUuid&gt; &amp;<i>uuids</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#setUuidFilter-1" translate="no">setUuidFilter</a></b>(const QBluetoothUuid &amp;<i>uuid</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QList&lt;QBluetoothUuid&gt; </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#uuidFilter" translate="no">uuidFilter</a></b>() const</td></tr>
</tbody></table></div>
<a name="public-slots"></a>
<h2 id="public-slots">Public Slots<a class="plink" href="#public-slots" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#clear" translate="no">clear</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#start" translate="no">start</a></b>(QBluetoothServiceDiscoveryAgent::DiscoveryMode <i>mode</i> = MinimalDiscovery)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#stop" translate="no">stop</a></b>()</td></tr>
</tbody></table></div>
<a name="signals"></a>
<h2 id="signals">Signals<a class="plink" href="#signals" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#canceled" translate="no">canceled</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#error-1" translate="no">error</a></b>(QBluetoothServiceDiscoveryAgent::Error <i>error</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#finished" translate="no">finished</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qbluetoothservicediscoveryagent.htm#serviceDiscovered" translate="no">serviceDiscovered</a></b>(const QBluetoothServiceInfo &amp;<i>info</i>)</td></tr>
</tbody></table></div>
<a name="details"></a>
<!-- $$$QBluetoothServiceDiscoveryAgent-description -->
<div class="descr">
<h2 id="details">Detailed Description<a class="plink" href="#details" title="Direct link to this headline"></a></h2>
<p>The discovery process relies on the Bluetooth Service Discovery Process (SDP). The following steps are required to query the services provided by all contactable Bluetooth devices:</p>
<ul>
<li>create an instance of QBluetoothServiceDiscoveryAgent,</li>
<li>connect to either the <a href="./qbluetoothservicediscoveryagent.htm#serviceDiscovered" translate="no">serviceDiscovered</a>() or <a href="./qbluetoothservicediscoveryagent.htm#finished" translate="no">finished</a>() signals,</li>
<li>and call <a href="./qbluetoothservicediscoveryagent.htm#start" translate="no">start</a>().</li>
</ul>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type">void</span> MyClass<span class="operator">::</span>startServiceDiscovery()
{

    <span class="comment">// Create a discovery agent and connect to its signals</span>
    <span class="type"><a href="./qbluetoothservicediscoveryagent.htm#QBluetoothServiceDiscoveryAgent" translate="no">QBluetoothServiceDiscoveryAgent</a></span> <span class="operator">*</span>discoveryAgent <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="./qbluetoothservicediscoveryagent.htm#QBluetoothServiceDiscoveryAgent" translate="no">QBluetoothServiceDiscoveryAgent</a></span>(<span class="keyword">this</span>);
    connect(discoveryAgent<span class="operator">,</span> SIGNAL(serviceDiscovered(<span class="type"><a href="./qbluetoothserviceinfo.htm" translate="no">QBluetoothServiceInfo</a></span>))<span class="operator">,</span>
            <span class="keyword">this</span><span class="operator">,</span> SLOT(serviceDiscovered(<span class="type"><a href="./qbluetoothserviceinfo.htm" translate="no">QBluetoothServiceInfo</a></span>)));

    <span class="comment">// Start a discovery</span>
    discoveryAgent<span class="operator">-</span><span class="operator">&gt;</span>start();

    <span class="comment">//...</span>
}

<span class="comment">// In your local slot, read information about the found devices</span>
<span class="type">void</span> MyClass<span class="operator">::</span>serviceDiscovered(<span class="keyword">const</span> <span class="type"><a href="./qbluetoothserviceinfo.htm" translate="no">QBluetoothServiceInfo</a></span> <span class="operator">&amp;</span>service)
{
    <a href="./qtglobal.htm#qDebug" translate="no">qDebug</a>() <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="string">"Found new service:"</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> service<span class="operator">.</span>serviceName()
             <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="char">'('</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> service<span class="operator">.</span>device()<span class="operator">.</span>address()<span class="operator">.</span>toString() <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="char">')'</span>;
}</pre></div>
<p>By default a minimal service discovery is performed. In this mode, the returned <a href="./qbluetoothserviceinfo.htm" translate="no">QBluetoothServiceInfo</a> objects are guaranteed to contain only device and service UUID information. Depending on platform and device capabilities, other service information may also be available. The minimal service discovery mode relies on cached SDP data of the platform. Therefore it is possible that this discovery does not find a device although it is physically available. In such cases a full discovery must be performed to force an update of the platform cache. However for most use cases a minimal discovery is adequate as it is much quicker and other classes which require up-to-date information such as <a href="./qbluetoothsocket.htm#connectToService" translate="no">QBluetoothSocket::connectToService</a>() will perform additional discovery if required. If the full service information is required, pass <a href="./qbluetoothservicediscoveryagent.htm#DiscoveryMode-enum" translate="no">FullDiscovery</a> as the discoveryMode parameter to <a href="./qbluetoothservicediscoveryagent.htm#start" translate="no">start</a>().</p>
<p>This class may internally utilize <a href="./qbluetoothdevicediscoveryagent.htm" translate="no">QBluetoothDeviceDiscoveryAgent</a> to find unknown devices.</p>
<p>The service discovery may find Bluetooth Low Energy services too if the target device is a combination of a classic and Low Energy device. Those devices are required to advertise their Low Energy services via SDP. If the target device only supports Bluetooth Low Energy services, it is likely to not advertise them via SDP. The <a href="./qlowenergycontroller.htm" translate="no">QLowEnergyController</a> class should be utilized to perform the service discovery on Low Energy devices.</p>
<p>On iOS, this class cannot be used because the platform does not expose an API which may permit access to QBluetoothServiceDiscoveryAgent related features.</p>
</div>
<p><b>See also </b><a href="./qbluetoothdevicediscoveryagent.htm" translate="no">QBluetoothDeviceDiscoveryAgent</a> and <a href="./qlowenergycontroller.htm" translate="no">QLowEnergyController</a>.</p>
<!-- @@@QBluetoothServiceDiscoveryAgent -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$DiscoveryMode$$$MinimalDiscovery$$$FullDiscovery -->
<h3 class="fn" id="DiscoveryMode-enum" translate="no"><a name="DiscoveryMode-enum"></a>enum QBluetoothServiceDiscoveryAgent::<span class="name">DiscoveryMode</span><a class="plink" href="#DiscoveryMode-enum" title="Direct link to this headline"></a></h3>
<p>This enum describes the service discovery mode.</p>
<div class="table"><table class="valuelist"><tbody><tr class="odd" valign="top"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code translate="no">QBluetoothServiceDiscoveryAgent::MinimalDiscovery</code></td><td class="topAlign tblval"><code translate="no">0</code></td><td class="topAlign">Performs a minimal service discovery. The <a href="./qbluetoothserviceinfo.htm" translate="no">QBluetoothServiceInfo</a> objects returned may be incomplete and are only guaranteed to contain device and service UUID information. Since a minimal discovery relies on cached SDP data it may not find a physically existing device until a <code translate="no">FullDiscovery</code> is performed.</td></tr>
<tr><td class="topAlign"><code translate="no">QBluetoothServiceDiscoveryAgent::FullDiscovery</code></td><td class="topAlign tblval"><code translate="no">1</code></td><td class="topAlign">Performs a full service discovery.</td></tr>
</tbody></table></div>
<!-- @@@DiscoveryMode -->
<!-- $$$Error$$$NoError$$$InputOutputError$$$PoweredOffError$$$InvalidBluetoothAdapterError$$$UnknownError -->
<h3 class="fn" id="Error-enum" translate="no"><a name="Error-enum"></a>enum QBluetoothServiceDiscoveryAgent::<span class="name">Error</span><a class="plink" href="#Error-enum" title="Direct link to this headline"></a></h3>
<p>This enum describes errors that can occur during service discovery.</p>
<div class="table"><table class="valuelist"><tbody><tr class="odd" valign="top"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code translate="no">QBluetoothServiceDiscoveryAgent::NoError</code></td><td class="topAlign tblval"><code translate="no">QBluetoothDeviceDiscoveryAgent::NoError</code></td><td class="topAlign">No error has occurred.</td></tr>
<tr><td class="topAlign"><code translate="no">QBluetoothServiceDiscoveryAgent::PoweredOffError</code></td><td class="topAlign tblval"><code translate="no">QBluetoothDeviceDiscoveryAgent::PoweredOffError</code></td><td class="topAlign">The Bluetooth adaptor is powered off, power it on before doing discovery.</td></tr>
<tr><td class="topAlign"><code translate="no">QBluetoothServiceDiscoveryAgent::InputOutputError</code></td><td class="topAlign tblval"><code translate="no">QBluetoothDeviceDiscoveryAgent::InputOutputError</code></td><td class="topAlign">Writing or reading from the device resulted in an error.</td></tr>
<tr><td class="topAlign"><code translate="no">QBluetoothServiceDiscoveryAgent::InvalidBluetoothAdapterError</code></td><td class="topAlign tblval"><code translate="no">QBluetoothDeviceDiscoveryAgent::InvalidBluetoothAdapterError</code></td><td class="topAlign">The passed local adapter address does not match the physical adapter address of any local Bluetooth device. This value was introduced by Qt 5.3.</td></tr>
<tr><td class="topAlign"><code translate="no">QBluetoothServiceDiscoveryAgent::UnknownError</code></td><td class="topAlign tblval"><code translate="no">QBluetoothDeviceDiscoveryAgent::UnknownError</code></td><td class="topAlign">An unknown error has occurred.</td></tr>
</tbody></table></div>
<!-- @@@Error -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QBluetoothServiceDiscoveryAgent$$$QBluetoothServiceDiscoveryAgentconstQBluetoothAddress&QObject* -->
<h3 class="fn" id="QBluetoothServiceDiscoveryAgent-1" translate="no"><a name="QBluetoothServiceDiscoveryAgent-1"></a>QBluetoothServiceDiscoveryAgent::<span class="name">QBluetoothServiceDiscoveryAgent</span>(const <span class="type"><a href="./qbluetoothaddress.htm" translate="no">QBluetoothAddress</a></span> &amp;<i>deviceAdapter</i>, <span class="type"><a href="./qobject.htm#QObject" translate="no">QObject</a></span> *<i>parent</i> = nullptr)<a class="plink" href="#QBluetoothServiceDiscoveryAgent-1" title="Direct link to this headline"></a></h3>
<p>Constructs a new QBluetoothServiceDiscoveryAgent for <i translate="no">deviceAdapter</i> and with <i translate="no">parent</i>.</p>
<p>It uses <i translate="no">deviceAdapter</i> for the service search. If <i translate="no">deviceAdapter</i> is default constructed the resulting QBluetoothServiceDiscoveryAgent object will use the local default Bluetooth adapter.</p>
<p>If a <i translate="no">deviceAdapter</i> is specified that is not a local adapter <a href="./qbluetoothservicediscoveryagent.htm#error" translate="no">error</a>() will be set to <a href="./qbluetoothservicediscoveryagent.htm#Error-enum" translate="no">InvalidBluetoothAdapterError</a>. Therefore it is recommended to test the error flag immediately after using this constructor.</p>
<div class="admonition note">
<p><b>Note: </b>On WinRT the passed adapter address will be ignored.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>On Android passing any <i translate="no">deviceAdapter</i> address is meaningless as Android 6.0 or later does not publish the local Bluetooth address anymore. Subsequently, the passed adapter address can never be matched against the local adapter address. Therefore the subsequent call to <a href="./qbluetoothservicediscoveryagent.htm#start" translate="no">start</a>() will always trigger <a href="./qbluetoothservicediscoveryagent.htm#Error-enum" translate="no">InvalidBluetoothAdapterError</a>.</p>
</div>
<p><b>See also </b><a href="./qbluetoothservicediscoveryagent.htm#error" translate="no">error</a>().</p>
<!-- @@@QBluetoothServiceDiscoveryAgent -->
<!-- $$$QBluetoothServiceDiscoveryAgent[overload1]$$$QBluetoothServiceDiscoveryAgentQObject* -->
<h3 class="fn" id="QBluetoothServiceDiscoveryAgent" translate="no"><a name="QBluetoothServiceDiscoveryAgent"></a>QBluetoothServiceDiscoveryAgent::<span class="name">QBluetoothServiceDiscoveryAgent</span>(<span class="type"><a href="./qobject.htm#QObject" translate="no">QObject</a></span> *<i>parent</i> = nullptr)<a class="plink" href="#QBluetoothServiceDiscoveryAgent" title="Direct link to this headline"></a></h3>
<p>Constructs a new QBluetoothServiceDiscoveryAgent with <i translate="no">parent</i>. The search is performed via the local default Bluetooth adapter.</p>
<!-- @@@QBluetoothServiceDiscoveryAgent -->
<!-- $$$canceled[overload1]$$$canceled -->
<h3 class="fn" id="canceled" translate="no"><a name="canceled"></a><code translate="no">[signal] </code><span class="type">void</span> QBluetoothServiceDiscoveryAgent::<span class="name">canceled</span>()<a class="plink" href="#canceled" title="Direct link to this headline"></a></h3>
<p>This signal is triggered when the service discovery was canceled via a call to <a href="./qbluetoothservicediscoveryagent.htm#stop" translate="no">stop</a>().</p>
<!-- @@@canceled -->
<!-- $$$clear[overload1]$$$clear -->
<h3 class="fn" id="clear" translate="no"><a name="clear"></a><code translate="no">[slot] </code><span class="type">void</span> QBluetoothServiceDiscoveryAgent::<span class="name">clear</span>()<a class="plink" href="#clear" title="Direct link to this headline"></a></h3>
<p>Clears the results of previous service discoveries and resets <a href="./qbluetoothservicediscoveryagent.htm#uuidFilter" translate="no">uuidFilter</a>(). This function does nothing during an ongoing service discovery (see <a href="./qbluetoothservicediscoveryagent.htm#isActive" translate="no">isActive</a>()).</p>
<p><b>See also </b><a href="./qbluetoothservicediscoveryagent.htm#discoveredServices" translate="no">discoveredServices</a>().</p>
<!-- @@@clear -->
<!-- $$$error$$$errorQBluetoothServiceDiscoveryAgent::Error -->
<h3 class="fn" id="error-1" translate="no"><a name="error-1"></a><code translate="no">[signal] </code><span class="type">void</span> QBluetoothServiceDiscoveryAgent::<span class="name">error</span>(<span class="type"><a href="./qbluetoothservicediscoveryagent.htm#Error-enum" translate="no">QBluetoothServiceDiscoveryAgent::Error</a></span> <i>error</i>)<a class="plink" href="#error-1" title="Direct link to this headline"></a></h3>
<p>This signal is emitted when an <i translate="no">error</i> occurs. The <i translate="no">error</i> parameter describes the error that occurred.</p>
<p><b>Note:</b> Signal <i>error</i> is overloaded in this class. To connect to this signal by using the function pointer syntax, Qt provides a convenient helper for obtaining the function pointer as shown in this example:</p><div class="pre"><pre class="cpp prettyprint" translate="no">connect(bluetoothServiceDiscoveryAgent<span class="operator">,</span> <span class="type">QOverload</span><span class="operator">&lt;</span><span class="type"><a href="./qbluetoothservicediscoveryagent.htm#QBluetoothServiceDiscoveryAgent" translate="no">QBluetoothServiceDiscoveryAgent</a></span><span class="operator">::</span>Error<span class="operator">&gt;</span><span class="operator">::</span>of(<span class="operator">&amp;</span><span class="type"><a href="./qbluetoothservicediscoveryagent.htm#QBluetoothServiceDiscoveryAgent" translate="no">QBluetoothServiceDiscoveryAgent</a></span><span class="operator">::</span>error)<span class="operator">,</span>
    <span class="operator">[</span><span class="operator">=</span><span class="operator">]</span>(<span class="type"><a href="./qbluetoothservicediscoveryagent.htm#QBluetoothServiceDiscoveryAgent" translate="no">QBluetoothServiceDiscoveryAgent</a></span><span class="operator">::</span>Error error){ <span class="comment">/* ... */</span> });</pre></div>
<!-- @@@error -->
<!-- $$$finished[overload1]$$$finished -->
<h3 class="fn" id="finished" translate="no"><a name="finished"></a><code translate="no">[signal] </code><span class="type">void</span> QBluetoothServiceDiscoveryAgent::<span class="name">finished</span>()<a class="plink" href="#finished" title="Direct link to this headline"></a></h3>
<p>This signal is emitted when the Bluetooth service discovery completes.</p>
<p>Unlike the <a href="./qbluetoothdevicediscoveryagent.htm#finished" translate="no">QBluetoothDeviceDiscoveryAgent::finished</a>() signal this signal will even be emitted when an error occurred during the service discovery. Therefore it is recommended to check the <a href="./qbluetoothservicediscoveryagent.htm#error" translate="no">error</a>() signal to evaluate the success of the service discovery discovery.</p>
<!-- @@@finished -->
<!-- $$$serviceDiscovered[overload1]$$$serviceDiscoveredconstQBluetoothServiceInfo& -->
<h3 class="fn" id="serviceDiscovered" translate="no"><a name="serviceDiscovered"></a><code translate="no">[signal] </code><span class="type">void</span> QBluetoothServiceDiscoveryAgent::<span class="name">serviceDiscovered</span>(const <span class="type"><a href="./qbluetoothserviceinfo.htm" translate="no">QBluetoothServiceInfo</a></span> &amp;<i>info</i>)<a class="plink" href="#serviceDiscovered" title="Direct link to this headline"></a></h3>
<p>This signal is emitted when the Bluetooth service described by <i translate="no">info</i> is discovered.</p>
<div class="admonition note">
<p><b>Note: </b>The passed <a href="./qbluetoothserviceinfo.htm" translate="no">QBluetoothServiceInfo</a> parameter may contain a Bluetooth Low Energy service if the target device advertises the service via SDP. This is required from device which support both, classic Bluetooth (BaseRate) and Low Energy services.</p>
</div>
<p><b>See also </b><a href="./qbluetoothdeviceinfo.htm#coreConfigurations" translate="no">QBluetoothDeviceInfo::coreConfigurations</a>().</p>
<!-- @@@serviceDiscovered -->
<!-- $$$start[overload1]$$$startQBluetoothServiceDiscoveryAgent::DiscoveryMode -->
<h3 class="fn" id="start" translate="no"><a name="start"></a><code translate="no">[slot] </code><span class="type">void</span> QBluetoothServiceDiscoveryAgent::<span class="name">start</span>(<span class="type"><a href="./qbluetoothservicediscoveryagent.htm#DiscoveryMode-enum" translate="no">QBluetoothServiceDiscoveryAgent::DiscoveryMode</a></span> <i>mode</i> = MinimalDiscovery)<a class="plink" href="#start" title="Direct link to this headline"></a></h3>
<p>Starts service discovery. <i translate="no">mode</i> specifies the type of service discovery to perform.</p>
<p>On some platforms, device discovery may lead to pairing requests.</p>
<p><b>See also </b><a href="./qbluetoothservicediscoveryagent.htm#DiscoveryMode-enum" translate="no">DiscoveryMode</a>.</p>
<!-- @@@start -->
<!-- $$$stop[overload1]$$$stop -->
<h3 class="fn" id="stop" translate="no"><a name="stop"></a><code translate="no">[slot] </code><span class="type">void</span> QBluetoothServiceDiscoveryAgent::<span class="name">stop</span>()<a class="plink" href="#stop" title="Direct link to this headline"></a></h3>
<p>Stops the service discovery process. The <a href="./qbluetoothservicediscoveryagent.htm#canceled" translate="no">canceled</a>() signal will be emitted once the search has stopped.</p>
<!-- @@@stop -->
<!-- $$$~QBluetoothServiceDiscoveryAgent[overload1]$$$~QBluetoothServiceDiscoveryAgent -->
<h3 class="fn" id="dtor.QBluetoothServiceDiscoveryAgent" translate="no"><a name="dtor.QBluetoothServiceDiscoveryAgent"></a><code translate="no">[virtual] </code>QBluetoothServiceDiscoveryAgent::<span class="name">~QBluetoothServiceDiscoveryAgent</span>()<a class="plink" href="#dtor.QBluetoothServiceDiscoveryAgent" title="Direct link to this headline"></a></h3>
<p>Destructor for <a href="./qbluetoothservicediscoveryagent.htm" translate="no">QBluetoothServiceDiscoveryAgent</a></p>
<!-- @@@~QBluetoothServiceDiscoveryAgent -->
<!-- $$$discoveredServices[overload1]$$$discoveredServices -->
<h3 class="fn" id="discoveredServices" translate="no"><a name="discoveredServices"></a><span class="type"><a href="./qlist.htm" translate="no">QList</a></span>&lt;<span class="type"><a href="./qbluetoothserviceinfo.htm" translate="no">QBluetoothServiceInfo</a></span>&gt; QBluetoothServiceDiscoveryAgent::<span class="name">discoveredServices</span>() const<a class="plink" href="#discoveredServices" title="Direct link to this headline"></a></h3>
<p>Returns the list of all discovered services.</p>
<p>This list of services accumulates newly discovered services from multiple calls to <a href="./qbluetoothservicediscoveryagent.htm#start" translate="no">start</a>(). Unless <a href="./qbluetoothservicediscoveryagent.htm#clear" translate="no">clear</a>() is called the list cannot decrease in size. This implies that if a remote Bluetooth device moves out of range in between two subsequent calls to <a href="./qbluetoothservicediscoveryagent.htm#start" translate="no">start</a>() the list may contain stale entries.</p>
<div class="admonition note">
<p><b>Note: </b>The list of services should always be cleared before the discovery mode is changed.</p>
</div>
<p><b>See also </b><a href="./qbluetoothservicediscoveryagent.htm#clear" translate="no">clear</a>().</p>
<!-- @@@discoveredServices -->
<!-- $$$error[overload1]$$$error -->
<h3 class="fn" id="error" translate="no"><a name="error"></a><span class="type"><a href="./qbluetoothservicediscoveryagent.htm#Error-enum" translate="no">QBluetoothServiceDiscoveryAgent::Error</a></span> QBluetoothServiceDiscoveryAgent::<span class="name">error</span>() const<a class="plink" href="#error" title="Direct link to this headline"></a></h3>
<p>Returns the type of error that last occurred. If the service discovery is done for a single <a href="./qbluetoothservicediscoveryagent.htm#remoteAddress" translate="no">remoteAddress</a>() it will return errors that occurred while trying to discover services on that device. If the <a href="./qbluetoothservicediscoveryagent.htm#remoteAddress" translate="no">remoteAddress</a>() is not set and devices are discovered by a scan, errors during service discovery on individual devices are not saved and no signals are emitted. In this case, errors are fairly normal as some devices may not respond to discovery or may no longer be in range. Such errors are surpressed. If no services are returned, it can be assumed no services could be discovered.</p>
<!-- @@@error -->
<!-- $$$errorString[overload1]$$$errorString -->
<h3 class="fn" id="errorString" translate="no"><a name="errorString"></a><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QBluetoothServiceDiscoveryAgent::<span class="name">errorString</span>() const<a class="plink" href="#errorString" title="Direct link to this headline"></a></h3>
<p>Returns a human-readable description of the last error that occurred during the service discovery.</p>
<!-- @@@errorString -->
<!-- $$$isActive[overload1]$$$isActive -->
<h3 class="fn" id="isActive" translate="no"><a name="isActive"></a><span class="type">bool</span> QBluetoothServiceDiscoveryAgent::<span class="name">isActive</span>() const<a class="plink" href="#isActive" title="Direct link to this headline"></a></h3>
<p>Returns <code translate="no">true</code> if the service discovery is currently active; otherwise returns <code translate="no">false</code>. An active discovery can be stopped by calling <a href="./qbluetoothservicediscoveryagent.htm#stop" translate="no">stop</a>().</p>
<!-- @@@isActive -->
<!-- $$$remoteAddress[overload1]$$$remoteAddress -->
<h3 class="fn" id="remoteAddress" translate="no"><a name="remoteAddress"></a><span class="type"><a href="./qbluetoothaddress.htm" translate="no">QBluetoothAddress</a></span> QBluetoothServiceDiscoveryAgent::<span class="name">remoteAddress</span>() const<a class="plink" href="#remoteAddress" title="Direct link to this headline"></a></h3>
<p>Returns the remote device address. If <a href="./qbluetoothservicediscoveryagent.htm#setRemoteAddress" translate="no">setRemoteAddress</a>() is not called, the function will return a default constructed <a href="./qbluetoothaddress.htm" translate="no">QBluetoothAddress</a>.</p>
<p><b>See also </b><a href="./qbluetoothservicediscoveryagent.htm#setRemoteAddress" translate="no">setRemoteAddress</a>().</p>
<!-- @@@remoteAddress -->
<!-- $$$setRemoteAddress[overload1]$$$setRemoteAddressconstQBluetoothAddress& -->
<h3 class="fn" id="setRemoteAddress" translate="no"><a name="setRemoteAddress"></a><span class="type">bool</span> QBluetoothServiceDiscoveryAgent::<span class="name">setRemoteAddress</span>(const <span class="type"><a href="./qbluetoothaddress.htm" translate="no">QBluetoothAddress</a></span> &amp;<i>address</i>)<a class="plink" href="#setRemoteAddress" title="Direct link to this headline"></a></h3>
<p>Sets the remote device address to <i translate="no">address</i>. If <i translate="no">address</i> is default constructed, services will be discovered on all contactable Bluetooth devices. A new remote address can only be set while there is no service discovery in progress; otherwise this function returns false.</p>
<p>On some platforms the service discovery might lead to pairing requests. Therefore it is not recommended to do service discoveries on all devices. This function can be used to restrict the service discovery to a particular device.</p>
<p><b>See also </b><a href="./qbluetoothservicediscoveryagent.htm#remoteAddress" translate="no">remoteAddress</a>().</p>
<!-- @@@setRemoteAddress -->
<!-- $$$setUuidFilter[overload1]$$$setUuidFilterconstQList<QBluetoothUuid>& -->
<h3 class="fn" id="setUuidFilter" translate="no"><a name="setUuidFilter"></a><span class="type">void</span> QBluetoothServiceDiscoveryAgent::<span class="name">setUuidFilter</span>(const <span class="type"><a href="./qlist.htm" translate="no">QList</a></span>&lt;<span class="type"><a href="./qbluetoothuuid.htm" translate="no">QBluetoothUuid</a></span>&gt; &amp;<i>uuids</i>)<a class="plink" href="#setUuidFilter" title="Direct link to this headline"></a></h3>
<p>Sets the UUID filter to <i translate="no">uuids</i>. Only services matching the UUIDs in <i translate="no">uuids</i> will be returned. The matching applies to the service's <a href="./qbluetoothserviceinfo.htm#AttributeId-enum" translate="no">ServiceId</a> and <a href="./qbluetoothserviceinfo.htm#AttributeId-enum" translate="no">ServiceClassIds</a> attributes.</p>
<p>An empty UUID list is equivalent to a list containing only <a href="./qbluetoothuuid.htm#ServiceClassUuid-enum" translate="no">QBluetoothUuid::PublicBrowseGroup</a>.</p>
<p><b>See also </b><a href="./qbluetoothservicediscoveryagent.htm#uuidFilter" translate="no">uuidFilter</a>().</p>
<!-- @@@setUuidFilter -->
<!-- $$$setUuidFilter$$$setUuidFilterconstQBluetoothUuid& -->
<h3 class="fn" id="setUuidFilter-1" translate="no"><a name="setUuidFilter-1"></a><span class="type">void</span> QBluetoothServiceDiscoveryAgent::<span class="name">setUuidFilter</span>(const <span class="type"><a href="./qbluetoothuuid.htm" translate="no">QBluetoothUuid</a></span> &amp;<i>uuid</i>)<a class="plink" href="#setUuidFilter-1" title="Direct link to this headline"></a></h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Sets the UUID filter to a list containing the single element <i translate="no">uuid</i>. The matching applies to the service's <a href="./qbluetoothserviceinfo.htm#AttributeId-enum" translate="no">ServiceId</a> and <a href="./qbluetoothserviceinfo.htm#AttributeId-enum" translate="no">ServiceClassIds</a> attributes.</p>
<p><b>See also </b><a href="./qbluetoothservicediscoveryagent.htm#uuidFilter" translate="no">uuidFilter</a>().</p>
<!-- @@@setUuidFilter -->
<!-- $$$uuidFilter[overload1]$$$uuidFilter -->
<h3 class="fn" id="uuidFilter" translate="no"><a name="uuidFilter"></a><span class="type"><a href="./qlist.htm" translate="no">QList</a></span>&lt;<span class="type"><a href="./qbluetoothuuid.htm" translate="no">QBluetoothUuid</a></span>&gt; QBluetoothServiceDiscoveryAgent::<span class="name">uuidFilter</span>() const<a class="plink" href="#uuidFilter" title="Direct link to this headline"></a></h3>
<p>Returns the UUID filter.</p>
<p><b>See also </b><a href="./qbluetoothservicediscoveryagent.htm#setUuidFilter" translate="no">setUuidFilter</a>().</p>
<!-- @@@uuidFilter -->
</div>
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>