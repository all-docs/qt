<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Qt for macOS - Specific Issues</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/macos-issues.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a>Qt for macOS - Specific Issues</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Qt for macOS - Specific Issues</h1>
<span class="subtitle"></span>
<!-- $$$macos-issues.html-description -->
<div class="descr"> <a name="details"></a>
<p>This page outlines the main issues regarding macOS support in Qt. macOS terminologies and specific processes are found at <a href="https://developer.apple.com/" translate="no">https://developer.apple.com/</a>.</p>
<a name="aqua"></a>
<h2 id="aqua">Aqua<a class="plink" href="#aqua" title="Direct link to this headline"></a></h2>
<p>The Aqua style is an essential part of the macOS platform. As with Cocoa, Qt provides widgets that look like those described in the <a href="https://developer.apple.com/design/human-interface-guidelines/macos/overview/themes/" translate="no">macOS Human Interface Guidelines</a>. Note that although Qt's widgets use AppKit under the hood for look and feel, it does not represent each individual Qt Widget as a wrapped native control.</p>
<p>The <a href="./gallery.htm" translate="no">Qt Widget Gallery</a> page contains sample images of applications using the macOS platform theme.</p>
<a name="qt-attributes-for-macos"></a>
<h3 id="qt-attributes-for-macos">Qt Attributes for macOS<a class="plink" href="#qt-attributes-for-macos" title="Direct link to this headline"></a></h3>
<p>The following lists a set of useful attributes that can be used to tweak applications on macOS:</p>
<ul>
<li><a href="./qt.htm#ApplicationAttribute-enum" translate="no">Qt::AA_MacPluginApplication</a></li>
<li><a href="./qt.htm#ApplicationAttribute-enum" translate="no">Qt::AA_DontUseNativeMenuBar</a></li>
<li><a href="./qt.htm#ApplicationAttribute-enum" translate="no">Qt::AA_MacDontSwapCtrlAndMeta</a></li>
<li><a href="./qt.htm#WidgetAttribute-enum" translate="no">Qt::WA_MacNoClickThrough</a></li>
<li><a href="./qt.htm#WidgetAttribute-enum" translate="no">Qt::WA_MacOpaqueSizeGrip</a></li>
<li><a href="./qt.htm#WidgetAttribute-enum" translate="no">Qt::WA_MacShowFocusRect</a></li>
<li><a href="./qt.htm#WidgetAttribute-enum" translate="no">Qt::WA_MacNormalSize</a></li>
<li><a href="./qt.htm#WidgetAttribute-enum" translate="no">Qt::WA_MacSmallSize</a></li>
<li><a href="./qt.htm#WidgetAttribute-enum" translate="no">Qt::WA_MacMiniSize</a></li>
<li><a href="./qt.htm#WidgetAttribute-enum" translate="no">Qt::WA_MacVariableSize</a></li>
<li><a href="./qt.htm#WidgetAttribute-enum" translate="no">Qt::WA_MacBrushedMetal</a></li>
<li><a href="./qt.htm#WidgetAttribute-enum" translate="no">Qt::WA_MacAlwaysShowToolWindow</a></li>
<li><a href="./qt.htm#WidgetAttribute-enum" translate="no">Qt::WA_MacFrameworkScaled</a></li>
<li><a href="./qt.htm#WidgetAttribute-enum" translate="no">Qt::WA_MacNoShadow</a></li>
<li><a href="./qt.htm#WindowType-enum" translate="no">Qt::Sheet</a></li>
<li><a href="./qt.htm#WindowType-enum" translate="no">Qt::Drawer</a></li>
<li><a href="./qt.htm#WindowType-enum" translate="no">Qt::MacWindowToolBarButtonHint</a>,</li>
<li><a href="./qmainwindow.htm#unifiedTitleAndToolBarOnMac-prop" translate="no">QMainWindow::unifiedTitleAndToolBarOnMac</a></li>
</ul>
<p>macOS always double buffers the screen, therefore, the <a href="./qt.htm#WidgetAttribute-enum" translate="no">Qt::WA_PaintOnScreen</a> attribute has no effect. Also it is impossible to paint outside of a paint event so Qt::WA_PaintOutsidePaintEvent has no effect either.</p>
<a name="right-mouse-clicks"></a>
<h3 id="right-mouse-clicks">Right Mouse Clicks<a class="plink" href="#right-mouse-clicks" title="Direct link to this headline"></a></h3>
<p>The <a href="./qcontextmenuevent.htm" translate="no">QContextMenuEvent</a> class provides right mouse click support for macOS applications. This will map to a context menu event, for example, a menu that will display a pop-up selection. This is the most common use of right mouse clicks, and maps to a control-click with the macOS one-button mouse support.</p>
<a name="menu-bar"></a>
<h3 id="menu-bar">Menu Bar<a class="plink" href="#menu-bar" title="Direct link to this headline"></a></h3>
<p>Qt detects menu bars and turns them into Mac native menu bars. Fitting this into existing Qt applications is normally automatic. However, if you have special needs, the Qt implementation currently selects a menu bar by starting at the active window (for example, <a href="./qguiapplication.htm#focusWindow" translate="no">QGuiApplication::focusWindow</a>()) and applying the following tests:</p>
<ol class="1" type="1"><li>If the window has a <a href="./qmenubar.htm" translate="no">QMenuBar</a>, then it is used.</li>
<li>If the window is modal, then its menu bar is used. If no menu bar is specified, then a default menu bar is used (as documented below).</li>
<li>If the window has no parent, then the default menu bar is used (as documented below).</li>
</ol>
<p>These tests are followed all the way up the parent window chain until one of the above rules is satisfied. If all else fails, a default menu bar will be created. The default menu bar on Qt is an empty menu bar. However, you can create a different default menu bar by creating a parentless <a href="./qmenubar.htm" translate="no">QMenuBar</a>. The first one created will be designated the default menu bar and will be used whenever a default menu bar is needed.</p>
<p>Using native menu bars introduces certain limitations on Qt classes. The section with the <a href="./macos-issues.htm#limitations" translate="no">list of limitations</a> below has more information.</p>
<p>Qt provides support for the Global Menu Bar with <a href="./qmenubar.htm" translate="no">QMenuBar</a>. macOS users expect to have a menu bar at the top of the screen and Qt honors this.</p>
<p>Additionally, users expect certain conventions to be respected, for example the application menu should contain <b>About</b>, <b>Preferences</b>, <b>Quit</b>, and so on. Qt handles these conventions, although it does not provide a means of interacting directly with the application menu.</p>
<p>Each <a href="./qaction.htm" translate="no">QAction</a> has a <a href="./qaction.htm#menuRole-prop" translate="no">menuRole</a> property which controls the special placement of application menu items; however by default the <code translate="no">menuRole</code> is <a href="./qaction.htm#MenuRole-enum" translate="no">TextHeuristicRole</a> which mean the menu items will be auto-detected by their <a href="./qaction.htm#text-prop" translate="no">text</a>.</p>
<p>Other standard menu items such as <b>Cut</b>, <b>Copy</b>, <b>Paste</b> and <b>Select All</b> are applicable both in your application and in some native dialogs such as <a href="./qfiledialog.htm" translate="no">QFileDialog</a>. It's important that you create these menu items with the standard shortcuts so that the corresponding editing features will be enabled in the dialogs. At this time there are no <code translate="no">MenuRole</code> identifiers for them, but they will be auto-detected just like the application menu items when the <code translate="no">QAction</code> has the default <a href="./qaction.htm#MenuRole-enum" translate="no">TextHeuristicRole</a>.</p>
<a name="special-keys"></a>
<h3 id="special-keys">Special Keys<a class="plink" href="#special-keys" title="Direct link to this headline"></a></h3>
<p>To provide the expected behavior for Qt applications on macOS, the <a href="./qt.htm#Key-enum" translate="no">Qt::Key_Meta</a>, <a href="./qt.htm#KeyboardModifier-enum" translate="no">Qt::MetaModifier</a>, and <a href="./qt.htm#Modifier-enum" translate="no">Qt::META</a> enum values correspond to the Control keys on the standard Apple keyboard, and the <a href="./qt.htm#Key-enum" translate="no">Qt::Key_Control</a>, <a href="./qt.htm#KeyboardModifier-enum" translate="no">Qt::ControlModifier</a>, and <a href="./qt.htm#Modifier-enum" translate="no">Qt::CTRL</a> enum values correspond to the Command keys.</p>
<a name="dock"></a>
<h3 id="dock">Dock<a class="plink" href="#dock" title="Direct link to this headline"></a></h3>
<p>Interaction with the dock is possible. The icon can be set by calling QWindow::setWindowIcon() from the main window in your application. The setWindowIcon() call can be made as often as necessary, providing an icon that can be easily updated.</p>
<a name="accessiblity"></a>
<h3 id="accessiblity">Accessiblity<a class="plink" href="#accessiblity" title="Direct link to this headline"></a></h3>
<p>Many users interact with macOS with assistive devices. With Qt the aim is to make this automatic in your application so that it conforms to accepted practice on its platform. Qt uses Apple's accessibility framework to provide access to users with disabilities.</p>
<a name="library-and-deployment-support"></a>
<h2 id="library-and-deployment-support">Library and Deployment Support<a class="plink" href="#library-and-deployment-support" title="Direct link to this headline"></a></h2>
<p>Qt provides support for macOS structures such as Frameworks and bundles. It is important to be aware of these structure as they directly affect the deployment of applications.</p>
<p>Qt provides a deploy tool, <a href="./macos-deployment.htm#the-mac-deployment-tool" translate="no">macdeployqt</a>, to simplify the deployment process. The <a href="./macos-deployment.htm" translate="no">Qt for macOS - Deployment</a> article covers the deployment process in more detail.</p>
<a name="qt-libraries-as-frameworks"></a>
<h3 id="qt-libraries-as-frameworks">Qt Libraries as Frameworks<a class="plink" href="#qt-libraries-as-frameworks" title="Direct link to this headline"></a></h3>
<p>By default, Qt is built as a set of frameworks. Frameworks are the macOS preferred way of distributing libraries. The <a href="http://developer.apple.com/documentation/MacOSX/Conceptual/BPFrameworks/index.html" translate="no">Apple's Framework Programming Guide</a> site has far more information about Frameworks.</p>
<p>It is important to remember that Frameworks always link with <i>release</i> versions of libraries. If the <i>debug</i> version of a Qt framework is desired, use the <code translate="no">DYLD_IMAGE_SUFFIX</code> environment variables to ensure that the debug version is loaded:</p>
<div class="pre"><pre class="cpp" translate="no"><span class="keyword">export</span> DYLD_IMAGE_SUFFIX<span class="operator">=</span>_debug</pre></div>
<p>Alternatively, you can temporarily swap your debug and release versions, which is documented in <a href="http://developer.apple.com/technotes/tn2004/tn2124.html#SECJUSTONELIB" translate="no">Apple's "Debugging Magic" technical note</a>.</p>
<p>If you don't want to use frameworks, simply configure Qt with <code translate="no">-no-framework</code>.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="operator">.</span><span class="operator">/</span>configure <span class="operator">-</span>no<span class="operator">-</span>framework</pre></div>
<a name="bundle-based-libraries"></a>
<h3 id="bundle-based-libraries">Bundle-Based Libraries<a class="plink" href="#bundle-based-libraries" title="Direct link to this headline"></a></h3>
<p>If you want to use some dynamic libraries in the macOS application bundle (the application directory), create a subdirectory named <i>Frameworks</i> in the application bundle directory and place your dynamic libraries there. The application will find a dynamic library if it has the install name <i>@executable_path/../Frameworks/libname.dylib</i>.</p>
<p>If you use <code translate="no">qmake</code> and Makefiles, use the <code translate="no">QMAKE_LFLAGS_SONAME</code> setting:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">QMAKE_LFLAGS_SONAME  = -Wl,-install_name,@executable_path/../Frameworks/</pre></div>
<p>Alternatively, you can modify the install name using the <code translate="no">install_name_tool(1)</code> on the command line.</p>
<p>The <code translate="no">DYLD_LIBRARY_PATH</code> environment variable will override these settings, and any other default paths, such as a lookup of dynamic libraries inside <i>/usr/lib</i> and similar default locations.</p>
<p>If you are using older versions of GDB you must run with the full path to the executable. Later versions allow you to pass the bundle name on the command line.</p>
<a name="combining-libraries"></a>
<h3 id="combining-libraries">Combining Libraries<a class="plink" href="#combining-libraries" title="Direct link to this headline"></a></h3>
<p>If you want to build a new dynamic library combining the Qt 4 dynamic libraries, you need to introduce the <code translate="no">ld -r</code> flag. Then relocation information is stored in the output file, so that this file could be the subject of another <code translate="no">ld</code> run. This is done by setting the <code translate="no">-r</code> flag in the <code translate="no">.pro</code> file, and the <code translate="no">LFLAGS</code> settings.</p>
<a name="initialization-order"></a>
<h3 id="initialization-order">Initialization Order<a class="plink" href="#initialization-order" title="Direct link to this headline"></a></h3>
<p><code translate="no">dyld(1)</code> calls global static initializers in the order they are linked into the application. If a library links against Qt and references the globals in Qt (from global initializers in your own library), link the application against Qt before linking it against the library. Otherwise the result will be undefined because Qt's global initializers have not been called yet.</p>
<a name="compile-time-flags"></a>
<h2 id="compile-time-flags">Compile-Time Flags<a class="plink" href="#compile-time-flags" title="Direct link to this headline"></a></h2>
<p>The following flags are helpful when you want to define macOS specific code:</p>
<ul>
<li><code translate="no">Q_OS_DARWIN</code> is defined when Qt detects you are on a Darwin-based system such as macOS or iOS.</li>
<li><code translate="no">Q_OS_MACOS</code> is defined when you are on an macOS system.</li>
</ul>
<div class="admonition note">
<p><b>Note: </b><code translate="no">Q_WS_MAC</code> is no longer defined in Qt 5.</p>
</div>
<p>If you want to define code for specific versions of macOS, use the availability macros defined in <i>/usr/include/AvailabilityMacros.h</i>.</p>
<p>The <a href="./qsysinfo.htm" translate="no">QSysInfo</a> documentation has information about runtime version checking.</p>
<a name="macos-native-api-access"></a>
<h2 id="macos-native-api-access">macOS Native API Access<a class="plink" href="#macos-native-api-access" title="Direct link to this headline"></a></h2>
<a name="accessing-the-bundle-path"></a>
<h3 id="accessing-the-bundle-path">Accessing the Bundle Path<a class="plink" href="#accessing-the-bundle-path" title="Direct link to this headline"></a></h3>
<p>macOS applications are structured as a directory (ending with <i>.app</i>). This directory contains sub-directories and files. It may be useful to place items, such as plugins and online documentation, inside this bundle. The following code returns the path of the application bundle:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="preprocessor">#ifdef Q_OS_MAC</span>
    CFURLRef appUrlRef <span class="operator">=</span> CFBundleCopyBundleURL(CFBundleGetMainBundle());
    CFStringRef macPath <span class="operator">=</span> CFURLCopyFileSystemPath(appUrlRef<span class="operator">,</span>
                                           kCFURLPOSIXPathStyle);
    <span class="keyword">const</span> <span class="type">char</span> <span class="operator">*</span>pathPtr <span class="operator">=</span> CFStringGetCStringPtr(macPath<span class="operator">,</span>
                                           CFStringGetSystemEncoding());
    <a href="./qtglobal.htm#qDebug" translate="no">qDebug</a>(<span class="string">"Path = %s"</span><span class="operator">,</span> pathPtr);
    CFRelease(appUrlRef);
    CFRelease(macPath);
<span class="preprocessor">#endif</span></pre></div>
<div class="admonition note">
<p><b>Note: </b>When macOS is set to use Japanese, a bug causes this sequence to fail and return an empty string. Therefore, always test the returned string.</p>
</div>
<p>For more information about using the CFBundle API, visit <a href="http://developer.apple.com/documentation/CoreFoundation/Reference/CFBundleRef/index.html" translate="no">Apple's Developer Website</a>.</p>
<p><a href="./qcoreapplication.htm#applicationDirPath" translate="no">QCoreApplication::applicationDirPath</a>() can be used to determine the path of the binary within the bundle.</p>
<a name="translating-the-application-menu-and-native-dialogs"></a>
<h3 id="translating-the-application-menu-and-native-dialogs">Translating the Application Menu and Native Dialogs<a class="plink" href="#translating-the-application-menu-and-native-dialogs" title="Direct link to this headline"></a></h3>
<p>The items in the Application Menu will be merged correctly for localized applications, but they will not show up translated until the application bundle contains a localized resource folder. to the application bundle.</p>
<p>Essentially, there needs to be a file called <i>locversion.plist</i>. Here is an example of an application with Norwegian localization:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="operator">&lt;</span><span class="operator">?</span>xml version<span class="operator">=</span><span class="string">"1.0"</span> encoding<span class="operator">=</span><span class="string">"UTF-8"</span><span class="operator">?</span><span class="operator">&gt;</span>
<span class="operator">&lt;</span><span class="operator">!</span>DOCTYPE plist PUBLIC <span class="string">"-//Apple Computer//DTD PLIST 1.0//EN"</span>
<span class="string">"http://www.apple.com/DTDs/PropertyList-1.0.dtd"</span><span class="operator">&gt;</span>
<span class="operator">&lt;</span>plist version<span class="operator">=</span><span class="string">"1.0"</span><span class="operator">&gt;</span>
<span class="operator">&lt;</span>dict<span class="operator">&gt;</span>
    <span class="operator">&lt;</span>key<span class="operator">&gt;</span>LprojCompatibleVersion<span class="operator">&lt;</span><span class="operator">/</span>key<span class="operator">&gt;</span>
    <span class="operator">&lt;</span>string<span class="operator">&gt;</span><span class="number">123</span><span class="operator">&lt;</span><span class="operator">/</span>string<span class="operator">&gt;</span>
    <span class="operator">&lt;</span>key<span class="operator">&gt;</span>LprojLocale<span class="operator">&lt;</span><span class="operator">/</span>key<span class="operator">&gt;</span>
    <span class="operator">&lt;</span>string<span class="operator">&gt;</span>no<span class="operator">&lt;</span><span class="operator">/</span>string<span class="operator">&gt;</span>
    <span class="operator">&lt;</span>key<span class="operator">&gt;</span>LprojRevisionLevel<span class="operator">&lt;</span><span class="operator">/</span>key<span class="operator">&gt;</span>
    <span class="operator">&lt;</span>string<span class="operator">&gt;</span><span class="number">1</span><span class="operator">&lt;</span><span class="operator">/</span>string<span class="operator">&gt;</span>
    <span class="operator">&lt;</span>key<span class="operator">&gt;</span>LprojVersion<span class="operator">&lt;</span><span class="operator">/</span>key<span class="operator">&gt;</span>
    <span class="operator">&lt;</span>string<span class="operator">&gt;</span><span class="number">123</span><span class="operator">&lt;</span><span class="operator">/</span>string<span class="operator">&gt;</span>
<span class="operator">&lt;</span><span class="operator">/</span>dict<span class="operator">&gt;</span>
<span class="operator">&lt;</span><span class="operator">/</span>plist<span class="operator">&gt;</span></pre></div>
<p>Afterwards, when the application is run with the preferred language set to Norwegian, the menu items should display <b>Avslutt</b> instead of <b>Quit</b>.</p>
<p>The <a href="http://developer.apple.com/library/mac/#documentation/CoreFoundation/Conceptual/CFBundles/BundleTypes/BundleTypes.html%23//apple_ref/doc/uid/10000123i-CH101-SW13" translate="no">Bundle Programming Guide</a> contains information about bundles and the localized resource folder.</p>
<a name="mixing-qt-with-native-code"></a>
<h3 id="mixing-qt-with-native-code">Mixing Qt with Native Code<a class="plink" href="#mixing-qt-with-native-code" title="Direct link to this headline"></a></h3>
<p>Two classes are available for adding native Cocoa views and controls inside a Qt application, or for embedding Qt into a native Cocoa application: QMacCocoaViewContainer, and QMacNativeWidget.</p>
<a name="using-native-cocoa-panels"></a>
<h3 id="using-native-cocoa-panels">Using Native Cocoa Panels<a class="plink" href="#using-native-cocoa-panels" title="Direct link to this headline"></a></h3>
<p>Qt's event dispatcher is more flexible than what Cocoa offers, and lets the user spin the event dispatcher (and running <a href="./qeventloop.htm#exec" translate="no">QEventLoop::exec</a>) without having to think about whether or not modal dialogs are showing on screen (which is a difference compared to Cocoa). Therefore, we need to do extra management in Qt to handle this correctly, which unfortunately makes mixing native panels hard. The best way at the moment to do this, is to follow the pattern below, where we post the call to the function with native code rather than calling it directly. Then we know that Qt has cleanly updated any pending event loop recursions before the native panel is shown:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="preprocessor">#include &lt;QtGui&gt;</span>

<span class="keyword">class</span> NativeProxyObject : <span class="keyword">public</span> <span class="type"><a href="./qobject.htm" translate="no">QObject</a></span>
{
    Q_OBJECT
<span class="keyword">public</span> <span class="keyword">slots</span>:
    <span class="type">void</span> execNativeDialogLater()
    {
        <span class="type"><a href="./qmetaobject.htm" translate="no">QMetaObject</a></span><span class="operator">::</span>invokeMethod(<span class="keyword">this</span><span class="operator">,</span> <span class="string">"execNativeDialogNow"</span><span class="operator">,</span> <span class="type"><a href="./qt.htm" translate="no">Qt</a></span><span class="operator">::</span>QueuedConnection);
    }

    <span class="type">void</span> execNativeDialogNow()
    {
        NSRunAlertPanel(@<span class="string">"A Native dialog"</span><span class="operator">,</span> @<span class="string">""</span><span class="operator">,</span> @<span class="string">"OK"</span><span class="operator">,</span> @<span class="string">""</span><span class="operator">,</span> @<span class="string">""</span>);
    }

};

<span class="preprocessor">#include "main.moc"</span>

<span class="type">int</span> main(<span class="type">int</span> argc<span class="operator">,</span> <span class="type">char</span> <span class="operator">*</span><span class="operator">*</span>argv){
    <span class="type"><a href="./qapplication.htm" translate="no">QApplication</a></span> app(argc<span class="operator">,</span> argv);
    NativeProxyObject proxy;
    <span class="type"><a href="./qpushbutton.htm" translate="no">QPushButton</a></span> button(<span class="string">"Show native dialog"</span>);
    <span class="type"><a href="./qobject.htm" translate="no">QObject</a></span><span class="operator">::</span>connect(<span class="operator">&amp;</span>button<span class="operator">,</span> SIGNAL(clicked())<span class="operator">,</span> <span class="operator">&amp;</span>proxy<span class="operator">,</span> SLOT(execNativeDialogLater()));
    button<span class="operator">.</span>show();
    <span class="keyword">return</span> app<span class="operator">.</span>exec();
}</pre></div>
<a name="limitations"></a>
<h2 id="limitations">Limitations<a class="plink" href="#limitations" title="Direct link to this headline"></a></h2>
<a name="mysql-and-macos"></a>
<h3 id="mysql-and-macos">MySQL and macOS<a class="plink" href="#mysql-and-macos" title="Direct link to this headline"></a></h3>
<p>There seems to be a issue when both <code translate="no">-prebind</code> and <code translate="no">-multi_module</code> are defined when linking static C libraries into dynamic libraries. If you get the following error message when linking Qt:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">ld: common symbols <span class="keyword">not</span> allowed with MH_DYLIB output format with the <span class="operator">-</span>multi_module option
<span class="operator">/</span>usr<span class="operator">/</span>local<span class="operator">/</span>mysql<span class="operator">/</span>lib<span class="operator">/</span>libmysqlclient<span class="operator">.</span>a(my_error<span class="operator">.</span>o) definition of common _errbuff (size <span class="number">512</span>)
<span class="operator">/</span>usr<span class="operator">/</span>bin<span class="operator">/</span>libtool: internal link edit command failed</pre></div>
<p>re-link Qt using -single_module. This is only a problem when building the MySQL driver into Qt. It does not affect plugins or static builds.</p>
<a name="d-bus-and-macos"></a>
<h3 id="d-bus-and-macos">D-Bus and macOS<a class="plink" href="#d-bus-and-macos" title="Direct link to this headline"></a></h3>
<p>The <a href="./qtdbus-index.htm" translate="no">QtDBus</a> module defaults to dynamically loading the libdbus-1 library on macOS. That means applications linking against the <a href="./qtdbus-index.htm" translate="no">QtDBus</a> module will load even on macOS systems that do not have the libraries, but they will fail to connect to any D-Bus server and they will fail to open a server using <a href="./qdbusserver.htm" translate="no">QDBusServer</a>.</p>
<p>To use D-Bus functionality, you need to install the libdbus-1 library, for example through Homebrew, Fink or MacPorts. You may want to include those libraries in your application's bundle if you're deploying to other systems. Additionally, note that there is no system bus on macOS and that the session bus will only be started after launchd is configured to manage it.</p>
<a name="menu-actions"></a>
<h3 id="menu-actions">Menu Actions<a class="plink" href="#menu-actions" title="Direct link to this headline"></a></h3>
<ul>
<li>Actions in a <a href="./qmenu.htm" translate="no">QMenu</a> with accelerators that have more than one keystroke (<a href="./qkeysequence.htm" translate="no">QKeySequence</a>) will not display correctly, when the <a href="./qmenu.htm" translate="no">QMenu</a> is translated into a Mac native menu bar. The first key will be displayed. However, the shortcut will still be activated as on all other platforms.</li>
<li><a href="./qmenu.htm" translate="no">QMenu</a> objects used in the native menu bar are not able to handle Qt events via the normal event handlers. Install a delegate on the menu itself to be notified of these changes. Alternatively, consider using the <a href="./qmenu.htm#aboutToShow" translate="no">QMenu::aboutToShow</a>() and <a href="./qmenu.htm#aboutToHide" translate="no">QMenu::aboutToHide</a>() signals to keep track of menu visibility; these provide a solution that should work on all platforms supported by Qt.</li>
<li>By default, Qt creates a native <b>Quit</b> menu item that will react to the <code translate="no">CMD+Q</code> shortcut. Creating a <a href="./qaction.htm" translate="no">QAction</a> for the <a href="./qaction.htm#MenuRole-enum" translate="no">QAction::QuitRole</a> role will replace that menu item. Therefore, the replacement action should be connected to either the <a href="./qcoreapplication.htm#quit" translate="no">QCoreApplication::quit</a> slot, or a custom slot that stops the application.</li>
</ul>
<a name="native-widgets"></a>
<h3 id="native-widgets">Native Widgets<a class="plink" href="#native-widgets" title="Direct link to this headline"></a></h3>
<p>Qt has support for sheets, represented by the window flag, <a href="./qt.htm#WindowType-enum" translate="no">Qt::Sheet</a>.</p>
<p>Usually, when referring to a native macOS application, <i>native</i> means an application that interfaces directly to the underlying window system, rather than one that uses some intermediary layer. Qt applications run as first class citizens, just like Cocoa applications. We use Cocoa internally to communicate with the operating system.</p>
</div>
<!-- @@@macos-issues.html -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>