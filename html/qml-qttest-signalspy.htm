<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>SignalSpy QML Type | Qt Quick Test</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/qml-qttest-signalspy.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtquicktest-index.htm" translate="no">Qt Quick Test</a></li>
                            <li><a href="./qttest-qmlmodule.htm" translate="no">QML Types</a></li>
                            <li><a>SignalSpy QML Type</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title" translate="no">SignalSpy QML Type</h1>
<span class="subtitle" translate="no"></span>
<!-- $$$SignalSpy-brief -->
<p>Enables introspection of signal emission. <a href="#details">More...</a></p>
<!-- @@@SignalSpy -->
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> Import Statement:</td><td class="memItemRight bottomAlign"> import QtTest 1.15</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign"> Qt 4.8</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Inherits:</td><td class="memItemRight bottomAlign"> <p><a href="./qml-qtquick-item.htm" translate="no">Item</a></p>
</td></tr></tbody></table></div><ul>
<li><a href="./qml-qttest-signalspy-members.htm">List of all members, including inherited members</a></li>
</ul>
<a name="properties"></a>
<h2 id="properties">Properties<a class="plink" href="#properties" title="Direct link to this headline"></a></h2>
<ul>
<li class="fn" translate="no"><b><b><a href="./qml-qttest-signalspy.htm#count-prop" translate="no">count</a></b></b> : int</li>
<li class="fn" translate="no"><b><b><a href="./qml-qttest-signalspy.htm#signalArguments-prop" translate="no">signalArguments</a></b></b> : list</li>
<li class="fn" translate="no"><b><b><a href="./qml-qttest-signalspy.htm#signalName-prop" translate="no">signalName</a></b></b> : string</li>
<li class="fn" translate="no"><b><b><a href="./qml-qttest-signalspy.htm#target-prop" translate="no">target</a></b></b> : var</li>
<li class="fn" translate="no"><b><b><a href="./qml-qttest-signalspy.htm#valid-prop" translate="no">valid</a></b></b> : bool</li>
</ul>
<a name="methods"></a>
<h2 id="methods">Methods<a class="plink" href="#methods" title="Direct link to this headline"></a></h2>
<ul>
<li class="fn" translate="no"><b><b><a href="./qml-qttest-signalspy.htm#clear-method" translate="no">clear</a></b></b>()</li>
<li class="fn" translate="no"><b><b><a href="./qml-qttest-signalspy.htm#wait-method" translate="no">wait</a></b></b>(<i>timeout</i>)</li>
</ul>
<!-- $$$SignalSpy-description -->
<a name="details"></a>
<h2 id="details">Detailed Description<a class="plink" href="#details" title="Direct link to this headline"></a></h2>
<p>In the following example, a SignalSpy is installed to watch the "clicked" signal on a user-defined Button type. When the signal is emitted, the <a href="./qml-qttest-signalspy.htm#count-prop" translate="no">count</a> property on the spy will be increased.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">Button {
    id: button
    SignalSpy {
        id: spy
        target: button
        signalName: <span class="string">"clicked"</span>
    }
    TestCase {
        name: <span class="string">"ButtonClick"</span>
        function test_click() {
            compare(spy<span class="operator">.</span>count<span class="operator">,</span> <span class="number">0</span>)
            button<span class="operator">.</span>clicked();
            compare(spy<span class="operator">.</span>count<span class="operator">,</span> <span class="number">1</span>)
        }
    }
}</pre></div>
<p>The above style of test is suitable for signals that are emitted synchronously. For asynchronous signals, the <a href="./qml-qttest-signalspy.htm#wait-method" translate="no">wait()</a> method can be used to block the test until the signal occurs (or a timeout expires).</p>
<p><b>See also </b><a href="./qml-qttest-testcase.htm" translate="no">TestCase</a> and <a href="./qtquicktest-index.htm" translate="no">Qt Quick Test</a>.</p>
<!-- @@@SignalSpy -->
<h2>Property Documentation</h2>
<!-- $$$count -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tbody><tr class="odd" id="count-prop" valign="top">
<td class="tblQmlPropNode"><p>
<a name="count-prop"></a><span class="qmlreadonly">[read-only] </span><span class="name">count</span> : <span class="type"><a href="./qml-int.htm" translate="no">int</a></span><a class="plink" href="#count-prop" title="Direct link to this headline"></a></p></td></tr>
</tbody></table></div></div>
<div class="qmldoc"><p>This property defines the number of times that <a href="./qml-qttest-signalspy.htm#signalName-prop" translate="no">signalName</a> has been emitted from <a href="./qml-qttest-signalspy.htm#target-prop" translate="no">target</a> since the last call to <a href="./qml-qttest-signalspy.htm#clear-method" translate="no">clear()</a>.</p>
<p><b>See also </b><a href="./qml-qttest-signalspy.htm#target-prop" translate="no">target</a>, <a href="./qml-qttest-signalspy.htm#signalName-prop" translate="no">signalName</a>, and <a href="./qml-qttest-signalspy.htm#clear-method" translate="no">clear()</a>.</p>
</div></div><!-- @@@count -->
<br>
<!-- $$$signalArguments -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tbody><tr class="odd" id="signalArguments-prop" valign="top">
<td class="tblQmlPropNode"><p>
<a name="signalArguments-prop"></a><span class="qmlreadonly">[read-only] </span><span class="name">signalArguments</span> : <span class="type"><a href="./qml-list.htm" translate="no">list</a></span><a class="plink" href="#signalArguments-prop" title="Direct link to this headline"></a></p></td></tr>
</tbody></table></div></div>
<div class="qmldoc"><p>This property holds a list of emitted signal arguments. Each emission of the signal will append one item to the list, containing the arguments of the signal. When connecting to a new <a href="./qml-qttest-signalspy.htm#target-prop" translate="no">target</a> or new <a href="./qml-qttest-signalspy.htm#signalName-prop" translate="no">signalName</a> or calling the <a href="./qml-qttest-signalspy.htm#clear-method" translate="no">clear()</a> method, the signalArguments will be reset to empty.</p>
<p><b>See also </b><a href="./qml-qttest-signalspy.htm#signalName-prop" translate="no">signalName</a> and <a href="./qml-qttest-signalspy.htm#clear-method" translate="no">clear()</a>.</p>
</div></div><!-- @@@signalArguments -->
<br>
<!-- $$$signalName -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tbody><tr class="odd" id="signalName-prop" valign="top">
<td class="tblQmlPropNode"><p>
<a name="signalName-prop"></a><span class="name">signalName</span> : <span class="type"><a href="./qml-string.htm" translate="no">string</a></span><a class="plink" href="#signalName-prop" title="Direct link to this headline"></a></p></td></tr>
</tbody></table></div></div>
<div class="qmldoc"><p>This property defines the name of the signal on <a href="./qml-qttest-signalspy.htm#target-prop" translate="no">target</a> to listen for.</p>
<p><b>See also </b><a href="./qml-qttest-signalspy.htm#target-prop" translate="no">target</a> and <a href="./qml-qttest-signalspy.htm#count-prop" translate="no">count</a>.</p>
</div></div><!-- @@@signalName -->
<br>
<!-- $$$target -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tbody><tr class="odd" id="target-prop" valign="top">
<td class="tblQmlPropNode"><p>
<a name="target-prop"></a><span class="name">target</span> : <span class="type"><a href="./qml-var.htm" translate="no">var</a></span><a class="plink" href="#target-prop" title="Direct link to this headline"></a></p></td></tr>
</tbody></table></div></div>
<div class="qmldoc"><p>This property defines the target object that will be used to listen for emissions of the <a href="./qml-qttest-signalspy.htm#signalName-prop" translate="no">signalName</a> signal.</p>
<p><b>See also </b><a href="./qml-qttest-signalspy.htm#signalName-prop" translate="no">signalName</a> and <a href="./qml-qttest-signalspy.htm#count-prop" translate="no">count</a>.</p>
</div></div><!-- @@@target -->
<br>
<!-- $$$valid -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tbody><tr class="odd" id="valid-prop" valign="top">
<td class="tblQmlPropNode"><p>
<a name="valid-prop"></a><span class="qmlreadonly">[read-only] </span><span class="name">valid</span> : <span class="type"><a href="./qml-bool.htm" translate="no">bool</a></span><a class="plink" href="#valid-prop" title="Direct link to this headline"></a></p></td></tr>
</tbody></table></div></div>
<div class="qmldoc"><p>This property defines the current signal connection status. It will be true when the <a href="./qml-qttest-signalspy.htm#signalName-prop" translate="no">signalName</a> of the <a href="./qml-qttest-signalspy.htm#target-prop" translate="no">target</a> is connected successfully, otherwise it will be false.</p>
<p><b>See also </b><a href="./qml-qttest-signalspy.htm#count-prop" translate="no">count</a>, <a href="./qml-qttest-signalspy.htm#target-prop" translate="no">target</a>, <a href="./qml-qttest-signalspy.htm#signalName-prop" translate="no">signalName</a>, and <a href="./qml-qttest-signalspy.htm#clear-method" translate="no">clear()</a>.</p>
</div></div><!-- @@@valid -->
<br>
<h2>Method Documentation</h2>
<!-- $$$clear[overload1]$$$clear -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tbody><tr class="odd" id="clear-method" valign="top">
<td class="tblQmlFuncNode"><p>
<a name="clear-method"></a><span class="name">clear</span>()<a class="plink" href="#clear-method" title="Direct link to this headline"></a></p></td></tr>
</tbody></table></div></div>
<div class="qmldoc"><p>Clears <a href="./qml-qttest-signalspy.htm#count-prop" translate="no">count</a> to 0, resets <a href="./qml-qttest-signalspy.htm#valid-prop" translate="no">valid</a> to false and clears the <a href="./qml-qttest-signalspy.htm#signalArguments-prop" translate="no">signalArguments</a> to empty.</p>
<p><b>See also </b><a href="./qml-qttest-signalspy.htm#count-prop" translate="no">count</a> and <a href="./qml-qttest-signalspy.htm#wait-method" translate="no">wait()</a>.</p>
</div></div><!-- @@@clear -->
<br>
<!-- $$$wait[overload1]$$$wait -->
<div class="qmlitem"><div class="qmlproto" translate="no">
<div class="table"><table class="qmlname">
<tbody><tr class="odd" id="wait-method" valign="top">
<td class="tblQmlFuncNode"><p>
<a name="wait-method"></a><span class="name">wait</span>(<i>timeout</i> = 5000)<a class="plink" href="#wait-method" title="Direct link to this headline"></a></p></td></tr>
</tbody></table></div></div>
<div class="qmldoc"><p>Waits for the signal <a href="./qml-qttest-signalspy.htm#signalName-prop" translate="no">signalName</a> on <a href="./qml-qttest-signalspy.htm#target-prop" translate="no">target</a> to be emitted, for up to <i translate="no">timeout</i> milliseconds. The test case will fail if the signal is not emitted.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">SignalSpy {
    id: spy
    target: button
    signalName: <span class="string">"clicked"</span>
}

function test_async_click() {
    <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span>
    <span class="comment">// do something that will cause clicked() to be emitted</span>
    <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span>
    spy<span class="operator">.</span>wait()
    compare(spy<span class="operator">.</span>count<span class="operator">,</span> <span class="number">1</span>)
}</pre></div>
<p>There are two possible scenarios: the signal has already been emitted when wait() is called, or the signal has not yet been emitted. The wait() function handles the first scenario by immediately returning if the signal has already occurred.</p>
<p>The <a href="./qml-qttest-signalspy.htm#clear-method" translate="no">clear()</a> method can be used to discard information about signals that have already occurred to synchronize wait() with future signal emissions.</p>
<p><b>See also </b><a href="./qml-qttest-signalspy.htm#clear-method" translate="no">clear()</a> and <a href="./qml-qttest-testcase.htm#tryCompare-method" translate="no">TestCase::tryCompare()</a>.</p>
</div></div><!-- @@@wait -->
<br>
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>