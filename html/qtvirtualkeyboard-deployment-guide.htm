<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Deployment Guide | Qt Virtual Keyboard</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/qtvirtualkeyboard-deployment-guide.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtvirtualkeyboard-index.htm" translate="no">Qt Virtual Keyboard</a></li>
                            <li class="last"><a>Deployment Guide</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Deployment Guide</h1>
<span class="subtitle"></span>
<!-- $$$qtvirtualkeyboard-deployment-guide.html-description -->
<div class="descr"> <a name="details"></a>
<a name="overview"></a>
<h2 id="overview">Overview<a class="plink" href="#overview" title="Direct link to this headline"></a></h2>
<p>This document describes how to deploy and use the Qt Virtual Keyboard plugin with Qt applications.</p>
<a name="deployment"></a>
<h2 id="deployment">Deployment<a class="plink" href="#deployment" title="Direct link to this headline"></a></h2>
<p>The various Qt Virtual Keyboard plugins and files are deployed in the following locations:</p>
<div class="table"><table class="generic">
<thead><tr class="qt-style"><th>Item</th><th>Desktop install path</th><th><a href="https://doc.qt.io/QtForDeviceCreation-5.15/qtb2-index.html" translate="no">Boot2Qt</a> install path</th></tr></thead>
<tbody><tr class="odd" valign="top"><td>qtvirtualkeyboardplugin</td><td><code translate="no">&lt;QT_INSTALL_PLUGINS&gt;/platforminputcontexts</code></td><td><code translate="no">/system/plugins/platforminputcontexts</code></td></tr>
<tr class="even" valign="top"><td>qtvirtualkeyboardextensionplugin</td><td><code translate="no">&lt;QT_INSTALL_PLUGINS&gt;/virtualkeyboard</code></td><td><code translate="no">/system/plugins/virtualkeyboard</code></td></tr>
<tr class="odd" valign="top"><td>qtvirtualkeyboardplugin QML files</td><td><code translate="no">&lt;QT_INSTALL_QML&gt;/QtQuick/VirtualKeyboard</code></td><td><code translate="no">/system/qml/QtQuick/VirtualKeyboard</code></td></tr>
<tr class="even" valign="top"><td>qtvirtualkeyboardstylesplugin</td><td><code translate="no">&lt;QT_INSTALL_QML&gt;/QtQuick/VirtualKeyboard/Styles</code></td><td><code translate="no">/system/qml/QtQuick/VirtualKeyboard/Styles</code></td></tr>
</tbody></table></div>
<a name="dependencies"></a>
<h3 id="dependencies">Dependencies<a class="plink" href="#dependencies" title="Direct link to this headline"></a></h3>
<p>The Qt Virtual Keyboard plugin <i>(qtvirtualkeyboardplugin)</i> has a dependency to the <i>libQtQtMajorVersion</i><i>VirtualKeyboard</i> library. In addition, the plugin depends on Qt Quick. Therefore, a stand-alone application based on <a href="./qtwidgets-index.htm" translate="no">Qt Widgets</a> must deploy also the <i>libQtQtMajorVersion</i><i>Quick</i> library and its dependencies in order to use the virtual keyboard.</p>
<p>Read more at <a href="./deployment.htm#deploying-qt-s-libraries" translate="no">Deploying Qt's Libraries</a>.</p>
<a name="integration-method"></a>
<h2 id="integration-method">Integration Method<a class="plink" href="#integration-method" title="Direct link to this headline"></a></h2>
<p>Qt Virtual Keyboard currently supports two alternative integration methods for using the plugin:</p>
<ul>
<li><code translate="no">Desktop</code>: requires no changes to existing applications. The virtual keyboard is available to all Qt applications in the system.<p>In this integration method, the keyboard is shown in a dedicated top-level window.</p>
</li>
<li><code translate="no">Application</code>: the virtual keyboard is embedded within the Qt application itself by instantiating an <a href="./qml-qtquick-virtualkeyboard-inputpanel.htm" translate="no">InputPanel</a> item in QML.<p>This method is mandatory in environments where there is no support for multiple top-level windows (such as embedded devices), but can be used in desktop applications too.</p>
<p>This method can also be used by Qt Wayland compositors in order to provide a server-side virtual keyboard. See the section below for details.</p>
</li>
</ul>
<p>The integration method is automatically selected by the project files. However, in desktop environments, it is possible to override the desktop integration method and use the application integration method instead, by using the <code translate="no">QT_VIRTUALKEYBOARD_DESKTOP_DISABLE</code> environment variable, or by adding <code translate="no">CONFIG+=disable-desktop</code> to the <code translate="no">qmake</code> command line.</p>
<a name="using-qt-virtual-keyboard-with-qt-wayland"></a>
<h3 id="using-qt-virtual-keyboard-with-qt-wayland">Using Qt Virtual Keyboard with Qt Wayland<a class="plink" href="#using-qt-virtual-keyboard-with-qt-wayland" title="Direct link to this headline"></a></h3>
<p>This section explains how to use Qt Virtual Keyboard to interact with the <a href="./qtwidgets-widgets-lineedits-example.htm" translate="no">Qt Widgets Line Edits example</a> using the <a href="./qtwaylandcompositor-pure-qml-example.htm" translate="no">Pure QML example</a> as a compositor.</p>
<p>We will be using Ubuntu 18.04 to run the example, using the X11 as the windowing system. The example compositor (<code translate="no">pure-qml</code>) will open as a window within an X11 session.</p>
<ol class="1" type="1"><li>Start the compositor:<div class="pre"><pre class="cpp plain" translate="no">QT_XCB_GL_INTEGRATION=xcb_egl QT_WAYLAND_CLIENT_BUFFER_INTEGRATION=xcomposite-egl QT_IM_MODULE=qtvirtualkeyboard ./pure-qml -platform xcb</pre></div>
</li>
<li>Before running the client application, ensure that QT_IM_MODULE is unset:<div class="pre"><pre class="cpp plain" translate="no">unset QT_IM_MODULE</pre></div>
</li>
<li>Start the Line Edits example as the client:<div class="pre"><pre class="cpp plain" translate="no">./lineedits -platform wayland</pre></div>
</li>
<li>Click on a line edit and Qt Virtual Keyboard's input panel will open.</li>
</ol>
<p>If issues are encountered, the following environment variables can be set when running the compositor to get debug output that can help diagnose the issue:</p>
<div class="pre"><pre class="cpp plain" translate="no">WAYLAND_DEBUG=1
QT_LOGGING_RULES="qt.virtualkeyboard=true;qt.qpa.wayland*=true"</pre></div>
<a name="loading-the-plugin"></a>
<h2 id="loading-the-plugin">Loading the Plugin<a class="plink" href="#loading-the-plugin" title="Direct link to this headline"></a></h2>
<p>In both integration methods, the application must use the <code translate="no">QT_IM_MODULE</code> environment variable to load the plugin. For example:</p>
<div class="pre"><pre class="cpp" translate="no">$ QT_IM_MODULE<span class="operator">=</span>qtvirtualkeyboard myapp</pre></div>
<p>or in the main() function:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">qputenv(<span class="string">"QT_IM_MODULE"</span><span class="operator">,</span> <span class="type"><a href="./qbytearray.htm" translate="no">QByteArray</a></span>(<span class="string">"qtvirtualkeyboard"</span>));</pre></div>
<p>In the desktop integration method, this step is all that is required to use Qt Virtual Keyboard. In the application integration method, the application is required to create an instance of <a href="./qml-qtquick-virtualkeyboard-inputpanel.htm" translate="no">InputPanel</a> as explained in the following chapter.</p>
<a name="creating-inputpanel"></a>
<h2 id="creating-inputpanel">Creating InputPanel<a class="plink" href="#creating-inputpanel" title="Direct link to this headline"></a></h2>
<p>The following example shows how to create an <a href="./qml-qtquick-virtualkeyboard-inputpanel.htm" translate="no">InputPanel</a> and how to divide the screen area with the application container.</p>
<div class="pre"><pre class="cpp" translate="no">import <span class="type"><a href="./qtquick-module.htm" translate="no">QtQuick</a></span> <span class="number">2.0</span>
import <span class="type"><a href="./qtquick-module.htm" translate="no">QtQuick</a></span><span class="operator">.</span>VirtualKeyboard <span class="number">2.1</span>

Item {
    id: root
    Item {
        id: appContainer
        anchors<span class="operator">.</span>left: parent<span class="operator">.</span>left
        anchors<span class="operator">.</span>top: parent<span class="operator">.</span>top
        anchors<span class="operator">.</span>right: parent<span class="operator">.</span>right
        anchors<span class="operator">.</span>bottom: inputPanel<span class="operator">.</span>top
        <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span>
    }
    InputPanel {
        id: inputPanel
        y: <span class="type"><a href="./qt.htm" translate="no">Qt</a></span><span class="operator">.</span>inputMethod<span class="operator">.</span>visible <span class="operator">?</span> parent<span class="operator">.</span>height <span class="operator">-</span> inputPanel<span class="operator">.</span>height : parent<span class="operator">.</span>height
        anchors<span class="operator">.</span>left: parent<span class="operator">.</span>left
        anchors<span class="operator">.</span>right: parent<span class="operator">.</span>right
    }
}</pre></div>
<p>The input panel must be a sibling element next to the application container. It is important not to put the input panel within the application container, as it would then overlap with the contents of the application. Also, the input panel height will be automatically updated according to the available width; the aspect ratio of the input panel is constant.</p>
<a name="environment-variables"></a>
<h2 id="environment-variables">Environment Variables<a class="plink" href="#environment-variables" title="Direct link to this headline"></a></h2>
<p>There are several environment variables defined by the module that are listed below:</p>
<div class="table"><table class="generic">
<thead><tr class="qt-style"><th>Variable</th><th>Purpose</th></tr></thead>
<tbody><tr class="odd" valign="top"><td>QT_VIRTUALKEYBOARD_HUNSPELL_DATA_PATH</td><td>Overrides the location of the Hunspell data files.<p>The default location depends on the value of <code translate="no">QLibraryInfo::location(QLibraryInfo::DataPath)</code>. For example, for Qt libraries built from source, it could be <code translate="no">qtbase/qtvirtualkeyboard/hunspell</code>.</p>
<p>See <a href="./qtvirtualkeyboard-build.htm#hunspell-integration" translate="no">Hunspell Integration</a> for more information.</p>
</td></tr>
<tr class="even" valign="top"><td>QT_VIRTUALKEYBOARD_PINYIN_DICTIONARY</td><td>Overrides the location of the Pinyin dictionary.<p>By default, the dictionary is bundled into the plugin's resources.</p>
<p>To disable resource bundling, add <code translate="no">CONFIG+=no-bundle-pinyin</code> in the plugin's qmake command line. In this scenario, the default location depends on the value of <code translate="no">QLibraryInfo::location(QLibraryInfo::DataPath)</code>. For example, for Qt libraries built from source, it could be <code translate="no">qtbase/qtvirtualkeyboard/pinyin/dict_pinyin.dat</code>.</p>
</td></tr>
<tr class="odd" valign="top"><td>QT_VIRTUALKEYBOARD_CANGJIE_DICTIONARY</td><td>Overrides the location of the Cangjie dictionary.<p>By default, the dictionary is bundled into the plugin's resources.</p>
<p>To disable resource bundling, add <code translate="no">CONFIG+=no-bundle-tcime</code> in the plugin's qmake command line. In this scenario, the default location depends on the value of <code translate="no">QLibraryInfo::location(QLibraryInfo::DataPath)</code>. For example, for Qt libraries built from source, it could be <code translate="no">qtbase/qtvirtualkeyboard/tcime/dict_cangjie.dat</code>.</p>
</td></tr>
<tr class="even" valign="top"><td>QT_VIRTUALKEYBOARD_ZHUYIN_DICTIONARY</td><td>Overrides the location of the Zhuyin dictionary.<p>By default, the dictionary is bundled into the plugin's resources.</p>
<p>To disable resource bundling, add <code translate="no">CONFIG+=no-bundle-tcime</code> in the plugin's qmake command line. In this scenario, the default location depends on the value of <code translate="no">QLibraryInfo::location(QLibraryInfo::DataPath)</code>. For example, for Qt libraries built from source, it could be <code translate="no">qtbase/qtvirtualkeyboard/tcime/dict_zhuyin.dat</code>.</p>
</td></tr>
<tr class="odd" valign="top"><td>QT_VIRTUALKEYBOARD_PHRASE_DICTIONARY</td><td>Overrides the location of the phrase dictionary.<p>By default, the dictionary is bundled into the plugin's resources.</p>
<p>To disable resource bundling, add <code translate="no">CONFIG+=no-bundle-tcime</code> in the plugin's qmake command line. In this scenario, the default location depends on the value of <code translate="no">QLibraryInfo::location(QLibraryInfo::DataPath)</code>. For example, for Qt libraries built from source, it could be <code translate="no">qtbase/qtvirtualkeyboard/tcime/dict_phrases.dat</code>.</p>
</td></tr>
<tr class="even" valign="top"><td>QT_VIRTUALKEYBOARD_STYLE</td><td>Specifies the location of the style to use with the virtual keyboard.<p>This can also be specified in QML by setting <a href="./qml-qtquick-virtualkeyboard-settings-virtualkeyboardsettings.htm#styleName-prop" translate="no">VirtualKeyboardSettings::styleName</a>, or at build time by using the <a href="./qtvirtualkeyboard-build.htm#advanced-configuration-options" translate="no">qmake configuration options</a>.</p>
</td></tr>
<tr class="odd" valign="top"><td>QT_VIRTUALKEYBOARD_LAYOUT_PATH</td><td>Specifies the location of the layouts to be used with the virtual keyboard.</td></tr>
<tr class="even" valign="top"><td>QT_VIRTUALKEYBOARD_DESKTOP_DISABLE</td><td>Disables the desktop integration method.</td></tr>
<tr class="odd" valign="top"><td>LIPI_ROOT</td><td>Specifies the location of lipi-toolkit.<p>The default location depends on the value of <code translate="no">QLibraryInfo::location(QLibraryInfo::DataPath)</code>. For example, for Qt libraries built from source, it could be <code translate="no">qtbase/qtvirtualkeyboard/lipi_toolkit</code>.</p>
</td></tr>
<tr class="even" valign="top"><td>LIPI_LIB</td><td>Specifies the location of lipi-toolkit plugins.<p>The default location depends on <code translate="no">LIPI_ROOT</code>:</p>
<ul>
<li><code translate="no">LIPI_ROOT + "/lib"</code> if <code translate="no">LIPI_ROOT</code> is set.</li>
<li><code translate="no">QLibraryInfo::location(QLibraryInfo::PluginsPath) + "/lipi_toolkit"</code> if <code translate="no">LIPI_ROOT</code> is not set.</li>
</ul>
</td></tr>
<tr class="odd" valign="top"><td>QT_VIRTUALKEYBOARD_FORCE_EVENTS_WITHOUT_FOCUS</td><td>Enables Qt Virtual Keyboard to send key events and use Shift key without having any text input in focus.<p>This variable needs to be explicitly set in the run environment of an application that wants to benefit from this. Using <a href="./qtglobal.htm#qputenv" translate="no">qputenv</a>() in the application itself is not sufficient.</p>
</td></tr>
</tbody></table></div>
</div>
<!-- @@@qtvirtualkeyboard-deployment-guide.html -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>