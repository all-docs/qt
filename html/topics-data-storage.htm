<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Data Storage</title>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a>Data Storage</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Data Storage</h1>
<span class="subtitle"></span>
<!-- $$$topics-data-storage.html-description -->
<div class="descr"> <a name="details"></a>
<a name="saving-and-loading-data"></a>
<h2 id="saving-and-loading-data">Saving and Loading Data<a class="plink" href="#saving-and-loading-data" title="Direct link to this headline"></a></h2>
<p>The <a href="./qiodevice.htm" translate="no">QIODevice</a> class is the base class for all file and data storage devices in <a href="./qtcore-index.htm" translate="no">Qt Core</a>. All classes that are used for reading and writing data inherit from it.</p>
<p>Examples of devices are <a href="./qfile.htm" translate="no">QFile</a>, <a href="./qbuffer.htm" translate="no">QBuffer</a>, <a href="./qtcpsocket.htm" translate="no">QTcpSocket</a>, and <a href="./qprocess.htm" translate="no">QProcess</a>. <a href="./qfile.htm" translate="no">QFile</a> is used for reading and writing text, binary files, and resources. The <a href="./qbuffer.htm" translate="no">QBuffer</a> class provides a <a href="./qiodevice.htm" translate="no">QIODevice</a> interface for a <a href="./qbytearray.htm" translate="no">QByteArray</a>. <a href="./qtcpsocket.htm" translate="no">QTcpSocket</a> enables the developer to establish a TCP connection and transfer streams of data. <a href="./qprocess.htm" translate="no">QProcess</a> is used to start external programs, and to read from and write to that process.</p>
<ul>
<li><a href="./io.htm" translate="no">Input/Output and Networking</a> (list of I/O related classes)</li>
<li><a href="./io-functions.htm" translate="no">File and Datastream Functions</a></li>
<li><a href="./datastreamformat.htm" translate="no">Serializing Qt Data Types</a></li>
</ul>
<a name="sql-support-in-qt"></a>
<h2 id="sql-support-in-qt">SQL Support in Qt<a class="plink" href="#sql-support-in-qt" title="Direct link to this headline"></a></h2>
<p>The <a href="./qtsql-index.htm" translate="no">Qt SQL</a> module uses driver plugins to communicate with several database APIs. Qt has drivers for <a href="./qtsql-attribution-sqlite.htm#sqlite" translate="no">SQLite</a>, MySQL, DB2, Borland InterBase, Oracle, ODBC, and PostgreSQL. It is also possible to develop your own driver if Qt does not provide the driver needed.</p>
<p>Qt's SQL classes can be divided in 3 layers:</p>
<div class="table"><table class="generic">
<thead><tr class="qt-style"><th>Layer</th><th>Purpose</th><th>Example class</th></tr></thead>
<tbody><tr class="odd" valign="top"><td><ul>
<li>Driver layer</li>
<li>SQL API layer</li>
<li>User Interface layer</li>
</ul>
</td><td><ul>
<li>Low-level communication between database and the SQL API layer</li>
<li>Provide access to databases</li>
<li>Link data from a database to data-aware widgets</li>
</ul>
</td><td><ul>
<li><a href="./qsqldriver.htm" translate="no">QSqlDriver</a>, <a href="./qsqldrivercreator.htm" translate="no">QSqlDriverCreator</a></li>
<li><a href="./qsqldatabase.htm" translate="no">QSqlDatabase</a>, <a href="./qsqlquery.htm" translate="no">QSqlQuery</a></li>
<li><a href="./qtquickcontrols-chattutorial-example.htm#qsqlquerymodel" translate="no">QSqlQueryModel</a> (readonly), <a href="./qtquickcontrols-chattutorial-example.htm#qsqltablemodel" translate="no">QSqlTableModel</a> (read/write), <a href="./qsqlrelationaltablemodel.htm" translate="no">QSqlRelationalTableModel</a> (read/write with foreign-key support)</li>
</ul>
</td></tr>
</tbody></table></div>
<p>With all the SQL drivers, with the exception of <a href="./qtsql-attribution-sqlite.htm#sqlite" translate="no">SQLite</a>, you can connect to a server that is hosting your database system. If you use the embedded MySQL Server, you do not need a MySQL server in order to use that database system.</p>
<p>For instructions on how to build the SQL database drivers, see <a href="./sql-driver.htm" translate="no">SQL Database Drivers</a>.</p>
<p>The Qt <a href="./qtsql-attribution-sqlite.htm#sqlite" translate="no">SQLite</a> plugin is very suitable for local storage. <a href="./qtsql-attribution-sqlite.htm#sqlite" translate="no">SQLite</a> is a relational database management system contained in a small (~350 KiB) C library. In contrast to other database management systems, <a href="./qtsql-attribution-sqlite.htm#sqlite" translate="no">SQLite</a> is not a separate process that is accessed from the client application, but an integral part of it. <a href="./qtsql-attribution-sqlite.htm#sqlite" translate="no">SQLite</a> operates on a single file, which must be set as the database name when opening a connection. If the file does not exist, <a href="./qtsql-attribution-sqlite.htm#sqlite" translate="no">SQLite</a> will try to create it.</p>
<p><a href="./qtsql-attribution-sqlite.htm#sqlite" translate="no">SQLite</a> has some restrictions regarding multiple users and multiple transactions. If you are reading or writing on a file from different transactions, your application might freeze until one transaction commits or rolls back.</p>
<p>Once the driver part is set up, the data is accessible using the classes, <a href="./qtquickcontrols-chattutorial-example.htm#qsqlquerymodel" translate="no">QSqlQueryModel</a>, <a href="./qtquickcontrols-chattutorial-example.htm#qsqltablemodel" translate="no">QSqlTableModel</a>, and <a href="./qsqlrelationaltablemodel.htm" translate="no">QSqlRelationalTableModel</a>. <a href="./qtquickcontrols-chattutorial-example.htm#qsqltablemodel" translate="no">QSqlTableModel</a> and <a href="./qsqlrelationaltablemodel.htm" translate="no">QSqlRelationalTableModel</a> provide editable models that can used with Qt's item views. <a href="./qtquickcontrols-chattutorial-example.htm#qsqltablemodel" translate="no">QSqlTableModel</a> has read/write access to a single table, whereas <a href="./qsqlrelationaltablemodel.htm" translate="no">QSqlRelationalTableModel</a> has read/write access to the main table (not to the table with the foreign key).</p>
<p>The following pages contain information about incorporating SQL into applications:</p>
<ul>
<li><a href="./sql-programming.htm" translate="no">SQL Programming</a><ul>
<li><a href="./sql-programming.htm#database-classes" translate="no">Database Classes</a></li>
<li><a href="./sql-sqlstatements.htm" translate="no">Executing SQL Statements</a></li>
<li><a href="./sql-model.htm" translate="no">Using the SQL Model Classes</a></li>
<li><a href="./sql-presenting.htm" translate="no">Presenting Data in a Table View</a></li>
<li><a href="./sql-forms.htm" translate="no">Creating Data-Aware Forms</a></li>
</ul>
</li>
</ul>
<a name="xml-support-in-qt"></a>
<h2 id="xml-support-in-qt">XML Support in Qt<a class="plink" href="#xml-support-in-qt" title="Direct link to this headline"></a></h2>
<p>Qt provides APIs to read and parse XML streams, and also to write to these streams. The following key classes facilitate these actions by providing the necessary infrastructure:</p>
<ul>
<li><a href="./qxmlstreamreader.htm" translate="no">QXmlStreamReader</a> class provides a parser to read XML. It is a well-formed XML 1.0 parser that does not include external parsed entities.<ul>
<li>It understands and resolves XML namespaces. For example, in case of a StartElement, namespaceUri() returns the namespace the element is in, and <a href="./13-qdoc-commands-topics.htm#name" translate="no">name</a>() returns the element's local name. The combination of namespaceUri() and <a href="./13-qdoc-commands-topics.htm#name" translate="no">name</a>() uniquely identifies an element.</li>
<li>It is not CPU-intensive, as it doesn't store the entire XML document tree in memory. It only stores the current token at the time it is reported.</li>
</ul>
</li>
<li>The <a href="./qxmlstreamwriter.htm" translate="no">QXmlStreamWriter</a> class provides an XML writer with a simple streaming API. It is the counterpart to <a href="./qxmlstreamreader.htm" translate="no">QXmlStreamReader</a> for writing XML, and it operates on a <a href="./qiodevice.htm" translate="no">QIODevice</a> specified with setDevice().<ul>
<li>It is a simple API that provides a dedicated function for every XML token or event you want to write.</li>
<li>It takes care of prefixing namespaces based on the namespaceUri specified while writing elements or attributes. If you have to use certain standardized prefixes, you can force the writer to use them by declaring the namespaces manually with either writeNamespace() or writeDefaultNamespace().</li>
<li>It can automatically format the generated XML data by adding line-breaks and indentation, making it readable. This feature can be turned on with the auto-formatting property.</li>
<li>It encodes XML in UTF-8 by default. Different encodings can be enforced using setCodec().</li>
</ul>
</li>
</ul>
<p>Besides reading and writing to XML streams, Qt also provides APIs for the following additional use cases:</p>
<ul>
<li>Querying an XML data source using <a href="./xmlprocessing.htm" translate="no">XQuery</a> and XPath</li>
<li>XML transformation using XSLT</li>
<li>XML schema validation</li>
</ul>
<p>The following topics provide more insight into Qt XML support:</p>
<ul>
<li><a href="./xml-namespaces.htm" translate="no">An Introduction to Namespaces</a></li>
<li><a href="./xml-streaming.htm" translate="no">XML Streaming</a></li>
<li><a href="./xquery-introduction.htm" translate="no">A Short Path to XQuery</a></li>
<li><a href="./qml-qtquick-xmllistmodel-xmllistmodel.htm" translate="no">XmlListModel</a></li>
<li><a href="./qtxmlpatterns-index.htm" translate="no">Qt XML Patterns</a></li>
</ul>
<a name="json-in-qt"></a>
<h2 id="json-in-qt">JSON in Qt<a class="plink" href="#json-in-qt" title="Direct link to this headline"></a></h2>
<p>JSON is a text-based open standard for data interchange that is easy to read and parse. It is used for representing simple data structures and associative arrays, called objects. It is related to JavaScript, but is a language-independent notation form.</p>
<p>An object can take 2 forms:</p>
<div class="table"><ul>
<li>Collection of name/value pairs</li>
<li>Ordered list of values</li>
</ul><table class="generic">
<thead><tr class="qt-style">
</tr></thead>
<tbody><tr class="odd" valign="top"><td><ul>
<li>{ "last_name": "Routledge", "first_name": "Ronald", "birth_date": 1960 }</li>
<li>"colours": ["green", "blue", "yellow"]</li>
</ul>
</td><td></td></tr>
</tbody></table></div>
<ul>
<li><a href="./json.htm" translate="no">JSON Support in Qt</a></li>
<li><a href="./qtcore-serialization-savegame-example.htm" translate="no">JSON Save Game Example</a></li>
</ul>
<a name="local-storage"></a>
<h2 id="local-storage">Local Storage<a class="plink" href="#local-storage" title="Direct link to this headline"></a></h2>
<p>The Local Storage API provides the ability to access local offline storage in an SQL database from QML and JavaScript.</p>
<p>These databases are user-specific and QML-specific, but accessible to all QML applications. They are stored in the Databases subdirectory of QDeclarativeEngine::offlineStoragePath() as <a href="./qtsql-attribution-sqlite.htm#sqlite" translate="no">SQLite</a> databases (<a href="./sql-driver.htm" translate="no">SQL Database Drivers</a>).</p>
<p>The API conforms to the Synchronous API of the HTML5 Web Database API, W3C Working Draft 29 October 2009 (<a href="http://www.w3.org/TR/2009/WD-webdatabase-20091029/" translate="no">HTML5 Web Database API</a>).</p>
<p>See <a href="./qtquick-localstorage-example.htm" translate="no">Qt Quick Examples - Local Storage</a> for a basic demonstration of using the Local Storage API.</p>
<ul>
<li><a href="./qtquick-localstorage-qmlmodule.htm" translate="no">Qt Quick Local Storage QML Types</a></li>
</ul>
<a name="qsettings-class"></a>
<h2 id="qsettings-class">QSettings Class<a class="plink" href="#qsettings-class" title="Direct link to this headline"></a></h2>
<p>The <a href="./qsettings.htm" translate="no">QSettings</a> class provides persistent storage of application settings. An application usually remembers its settings from the previous session.</p>
<p>Settings are stored differently on different platforms. For example, on Windows they are stored in the registry, whereas on macOS they are stored in XML files.</p>
<p><a href="./qsettings.htm" translate="no">QSettings</a> enable you to save and restore application settings in a portable manner. Constructing and destroying a <a href="./qsettings.htm" translate="no">QSettings</a> object is lightweight and fast. While creating an object of <a href="./qsettings.htm" translate="no">QSettings</a>, it is a good practice to specify not only the name of the application, but also the name of your organization. For example:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type"><a href="./qsettings.htm" translate="no">QSettings</a></span> settings(<span class="string">"MyCompany"</span><span class="operator">,</span> <span class="string">"Accountancy"</span>);</pre></div>
<a name="resources"></a>
<h2 id="resources">Resources<a class="plink" href="#resources" title="Direct link to this headline"></a></h2>
<p>The Qt Resource System is a platform-independent mechanism for storing binary files in the application's executable. This is handy if your application frequently needs a certain file, or set of files. It also protects against loss of that particular file .</p>
<p>Resource data can either be compiled into the binary and accessed immediately in the application code, or a binary resource can be created dynamically and registered with the resource system by the application.</p>
<p>By default, resources are accessible from the application code by the same file name as they are stored in the source tree, with a <code translate="no">:/</code> prefix, or by a URL with a qrc scheme.</p>
<ul>
<li><a href="./resources.htm" translate="no">The Qt Resource System</a></li>
</ul>
<a name="file-archiving"></a>
<h2 id="file-archiving">File Archiving<a class="plink" href="#file-archiving" title="Direct link to this headline"></a></h2>
<p>An archive file is a collection of files or directories which are generally compressed in order to reduce the space they would otherwise consume on a drive. Examples of archive files are ZIP, TAR, RAR and 7z.</p>
<p>Qt has support for archives produced by zlib (see <a href="http://qt-project.org/faq/answer/how_to_compress_data_with_qt" translate="no">qCompress() and qUncompress()</a>).</p>
</div>
<!-- @@@topics-data-storage.html -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>