<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>QSqlDatabase | Qt SQL</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/qsqldatabase.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtsql-index.htm" translate="no">Qt SQL</a></li>
                            <li><a href="./qtsql-module.htm" translate="no">C++ Classes</a></li>
                            <li><a>QSqlDatabase</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title" translate="no">QSqlDatabase Class</h1>
<!-- $$$QSqlDatabase-brief -->
<p>The QSqlDatabase class handles a connection to a database. <a href="#details">More...</a></p>
<!-- @@@QSqlDatabase -->
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QSqlDatabase&gt;</span>
</td></tr><tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += sql</td></tr></tbody></table></div><ul>
<li><a href="./qsqldatabase-members.htm">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a>
<h2 id="public-functions">Public Functions<a class="plink" href="#public-functions" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#QSqlDatabase-1" translate="no">QSqlDatabase</a></b>(const QSqlDatabase &amp;<i>other</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSqlDatabase &amp;</td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#operator-eq" translate="no">operator=</a></b>(const QSqlDatabase &amp;<i>other</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#dtor.QSqlDatabase" translate="no">~QSqlDatabase</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#close" translate="no">close</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#commit" translate="no">commit</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#connectOptions" translate="no">connectOptions</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#connectionName" translate="no">connectionName</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#databaseName" translate="no">databaseName</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSqlDriver *</td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#driver" translate="no">driver</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#driverName" translate="no">driverName</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSqlQuery </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#exec" translate="no">exec</a></b>(const QString &amp;<i>query</i> = QString()) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#hostName" translate="no">hostName</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#isOpen" translate="no">isOpen</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#isOpenError" translate="no">isOpenError</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#isValid" translate="no">isValid</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSqlError </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#lastError" translate="no">lastError</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSql::NumericalPrecisionPolicy </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#numericalPrecisionPolicy" translate="no">numericalPrecisionPolicy</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#open" translate="no">open</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#open-1" translate="no">open</a></b>(const QString &amp;<i>user</i>, const QString &amp;<i>password</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#password" translate="no">password</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#port" translate="no">port</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSqlIndex </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#primaryIndex" translate="no">primaryIndex</a></b>(const QString &amp;<i>tablename</i>) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSqlRecord </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#record" translate="no">record</a></b>(const QString &amp;<i>tablename</i>) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#rollback" translate="no">rollback</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#setConnectOptions" translate="no">setConnectOptions</a></b>(const QString &amp;<i>options</i> = QString())</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#setDatabaseName" translate="no">setDatabaseName</a></b>(const QString &amp;<i>name</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#setHostName" translate="no">setHostName</a></b>(const QString &amp;<i>host</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#setNumericalPrecisionPolicy" translate="no">setNumericalPrecisionPolicy</a></b>(QSql::NumericalPrecisionPolicy <i>precisionPolicy</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#setPassword" translate="no">setPassword</a></b>(const QString &amp;<i>password</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#setPort" translate="no">setPort</a></b>(int <i>port</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#setUserName" translate="no">setUserName</a></b>(const QString &amp;<i>name</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QStringList </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#tables" translate="no">tables</a></b>(QSql::TableType <i>type</i> = QSql::Tables) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#transaction" translate="no">transaction</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#userName" translate="no">userName</a></b>() const</td></tr>
</tbody></table></div>
<a name="static-public-members"></a>
<h2 id="static-public-members">Static Public Members<a class="plink" href="#static-public-members" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> QSqlDatabase </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#addDatabase" translate="no">addDatabase</a></b>(const QString &amp;<i>type</i>, const QString &amp;<i>connectionName</i> = QLatin1String(defaultConnection))</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSqlDatabase </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#addDatabase-1" translate="no">addDatabase</a></b>(QSqlDriver *<i>driver</i>, const QString &amp;<i>connectionName</i> = QLatin1String(defaultConnection))</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSqlDatabase </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#cloneDatabase" translate="no">cloneDatabase</a></b>(const QSqlDatabase &amp;<i>other</i>, const QString &amp;<i>connectionName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSqlDatabase </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#cloneDatabase-1" translate="no">cloneDatabase</a></b>(const QString &amp;<i>other</i>, const QString &amp;<i>connectionName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QStringList </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#connectionNames" translate="no">connectionNames</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#contains" translate="no">contains</a></b>(const QString &amp;<i>connectionName</i> = QLatin1String(defaultConnection))</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QSqlDatabase </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#database" translate="no">database</a></b>(const QString &amp;<i>connectionName</i> = QLatin1String(defaultConnection), bool <i>open</i> = true)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QStringList </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#drivers" translate="no">drivers</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#isDriverAvailable" translate="no">isDriverAvailable</a></b>(const QString &amp;<i>name</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#registerSqlDriver" translate="no">registerSqlDriver</a></b>(const QString &amp;<i>name</i>, QSqlDriverCreatorBase *<i>creator</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#removeDatabase" translate="no">removeDatabase</a></b>(const QString &amp;<i>connectionName</i>)</td></tr>
</tbody></table></div>
<a name="protected-functions"></a>
<h2 id="protected-functions">Protected Functions<a class="plink" href="#protected-functions" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#QSqlDatabase-3" translate="no">QSqlDatabase</a></b>(QSqlDriver *<i>driver</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="./qsqldatabase.htm#QSqlDatabase-2" translate="no">QSqlDatabase</a></b>(const QString &amp;<i>type</i>)</td></tr>
</tbody></table></div>
<a name="details"></a>
<!-- $$$QSqlDatabase-description -->
<div class="descr">
<h2 id="details">Detailed Description<a class="plink" href="#details" title="Direct link to this headline"></a></h2>
<p>The QSqlDatabase class provides an interface for accessing a database through a connection. An instance of QSqlDatabase represents the connection. The connection provides access to the database via one of the <a href="./sql-driver.htm#supported-databases" translate="no">supported database drivers</a>, which are derived from <a href="./qsqldriver.htm" translate="no">QSqlDriver</a>. Alternatively, you can subclass your own database driver from <a href="./qsqldriver.htm" translate="no">QSqlDriver</a>. See <a href="./sql-driver.htm#how-to-write-your-own-database-driver" translate="no">How to Write Your Own Database Driver</a> for more information.</p>
<p>Create a connection (i.e., an instance of QSqlDatabase) by calling one of the static <a href="./qsqldatabase.htm#addDatabase" translate="no">addDatabase</a>() functions, where you specify <a href="./sql-driver.htm#supported-databases" translate="no">the driver or type of driver</a> to use (depending on the type of database) and a connection name. A connection is known by its own name, <i>not</i> by the name of the database it connects to. You can have multiple connections to one database. QSqlDatabase also supports the concept of a <i>default</i> connection, which is the unnamed connection. To create the default connection, don't pass the connection name argument when you call <a href="./qsqldatabase.htm#addDatabase" translate="no">addDatabase</a>(). Subsequently, the default connection will be assumed if you call any static member function without specifying the connection name. The following snippet shows how to create and open a default connection to a PostgreSQL database:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> db <span class="operator">=</span> <span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span><span class="operator">::</span>addDatabase(<span class="string">"QPSQL"</span>);
    db<span class="operator">.</span>setHostName(<span class="string">"acidalia"</span>);
    db<span class="operator">.</span>setDatabaseName(<span class="string">"customdb"</span>);
    db<span class="operator">.</span>setUserName(<span class="string">"mojito"</span>);
    db<span class="operator">.</span>setPassword(<span class="string">"J0a1m8"</span>);
    bool ok <span class="operator">=</span> db<span class="operator">.</span>open();</pre></div>
<p>Once the QSqlDatabase object has been created, set the connection parameters with <a href="./qsqldatabase.htm#setDatabaseName" translate="no">setDatabaseName</a>(), <a href="./qsqldatabase.htm#setUserName" translate="no">setUserName</a>(), <a href="./qsqldatabase.htm#setPassword" translate="no">setPassword</a>(), <a href="./qsqldatabase.htm#setHostName" translate="no">setHostName</a>(), <a href="./qsqldatabase.htm#setPort" translate="no">setPort</a>(), and <a href="./qsqldatabase.htm#setConnectOptions" translate="no">setConnectOptions</a>(). Then call <a href="./qsqldatabase.htm#open" translate="no">open</a>() to activate the physical connection to the database. The connection is not usable until you open it.</p>
<p>The connection defined above will be the <i>default</i> connection, because we didn't give a connection name to <a href="./qsqldatabase.htm#addDatabase" translate="no">addDatabase()</a>. Subsequently, you can get the default connection by calling <a href="./qsqldatabase.htm#database" translate="no">database</a>() without the connection name argument:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> db <span class="operator">=</span> <span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span><span class="operator">::</span>database();</pre></div>
<p>QSqlDatabase is a value class. Changes made to a database connection via one instance of QSqlDatabase will affect other instances of QSqlDatabase that represent the same connection. Use <a href="./qsqldatabase.htm#cloneDatabase" translate="no">cloneDatabase</a>() to create an independent database connection based on an existing one.</p>
<div class="admonition warning">
<p><b>Warning: </b>It is highly recommended that you do not keep a copy of the QSqlDatabase around as a member of a class, as this will prevent the instance from being correctly cleaned up on shutdown. If you need to access an existing QSqlDatabase, it should be accessed with <a href="./qsqldatabase.htm#database" translate="no">database</a>(). If you chose to have a QSqlDatabase member variable, this needs to be deleted before the <a href="./qcoreapplication.htm" translate="no">QCoreApplication</a> instance is deleted, otherwise it may lead to undefined behavior.</p>
</div>
<p>If you create multiple database connections, specify a unique connection name for each one, when you call <a href="./qsqldatabase.htm#addDatabase" translate="no">addDatabase</a>(). Use <a href="./qsqldatabase.htm#database" translate="no">database</a>() with a connection name to get that connection. Use <a href="./qsqldatabase.htm#removeDatabase" translate="no">removeDatabase</a>() with a connection name to remove a connection. QSqlDatabase outputs a warning if you try to remove a connection referenced by other QSqlDatabase objects. Use <a href="./qsqldatabase.htm#contains" translate="no">contains</a>() to see if a given connection name is in the list of connections.</p>
<div class="table"><table class="generic">
<thead><tr class="qt-style"><th colspan="2">Some utility methods:</th></tr></thead>
<tbody><tr class="odd" valign="top"><td><a href="./qsqldatabase.htm#tables" translate="no">tables</a>()</td><td>returns the list of tables</td></tr>
<tr class="even" valign="top"><td><a href="./qsqldatabase.htm#primaryIndex" translate="no">primaryIndex</a>()</td><td>returns a table's primary index</td></tr>
<tr class="odd" valign="top"><td><a href="./qsqldatabase.htm#record" translate="no">record</a>()</td><td>returns meta-information about a table's fields</td></tr>
<tr class="even" valign="top"><td><a href="./qsqldatabase.htm#transaction" translate="no">transaction</a>()</td><td>starts a transaction</td></tr>
<tr class="odd" valign="top"><td><a href="./qsqldatabase.htm#commit" translate="no">commit</a>()</td><td>saves and completes a transaction</td></tr>
<tr class="even" valign="top"><td><a href="./qsqldatabase.htm#rollback" translate="no">rollback</a>()</td><td>cancels a transaction</td></tr>
<tr class="odd" valign="top"><td>hasFeature()</td><td>checks if a driver supports transactions</td></tr>
<tr class="even" valign="top"><td><a href="./qsqldatabase.htm#lastError" translate="no">lastError</a>()</td><td>returns information about the last error</td></tr>
<tr class="odd" valign="top"><td><a href="./qsqldatabase.htm#drivers" translate="no">drivers</a>()</td><td>returns the names of the available SQL drivers</td></tr>
<tr class="even" valign="top"><td><a href="./qsqldatabase.htm#isDriverAvailable" translate="no">isDriverAvailable</a>()</td><td>checks if a particular driver is available</td></tr>
<tr class="odd" valign="top"><td><a href="./qsqldatabase.htm#registerSqlDriver" translate="no">registerSqlDriver</a>()</td><td>registers a custom-made driver</td></tr>
</tbody></table></div>
<div class="admonition note">
<p><b>Note: </b><a href="./qsqldatabase.htm#exec" translate="no">QSqlDatabase::exec</a>() is deprecated. Use <a href="./qsqlquery.htm#exec-1" translate="no">QSqlQuery::exec</a>() instead.</p>
</div>
<div class="admonition note">
<p><b>Note: </b>When using transactions, you must start the transaction before you create your query.</p>
</div>
</div>
<p><b>See also </b><a href="./qsqldriver.htm" translate="no">QSqlDriver</a>, <a href="./qsqlquery.htm" translate="no">QSqlQuery</a>, <a href="./qtsql-index.htm" translate="no">Qt SQL</a>, and <a href="./threads-modules.htm#threads-and-the-sql-module" translate="no">Threads and the SQL Module</a>.</p>
<!-- @@@QSqlDatabase -->
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QSqlDatabase$$$QSqlDatabaseQSqlDriver* -->
<h3 class="fn" id="QSqlDatabase-3" translate="no"><a name="QSqlDatabase-3"></a><code translate="no">[protected] </code>QSqlDatabase::<span class="name">QSqlDatabase</span>(<span class="type"><a href="./qsqldriver.htm" translate="no">QSqlDriver</a></span> *<i>driver</i>)<a class="plink" href="#QSqlDatabase-3" title="Direct link to this headline"></a></h3>
<p>This is an overloaded function.</p>
<p>Creates a database connection using the given <i translate="no">driver</i>.</p>
<!-- @@@QSqlDatabase -->
<!-- $$$QSqlDatabase$$$QSqlDatabaseconstQString& -->
<h3 class="fn" id="QSqlDatabase-2" translate="no"><a name="QSqlDatabase-2"></a><code translate="no">[protected] </code>QSqlDatabase::<span class="name">QSqlDatabase</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>type</i>)<a class="plink" href="#QSqlDatabase-2" title="Direct link to this headline"></a></h3>
<p>This is an overloaded function.</p>
<p>Creates a QSqlDatabase connection that uses the driver referred to by <i translate="no">type</i>. If the <i translate="no">type</i> is not recognized, the database connection will have no functionality.</p>
<p>The currently available driver types are:</p>
<div class="table"><table class="generic">
<thead><tr class="qt-style"><th>Driver Type</th><th>Description</th></tr></thead>
<tbody><tr class="odd" valign="top"><td>QDB2</td><td>IBM DB2</td></tr>
<tr class="even" valign="top"><td>QIBASE</td><td>Borland InterBase Driver</td></tr>
<tr class="odd" valign="top"><td>QMYSQL</td><td>MySQL Driver</td></tr>
<tr class="even" valign="top"><td>QOCI</td><td>Oracle Call Interface Driver</td></tr>
<tr class="odd" valign="top"><td>QODBC</td><td>ODBC Driver (includes Microsoft SQL Server)</td></tr>
<tr class="even" valign="top"><td>QPSQL</td><td>PostgreSQL Driver</td></tr>
<tr class="odd" valign="top"><td>QSQLITE</td><td><a href="./qtsql-attribution-sqlite.htm#sqlite" translate="no">SQLite</a> version 3 or above</td></tr>
<tr class="even" valign="top"><td>QSQLITE2</td><td><a href="./qtsql-attribution-sqlite.htm#sqlite" translate="no">SQLite</a> version 2</td></tr>
<tr class="odd" valign="top"><td>QTDS</td><td>Sybase Adaptive Server</td></tr>
</tbody></table></div>
<p>Additional third party drivers, including your own custom drivers, can be loaded dynamically.</p>
<p><b>See also </b><a href="./sql-driver.htm" translate="no">SQL Database Drivers</a>, <a href="./qsqldatabase.htm#registerSqlDriver" translate="no">registerSqlDriver</a>(), and <a href="./qsqldatabase.htm#drivers" translate="no">drivers</a>().</p>
<!-- @@@QSqlDatabase -->
<!-- $$$QSqlDatabase$$$QSqlDatabaseconstQSqlDatabase& -->
<h3 class="fn" id="QSqlDatabase-1" translate="no"><a name="QSqlDatabase-1"></a>QSqlDatabase::<span class="name">QSqlDatabase</span>(const <span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> &amp;<i>other</i>)<a class="plink" href="#QSqlDatabase-1" title="Direct link to this headline"></a></h3>
<p>Creates a copy of <i translate="no">other</i>.</p>
<!-- @@@QSqlDatabase -->
<!-- $$$QSqlDatabase[overload1]$$$QSqlDatabase -->
<h3 class="fn" id="QSqlDatabase" translate="no"><a name="QSqlDatabase"></a>QSqlDatabase::<span class="name">QSqlDatabase</span>()<a class="plink" href="#QSqlDatabase" title="Direct link to this headline"></a></h3>
<p>Creates an empty, invalid QSqlDatabase object. Use <a href="./qsqldatabase.htm#addDatabase" translate="no">addDatabase</a>(), <a href="./qsqldatabase.htm#removeDatabase" translate="no">removeDatabase</a>(), and <a href="./qsqldatabase.htm#database" translate="no">database</a>() to get valid QSqlDatabase objects.</p>
<!-- @@@QSqlDatabase -->
<!-- $$$operator=[overload1]$$$operator=constQSqlDatabase& -->
<h3 class="fn" id="operator-eq" translate="no"><a name="operator-eq"></a><span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> &amp;QSqlDatabase::<span class="name">operator=</span>(const <span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> &amp;<i>other</i>)<a class="plink" href="#operator-eq" title="Direct link to this headline"></a></h3>
<p>Assigns <i translate="no">other</i> to this object.</p>
<!-- @@@operator= -->
<!-- $$$~QSqlDatabase[overload1]$$$~QSqlDatabase -->
<h3 class="fn" id="dtor.QSqlDatabase" translate="no"><a name="dtor.QSqlDatabase"></a>QSqlDatabase::<span class="name">~QSqlDatabase</span>()<a class="plink" href="#dtor.QSqlDatabase" title="Direct link to this headline"></a></h3>
<p>Destroys the object and frees any allocated resources.</p>
<div class="admonition note">
<p><b>Note: </b>When the last connection is destroyed, the destructor implicitly calls <a href="./qsqldatabase.htm#close" translate="no">close</a>() to release the database connection.</p>
</div>
<p><b>See also </b><a href="./qsqldatabase.htm#close" translate="no">close</a>().</p>
<!-- @@@~QSqlDatabase -->
<!-- $$$addDatabase[overload1]$$$addDatabaseconstQString&constQString& -->
<h3 class="fn" id="addDatabase" translate="no"><a name="addDatabase"></a><code translate="no">[static] </code><span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> QSqlDatabase::<span class="name">addDatabase</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>type</i>, const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>connectionName</i> = QLatin1String(defaultConnection))<a class="plink" href="#addDatabase" title="Direct link to this headline"></a></h3>
<p>Adds a database to the list of database connections using the driver <i translate="no">type</i> and the connection name <i translate="no">connectionName</i>. If there already exists a database connection called <i translate="no">connectionName</i>, that connection is removed.</p>
<p>The database connection is referred to by <i translate="no">connectionName</i>. The newly added database connection is returned.</p>
<p>If <i translate="no">type</i> is not available or could not be loaded, <a href="./qsqldatabase.htm#isValid" translate="no">isValid</a>() returns <code translate="no">false</code>.</p>
<p>If <i translate="no">connectionName</i> is not specified, the new connection becomes the default connection for the application, and subsequent calls to <a href="./qsqldatabase.htm#database" translate="no">database</a>() without the connection name argument will return the default connection. If a <i translate="no">connectionName</i> is provided here, use database(<i translate="no">connectionName</i>) to retrieve the connection.</p>
<div class="admonition warning">
<p><b>Warning: </b>If you add a connection with the same name as an existing connection, the new connection replaces the old one. If you call this function more than once without specifying <i translate="no">connectionName</i>, the default connection will be the one replaced.</p>
</div>
<p>Before using the connection, it must be initialized. e.g., call some or all of <a href="./qsqldatabase.htm#setDatabaseName" translate="no">setDatabaseName</a>(), <a href="./qsqldatabase.htm#setUserName" translate="no">setUserName</a>(), <a href="./qsqldatabase.htm#setPassword" translate="no">setPassword</a>(), <a href="./qsqldatabase.htm#setHostName" translate="no">setHostName</a>(), <a href="./qsqldatabase.htm#setPort" translate="no">setPort</a>(), and <a href="./qsqldatabase.htm#setConnectOptions" translate="no">setConnectOptions</a>(), and, finally, <a href="./qsqldatabase.htm#open" translate="no">open</a>().</p>
<p><b>Note:</b> This function is <a href="./threads-reentrancy.htm" translate="no">thread-safe</a>.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#database" translate="no">database</a>(), <a href="./qsqldatabase.htm#removeDatabase" translate="no">removeDatabase</a>(), and <a href="./threads-modules.htm#threads-and-the-sql-module" translate="no">Threads and the SQL Module</a>.</p>
<!-- @@@addDatabase -->
<!-- $$$addDatabase$$$addDatabaseQSqlDriver*constQString& -->
<h3 class="fn" id="addDatabase-1" translate="no"><a name="addDatabase-1"></a><code translate="no">[static] </code><span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> QSqlDatabase::<span class="name">addDatabase</span>(<span class="type"><a href="./qsqldriver.htm" translate="no">QSqlDriver</a></span> *<i>driver</i>, const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>connectionName</i> = QLatin1String(defaultConnection))<a class="plink" href="#addDatabase-1" title="Direct link to this headline"></a></h3>
<p>This overload is useful when you want to create a database connection with a <a href="./qsqldriver.htm" translate="no">driver</a> you instantiated yourself. It might be your own database driver, or you might just need to instantiate one of the Qt drivers yourself. If you do this, it is recommended that you include the driver code in your application. For example, you can create a PostgreSQL connection with your own QPSQL driver like this:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">PGconn <span class="operator">*</span>con <span class="operator">=</span> PQconnectdb(<span class="string">"host=server user=bart password=simpson dbname=springfield"</span>);
<span class="type">QPSQLDriver</span> <span class="operator">*</span>drv <span class="operator">=</span> <span class="keyword">new</span> <span class="type">QPSQLDriver</span>(con);
<span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> db <span class="operator">=</span> <span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span><span class="operator">::</span>addDatabase(drv); <span class="comment">// becomes the new default connection</span>
<span class="type"><a href="./qsqlquery.htm" translate="no">QSqlQuery</a></span> query;
query<span class="operator">.</span>exec(<span class="string">"SELECT NAME, ID FROM STAFF"</span>);</pre></div>
<p>The above code sets up a PostgreSQL connection and instantiates a QPSQLDriver object. Next, addDatabase() is called to add the connection to the known connections so that it can be used by the Qt SQL classes. When a driver is instantiated with a connection handle (or set of handles), Qt assumes that you have already opened the database connection.</p>
<div class="admonition note">
<p><b>Note: </b>We assume that <code translate="no">qtdir</code> is the directory where Qt is installed. This will pull in the code that is needed to use the PostgreSQL client library and to instantiate a QPSQLDriver object, assuming that you have the PostgreSQL headers somewhere in your include search path.</p>
</div>
<p>Remember that you must link your application against the database client library. Make sure the client library is in your linker's search path, and add lines like these to your <code translate="no">.pro</code> file:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">unix:LIBS <span class="operator">+</span><span class="operator">=</span> <span class="operator">-</span>lpq
win32:LIBS <span class="operator">+</span><span class="operator">=</span> libpqdll<span class="operator">.</span>lib</pre></div>
<p>The method described works for all the supplied drivers. The only difference will be in the driver constructor arguments. Here is a table of the drivers included with Qt, their source code files, and their constructor arguments:</p>
<div class="table"><table class="generic">
<thead><tr class="qt-style"><th>Driver</th><th>Class name</th><th>Constructor arguments</th><th>File to include</th></tr></thead>
<tbody><tr class="odd" valign="top"><td>QPSQL</td><td>QPSQLDriver</td><td>PGconn *connection</td><td><code translate="no">qsql_psql.cpp</code></td></tr>
<tr class="even" valign="top"><td>QMYSQL</td><td>QMYSQLDriver</td><td>MYSQL *connection</td><td><code translate="no">qsql_mysql.cpp</code></td></tr>
<tr class="odd" valign="top"><td>QOCI</td><td>QOCIDriver</td><td>OCIEnv *environment, OCISvcCtx *serviceContext</td><td><code translate="no">qsql_oci.cpp</code></td></tr>
<tr class="even" valign="top"><td>QODBC</td><td>QODBCDriver</td><td>SQLHANDLE environment, SQLHANDLE connection</td><td><code translate="no">qsql_odbc.cpp</code></td></tr>
<tr class="odd" valign="top"><td>QDB2</td><td>QDB2</td><td>SQLHANDLE environment, SQLHANDLE connection</td><td><code translate="no">qsql_db2.cpp</code></td></tr>
<tr class="even" valign="top"><td>QTDS</td><td>QTDSDriver</td><td>LOGINREC *loginRecord, DBPROCESS *dbProcess, const <a href="./qstring.htm" translate="no">QString</a> &amp;<a href="./qsqldatabase.htm#hostName" translate="no">hostName</a></td><td><code translate="no">qsql_tds.cpp</code></td></tr>
<tr class="odd" valign="top"><td>QSQLITE</td><td>QSQLiteDriver</td><td>sqlite *connection</td><td><code translate="no">qsql_sqlite.cpp</code></td></tr>
<tr class="even" valign="top"><td>QIBASE</td><td>QIBaseDriver</td><td>isc_db_handle connection</td><td><code translate="no">qsql_ibase.cpp</code></td></tr>
</tbody></table></div>
<p>The host name (or service name) is needed when constructing the QTDSDriver for creating new connections for internal queries. This is to prevent blocking when several <a href="./qsqlquery.htm" translate="no">QSqlQuery</a> objects are used simultaneously.</p>
<div class="admonition warning">
<p><b>Warning: </b>Adding a database connection with the same connection name as an existing connection, causes the existing connection to be replaced by the new one.</p>
</div>
<div class="admonition warning">
<p><b>Warning: </b>The SQL framework takes ownership of the <i translate="no">driver</i>. It must not be deleted. To remove the connection, use <a href="./qsqldatabase.htm#removeDatabase" translate="no">removeDatabase</a>().</p>
</div>
<p><b>See also </b><a href="./qsqldatabase.htm#drivers" translate="no">drivers</a>().</p>
<!-- @@@addDatabase -->
<!-- $$$cloneDatabase[overload1]$$$cloneDatabaseconstQSqlDatabase&constQString& -->
<h3 class="fn" id="cloneDatabase" translate="no"><a name="cloneDatabase"></a><code translate="no">[static] </code><span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> QSqlDatabase::<span class="name">cloneDatabase</span>(const <span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> &amp;<i>other</i>, const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>connectionName</i>)<a class="plink" href="#cloneDatabase" title="Direct link to this headline"></a></h3>
<p>Clones the database connection <i translate="no">other</i> and stores it as <i translate="no">connectionName</i>. All the settings from the original database, e.g. <a href="./qsqldatabase.htm#databaseName" translate="no">databaseName</a>(), <a href="./qsqldatabase.htm#hostName" translate="no">hostName</a>(), etc., are copied across. Does nothing if <i translate="no">other</i> is an invalid database. Returns the newly created database connection.</p>
<div class="admonition note">
<p><b>Note: </b>The new connection has not been opened. Before using the new connection, you must call <a href="./qsqldatabase.htm#open" translate="no">open</a>().</p>
</div>
<!-- @@@cloneDatabase -->
<!-- $$$cloneDatabase$$$cloneDatabaseconstQString&constQString& -->
<h3 class="fn" id="cloneDatabase-1" translate="no"><a name="cloneDatabase-1"></a><code translate="no">[static] </code><span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> QSqlDatabase::<span class="name">cloneDatabase</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>other</i>, const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>connectionName</i>)<a class="plink" href="#cloneDatabase-1" title="Direct link to this headline"></a></h3>
<p>This is an overloaded function.</p>
<p>Clones the database connection <i translate="no">other</i> and stores it as <i translate="no">connectionName</i>. All the settings from the original database, e.g. <a href="./qsqldatabase.htm#databaseName" translate="no">databaseName</a>(), <a href="./qsqldatabase.htm#hostName" translate="no">hostName</a>(), etc., are copied across. Does nothing if <i translate="no">other</i> is an invalid database. Returns the newly created database connection.</p>
<div class="admonition note">
<p><b>Note: </b>The new connection has not been opened. Before using the new connection, you must call <a href="./qsqldatabase.htm#open" translate="no">open</a>().</p>
</div>
<p>This overload is useful when cloning the database in another thread to the one that is used by the database represented by <i translate="no">other</i>.</p>
<p>This function was introduced in Qt 5.13.</p>
<!-- @@@cloneDatabase -->
<!-- $$$close[overload1]$$$close -->
<h3 class="fn" id="close" translate="no"><a name="close"></a><span class="type">void</span> QSqlDatabase::<span class="name">close</span>()<a class="plink" href="#close" title="Direct link to this headline"></a></h3>
<p>Closes the database connection, freeing any resources acquired, and invalidating any existing <a href="./qsqlquery.htm" translate="no">QSqlQuery</a> objects that are used with the database.</p>
<p>This will also affect copies of this <a href="./qsqldatabase.htm" translate="no">QSqlDatabase</a> object.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#removeDatabase" translate="no">removeDatabase</a>().</p>
<!-- @@@close -->
<!-- $$$commit[overload1]$$$commit -->
<h3 class="fn" id="commit" translate="no"><a name="commit"></a><span class="type">bool</span> QSqlDatabase::<span class="name">commit</span>()<a class="plink" href="#commit" title="Direct link to this headline"></a></h3>
<p>Commits a transaction to the database if the driver supports transactions and a <a href="./qsqldatabase.htm#transaction" translate="no">transaction</a>() has been started. Returns <code translate="no">true</code> if the operation succeeded. Otherwise it returns <code translate="no">false</code>.</p>
<div class="admonition note">
<p><b>Note: </b>For some databases, the commit will fail and return <code translate="no">false</code> if there is an <a href="./qsqlquery.htm#isActive" translate="no">active query</a> using the database for a <code translate="no">SELECT</code>. Make the query <a href="./qsqlquery.htm#isActive" translate="no">inactive</a> before doing the commit.</p>
</div>
<p>Call <a href="./qsqldatabase.htm#lastError" translate="no">lastError</a>() to get information about errors.</p>
<p><b>See also </b><a href="./qsqlquery.htm#isActive" translate="no">QSqlQuery::isActive</a>(), <a href="./qsqldriver.htm#hasFeature" translate="no">QSqlDriver::hasFeature</a>(), and <a href="./qsqldatabase.htm#rollback" translate="no">rollback</a>().</p>
<!-- @@@commit -->
<!-- $$$connectOptions[overload1]$$$connectOptions -->
<h3 class="fn" id="connectOptions" translate="no"><a name="connectOptions"></a><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QSqlDatabase::<span class="name">connectOptions</span>() const<a class="plink" href="#connectOptions" title="Direct link to this headline"></a></h3>
<p>Returns the connection options string used for this connection. The string may be empty.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#setConnectOptions" translate="no">setConnectOptions</a>().</p>
<!-- @@@connectOptions -->
<!-- $$$connectionName[overload1]$$$connectionName -->
<h3 class="fn" id="connectionName" translate="no"><a name="connectionName"></a><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QSqlDatabase::<span class="name">connectionName</span>() const<a class="plink" href="#connectionName" title="Direct link to this headline"></a></h3>
<p>Returns the connection name, which may be empty.</p>
<div class="admonition note">
<p><b>Note: </b>The connection name is not the <a href="./qsqldatabase.htm#databaseName" translate="no">database name</a>.</p>
</div>
<p>This function was introduced in Qt 4.4.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#addDatabase" translate="no">addDatabase</a>().</p>
<!-- @@@connectionName -->
<!-- $$$connectionNames[overload1]$$$connectionNames -->
<h3 class="fn" id="connectionNames" translate="no"><a name="connectionNames"></a><code translate="no">[static] </code><span class="type"><a href="./qstringlist.htm" translate="no">QStringList</a></span> QSqlDatabase::<span class="name">connectionNames</span>()<a class="plink" href="#connectionNames" title="Direct link to this headline"></a></h3>
<p>Returns a list containing the names of all connections.</p>
<p><b>Note:</b> This function is <a href="./threads-reentrancy.htm" translate="no">thread-safe</a>.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#contains" translate="no">contains</a>(), <a href="./qsqldatabase.htm#database" translate="no">database</a>(), and <a href="./threads-modules.htm#threads-and-the-sql-module" translate="no">Threads and the SQL Module</a>.</p>
<!-- @@@connectionNames -->
<!-- $$$contains[overload1]$$$containsconstQString& -->
<h3 class="fn" id="contains" translate="no"><a name="contains"></a><code translate="no">[static] </code><span class="type">bool</span> QSqlDatabase::<span class="name">contains</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>connectionName</i> = QLatin1String(defaultConnection))<a class="plink" href="#contains" title="Direct link to this headline"></a></h3>
<p>Returns <code translate="no">true</code> if the list of database connections contains <i translate="no">connectionName</i>; otherwise returns <code translate="no">false</code>.</p>
<p><b>Note:</b> This function is <a href="./threads-reentrancy.htm" translate="no">thread-safe</a>.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#connectionNames" translate="no">connectionNames</a>(), <a href="./qsqldatabase.htm#database" translate="no">database</a>(), and <a href="./threads-modules.htm#threads-and-the-sql-module" translate="no">Threads and the SQL Module</a>.</p>
<!-- @@@contains -->
<!-- $$$database[overload1]$$$databaseconstQString&bool -->
<h3 class="fn" id="database" translate="no"><a name="database"></a><code translate="no">[static] </code><span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> QSqlDatabase::<span class="name">database</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>connectionName</i> = QLatin1String(defaultConnection), <span class="type">bool</span> <i>open</i> = true)<a class="plink" href="#database" title="Direct link to this headline"></a></h3>
<p>Returns the database connection called <i translate="no">connectionName</i>. The database connection must have been previously added with <a href="./qsqldatabase.htm#addDatabase" translate="no">addDatabase</a>(). If <i translate="no">open</i> is true (the default) and the database connection is not already open it is opened now. If no <i translate="no">connectionName</i> is specified the default connection is used. If <i translate="no">connectionName</i> does not exist in the list of databases, an invalid connection is returned.</p>
<p><b>Note:</b> This function is <a href="./threads-reentrancy.htm" translate="no">thread-safe</a>.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#isOpen" translate="no">isOpen</a>() and <a href="./threads-modules.htm#threads-and-the-sql-module" translate="no">Threads and the SQL Module</a>.</p>
<!-- @@@database -->
<!-- $$$databaseName[overload1]$$$databaseName -->
<h3 class="fn" id="databaseName" translate="no"><a name="databaseName"></a><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QSqlDatabase::<span class="name">databaseName</span>() const<a class="plink" href="#databaseName" title="Direct link to this headline"></a></h3>
<p>Returns the connection's database name, which may be empty.</p>
<div class="admonition note">
<p><b>Note: </b>The database name is not the connection name.</p>
</div>
<p><b>See also </b><a href="./qsqldatabase.htm#setDatabaseName" translate="no">setDatabaseName</a>().</p>
<!-- @@@databaseName -->
<!-- $$$driver[overload1]$$$driver -->
<h3 class="fn" id="driver" translate="no"><a name="driver"></a><span class="type"><a href="./qsqldriver.htm" translate="no">QSqlDriver</a></span> *QSqlDatabase::<span class="name">driver</span>() const<a class="plink" href="#driver" title="Direct link to this headline"></a></h3>
<p>Returns the database driver used to access the database connection.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#addDatabase" translate="no">addDatabase</a>() and <a href="./qsqldatabase.htm#drivers" translate="no">drivers</a>().</p>
<!-- @@@driver -->
<!-- $$$driverName[overload1]$$$driverName -->
<h3 class="fn" id="driverName" translate="no"><a name="driverName"></a><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QSqlDatabase::<span class="name">driverName</span>() const<a class="plink" href="#driverName" title="Direct link to this headline"></a></h3>
<p>Returns the connection's driver name.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#addDatabase" translate="no">addDatabase</a>() and <a href="./qsqldatabase.htm#driver" translate="no">driver</a>().</p>
<!-- @@@driverName -->
<!-- $$$drivers[overload1]$$$drivers -->
<h3 class="fn" id="drivers" translate="no"><a name="drivers"></a><code translate="no">[static] </code><span class="type"><a href="./qstringlist.htm" translate="no">QStringList</a></span> QSqlDatabase::<span class="name">drivers</span>()<a class="plink" href="#drivers" title="Direct link to this headline"></a></h3>
<p>Returns a list of all the available database drivers.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#registerSqlDriver" translate="no">registerSqlDriver</a>().</p>
<!-- @@@drivers -->
<!-- $$$exec[overload1]$$$execconstQString& -->
<h3 class="fn" id="exec" translate="no"><a name="exec"></a><span class="type"><a href="./qsqlquery.htm" translate="no">QSqlQuery</a></span> QSqlDatabase::<span class="name">exec</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>query</i> = QString()) const<a class="plink" href="#exec" title="Direct link to this headline"></a></h3>
<p>Executes a SQL statement on the database and returns a <a href="./qsqlquery.htm" translate="no">QSqlQuery</a> object. Use <a href="./qsqldatabase.htm#lastError" translate="no">lastError</a>() to retrieve error information. If <i translate="no">query</i> is empty, an empty, invalid query is returned and <a href="./qsqldatabase.htm#lastError" translate="no">lastError</a>() is not affected.</p>
<p><b>See also </b><a href="./qsqlquery.htm" translate="no">QSqlQuery</a> and <a href="./qsqldatabase.htm#lastError" translate="no">lastError</a>().</p>
<!-- @@@exec -->
<!-- $$$hostName[overload1]$$$hostName -->
<h3 class="fn" id="hostName" translate="no"><a name="hostName"></a><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QSqlDatabase::<span class="name">hostName</span>() const<a class="plink" href="#hostName" title="Direct link to this headline"></a></h3>
<p>Returns the connection's host name; it may be empty.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#setHostName" translate="no">setHostName</a>().</p>
<!-- @@@hostName -->
<!-- $$$isDriverAvailable[overload1]$$$isDriverAvailableconstQString& -->
<h3 class="fn" id="isDriverAvailable" translate="no"><a name="isDriverAvailable"></a><code translate="no">[static] </code><span class="type">bool</span> QSqlDatabase::<span class="name">isDriverAvailable</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>name</i>)<a class="plink" href="#isDriverAvailable" title="Direct link to this headline"></a></h3>
<p>Returns <code translate="no">true</code> if a driver called <i translate="no">name</i> is available; otherwise returns <code translate="no">false</code>.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#drivers" translate="no">drivers</a>().</p>
<!-- @@@isDriverAvailable -->
<!-- $$$isOpen[overload1]$$$isOpen -->
<h3 class="fn" id="isOpen" translate="no"><a name="isOpen"></a><span class="type">bool</span> QSqlDatabase::<span class="name">isOpen</span>() const<a class="plink" href="#isOpen" title="Direct link to this headline"></a></h3>
<p>Returns <code translate="no">true</code> if the database connection is currently open; otherwise returns <code translate="no">false</code>.</p>
<!-- @@@isOpen -->
<!-- $$$isOpenError[overload1]$$$isOpenError -->
<h3 class="fn" id="isOpenError" translate="no"><a name="isOpenError"></a><span class="type">bool</span> QSqlDatabase::<span class="name">isOpenError</span>() const<a class="plink" href="#isOpenError" title="Direct link to this headline"></a></h3>
<p>Returns <code translate="no">true</code> if there was an error opening the database connection; otherwise returns <code translate="no">false</code>. Error information can be retrieved using the <a href="./qsqldatabase.htm#lastError" translate="no">lastError</a>() function.</p>
<!-- @@@isOpenError -->
<!-- $$$isValid[overload1]$$$isValid -->
<h3 class="fn" id="isValid" translate="no"><a name="isValid"></a><span class="type">bool</span> QSqlDatabase::<span class="name">isValid</span>() const<a class="plink" href="#isValid" title="Direct link to this headline"></a></h3>
<p>Returns <code translate="no">true</code> if the <a href="./qsqldatabase.htm" translate="no">QSqlDatabase</a> has a valid driver.</p>
<p>Example:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> db;
<a href="./qtglobal.htm#qDebug" translate="no">qDebug</a>() <span class="operator">&lt;</span><span class="operator">&lt;</span> db<span class="operator">.</span>isValid();    <span class="comment">// Returns false</span>

db <span class="operator">=</span> <span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span><span class="operator">::</span>database(<span class="string">"sales"</span>);
<a href="./qtglobal.htm#qDebug" translate="no">qDebug</a>() <span class="operator">&lt;</span><span class="operator">&lt;</span> db<span class="operator">.</span>isValid();    <span class="comment">// Returns \c true if "sales" connection exists</span>

<span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span><span class="operator">::</span>removeDatabase(<span class="string">"sales"</span>);
<a href="./qtglobal.htm#qDebug" translate="no">qDebug</a>() <span class="operator">&lt;</span><span class="operator">&lt;</span> db<span class="operator">.</span>isValid();    <span class="comment">// Returns false</span></pre></div>
<!-- @@@isValid -->
<!-- $$$lastError[overload1]$$$lastError -->
<h3 class="fn" id="lastError" translate="no"><a name="lastError"></a><span class="type"><a href="./qsqlerror.htm" translate="no">QSqlError</a></span> QSqlDatabase::<span class="name">lastError</span>() const<a class="plink" href="#lastError" title="Direct link to this headline"></a></h3>
<p>Returns information about the last error that occurred on the database.</p>
<p>Failures that occur in conjunction with an individual query are reported by <a href="./qsqlquery.htm#lastError" translate="no">QSqlQuery::lastError</a>().</p>
<p><b>See also </b><a href="./qsqlerror.htm" translate="no">QSqlError</a> and <a href="./qsqlquery.htm#lastError" translate="no">QSqlQuery::lastError</a>().</p>
<!-- @@@lastError -->
<!-- $$$numericalPrecisionPolicy[overload1]$$$numericalPrecisionPolicy -->
<h3 class="fn" id="numericalPrecisionPolicy" translate="no"><a name="numericalPrecisionPolicy"></a><span class="type"><a href="./qsql.htm#NumericalPrecisionPolicy-enum" translate="no">QSql::NumericalPrecisionPolicy</a></span> QSqlDatabase::<span class="name">numericalPrecisionPolicy</span>() const<a class="plink" href="#numericalPrecisionPolicy" title="Direct link to this headline"></a></h3>
<p>Returns the current default precision policy for the database connection.</p>
<p>This function was introduced in Qt 4.6.</p>
<p><b>See also </b><a href="./qsql.htm#NumericalPrecisionPolicy-enum" translate="no">QSql::NumericalPrecisionPolicy</a>, <a href="./qsqldatabase.htm#setNumericalPrecisionPolicy" translate="no">setNumericalPrecisionPolicy</a>(), <a href="./qsqlquery.htm#numericalPrecisionPolicy" translate="no">QSqlQuery::numericalPrecisionPolicy</a>(), and <a href="./qsqlquery.htm#setNumericalPrecisionPolicy" translate="no">QSqlQuery::setNumericalPrecisionPolicy</a>().</p>
<!-- @@@numericalPrecisionPolicy -->
<!-- $$$open[overload1]$$$open -->
<h3 class="fn" id="open" translate="no"><a name="open"></a><span class="type">bool</span> QSqlDatabase::<span class="name">open</span>()<a class="plink" href="#open" title="Direct link to this headline"></a></h3>
<p>Opens the database connection using the current connection values. Returns <code translate="no">true</code> on success; otherwise returns <code translate="no">false</code>. Error information can be retrieved using <a href="./qsqldatabase.htm#lastError" translate="no">lastError</a>().</p>
<p><b>See also </b><a href="./qsqldatabase.htm#lastError" translate="no">lastError</a>(), <a href="./qsqldatabase.htm#setDatabaseName" translate="no">setDatabaseName</a>(), <a href="./qsqldatabase.htm#setUserName" translate="no">setUserName</a>(), <a href="./qsqldatabase.htm#setPassword" translate="no">setPassword</a>(), <a href="./qsqldatabase.htm#setHostName" translate="no">setHostName</a>(), <a href="./qsqldatabase.htm#setPort" translate="no">setPort</a>(), and <a href="./qsqldatabase.htm#setConnectOptions" translate="no">setConnectOptions</a>().</p>
<!-- @@@open -->
<!-- $$$open$$$openconstQString&constQString& -->
<h3 class="fn" id="open-1" translate="no"><a name="open-1"></a><span class="type">bool</span> QSqlDatabase::<span class="name">open</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>user</i>, const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>password</i>)<a class="plink" href="#open-1" title="Direct link to this headline"></a></h3>
<p>This is an overloaded function.</p>
<p>Opens the database connection using the given <i translate="no">user</i> name and <i translate="no">password</i>. Returns <code translate="no">true</code> on success; otherwise returns <code translate="no">false</code>. Error information can be retrieved using the <a href="./qsqldatabase.htm#lastError" translate="no">lastError</a>() function.</p>
<p>This function does not store the password it is given. Instead, the password is passed directly to the driver for opening the connection and it is then discarded.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#lastError" translate="no">lastError</a>().</p>
<!-- @@@open -->
<!-- $$$password[overload1]$$$password -->
<h3 class="fn" id="password" translate="no"><a name="password"></a><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QSqlDatabase::<span class="name">password</span>() const<a class="plink" href="#password" title="Direct link to this headline"></a></h3>
<p>Returns the connection's password. An empty string will be returned if the password was not set with <a href="./qsqldatabase.htm#setPassword" translate="no">setPassword</a>(), and if the password was given in the <a href="./qsqldatabase.htm#open" translate="no">open</a>() call, or if no password was used.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#setPassword" translate="no">setPassword</a>().</p>
<!-- @@@password -->
<!-- $$$port[overload1]$$$port -->
<h3 class="fn" id="port" translate="no"><a name="port"></a><span class="type">int</span> QSqlDatabase::<span class="name">port</span>() const<a class="plink" href="#port" title="Direct link to this headline"></a></h3>
<p>Returns the connection's port number. The value is undefined if the port number has not been set.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#setPort" translate="no">setPort</a>().</p>
<!-- @@@port -->
<!-- $$$primaryIndex[overload1]$$$primaryIndexconstQString& -->
<h3 class="fn" id="primaryIndex" translate="no"><a name="primaryIndex"></a><span class="type"><a href="./qsqlindex.htm" translate="no">QSqlIndex</a></span> QSqlDatabase::<span class="name">primaryIndex</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>tablename</i>) const<a class="plink" href="#primaryIndex" title="Direct link to this headline"></a></h3>
<p>Returns the primary index for table <i translate="no">tablename</i>. If no primary index exists, an empty <a href="./qsqlindex.htm" translate="no">QSqlIndex</a> is returned.</p>
<div class="admonition note">
<p><b>Note: </b>Some drivers, such as the <a href="./sql-driver.htm#qpsql-case-sensitivity" translate="no">QPSQL</a> driver, may may require you to pass <i translate="no">tablename</i> in lower case if the table was not quoted when created. See the <a href="./sql-driver.htm" translate="no">Qt SQL driver</a> documentation for more information.</p>
</div>
<p><b>See also </b><a href="./qsqldatabase.htm#tables" translate="no">tables</a>() and <a href="./qsqldatabase.htm#record" translate="no">record</a>().</p>
<!-- @@@primaryIndex -->
<!-- $$$record[overload1]$$$recordconstQString& -->
<h3 class="fn" id="record" translate="no"><a name="record"></a><span class="type"><a href="./qsqlrecord.htm" translate="no">QSqlRecord</a></span> QSqlDatabase::<span class="name">record</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>tablename</i>) const<a class="plink" href="#record" title="Direct link to this headline"></a></h3>
<p>Returns a <a href="./qsqlrecord.htm" translate="no">QSqlRecord</a> populated with the names of all the fields in the table (or view) called <i translate="no">tablename</i>. The order in which the fields appear in the record is undefined. If no such table (or view) exists, an empty record is returned.</p>
<div class="admonition note">
<p><b>Note: </b>Some drivers, such as the <a href="./sql-driver.htm#qpsql-case-sensitivity" translate="no">QPSQL</a> driver, may may require you to pass <i translate="no">tablename</i> in lower case if the table was not quoted when created. See the <a href="./sql-driver.htm" translate="no">Qt SQL driver</a> documentation for more information.</p>
</div>
<!-- @@@record -->
<!-- $$$registerSqlDriver[overload1]$$$registerSqlDriverconstQString&QSqlDriverCreatorBase* -->
<h3 class="fn" id="registerSqlDriver" translate="no"><a name="registerSqlDriver"></a><code translate="no">[static] </code><span class="type">void</span> QSqlDatabase::<span class="name">registerSqlDriver</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>name</i>, <span class="type"><a href="./qsqldrivercreatorbase.htm" translate="no">QSqlDriverCreatorBase</a></span> *<i>creator</i>)<a class="plink" href="#registerSqlDriver" title="Direct link to this headline"></a></h3>
<p>This function registers a new SQL driver called <i translate="no">name</i>, within the SQL framework. This is useful if you have a custom SQL driver and don't want to compile it as a plugin.</p>
<p>Example:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span><span class="operator">::</span>registerSqlDriver(<span class="string">"MYDRIVER"</span><span class="operator">,</span> <span class="keyword">new</span> <span class="type"><a href="./qsqldrivercreator.htm" translate="no">QSqlDriverCreator</a></span><span class="operator">&lt;</span><span class="type"><a href="./qsqldriver.htm" translate="no">QSqlDriver</a></span><span class="operator">&gt;</span>);
QVERIFY(<span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span><span class="operator">::</span>drivers()<span class="operator">.</span>contains(<span class="string">"MYDRIVER"</span>));
<span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> db <span class="operator">=</span> <span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span><span class="operator">::</span>addDatabase(<span class="string">"MYDRIVER"</span>);
QVERIFY(db<span class="operator">.</span>isValid());</pre></div>
<p><a href="./qsqldatabase.htm" translate="no">QSqlDatabase</a> takes ownership of the <i translate="no">creator</i> pointer, so you mustn't delete it yourself.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#drivers" translate="no">drivers</a>().</p>
<!-- @@@registerSqlDriver -->
<!-- $$$removeDatabase[overload1]$$$removeDatabaseconstQString& -->
<h3 class="fn" id="removeDatabase" translate="no"><a name="removeDatabase"></a><code translate="no">[static] </code><span class="type">void</span> QSqlDatabase::<span class="name">removeDatabase</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>connectionName</i>)<a class="plink" href="#removeDatabase" title="Direct link to this headline"></a></h3>
<p>Removes the database connection <i translate="no">connectionName</i> from the list of database connections.</p>
<div class="admonition warning">
<p><b>Warning: </b>There should be no open queries on the database connection when this function is called, otherwise a resource leak will occur.</p>
</div>
<p>Example:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="comment">// WRONG</span>
<span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> db <span class="operator">=</span> <span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span><span class="operator">::</span>database(<span class="string">"sales"</span>);
<span class="type"><a href="./qsqlquery.htm" translate="no">QSqlQuery</a></span> query(<span class="string">"SELECT NAME, DOB FROM EMPLOYEES"</span><span class="operator">,</span> db);
<span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span><span class="operator">::</span>removeDatabase(<span class="string">"sales"</span>); <span class="comment">// will output a warning</span>
<span class="comment">// "db" is now a dangling invalid database connection,</span>
<span class="comment">// "query" contains an invalid result set</span></pre></div>
<p>The correct way to do it:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">{
    <span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> db <span class="operator">=</span> <span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span><span class="operator">::</span>database(<span class="string">"sales"</span>);
    <span class="type"><a href="./qsqlquery.htm" translate="no">QSqlQuery</a></span> query(<span class="string">"SELECT NAME, DOB FROM EMPLOYEES"</span><span class="operator">,</span> db);
}
<span class="comment">// Both "db" and "query" are destroyed because they are out of scope</span>
<span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span><span class="operator">::</span>removeDatabase(<span class="string">"sales"</span>); <span class="comment">// correct</span></pre></div>
<p>To remove the default connection, which may have been created with a call to <a href="./qsqldatabase.htm#addDatabase" translate="no">addDatabase</a>() not specifying a connection name, you can retrieve the default connection name by calling <a href="./qsqldatabase.htm#connectionName" translate="no">connectionName</a>() on the database returned by <a href="./qsqldatabase.htm#database" translate="no">database</a>(). Note that if a default database hasn't been created an invalid database will be returned.</p>
<p><b>Note:</b> This function is <a href="./threads-reentrancy.htm" translate="no">thread-safe</a>.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#database" translate="no">database</a>(), <a href="./qsqldatabase.htm#connectionName" translate="no">connectionName</a>(), and <a href="./threads-modules.htm#threads-and-the-sql-module" translate="no">Threads and the SQL Module</a>.</p>
<!-- @@@removeDatabase -->
<!-- $$$rollback[overload1]$$$rollback -->
<h3 class="fn" id="rollback" translate="no"><a name="rollback"></a><span class="type">bool</span> QSqlDatabase::<span class="name">rollback</span>()<a class="plink" href="#rollback" title="Direct link to this headline"></a></h3>
<p>Rolls back a transaction on the database, if the driver supports transactions and a <a href="./qsqldatabase.htm#transaction" translate="no">transaction</a>() has been started. Returns <code translate="no">true</code> if the operation succeeded. Otherwise it returns <code translate="no">false</code>.</p>
<div class="admonition note">
<p><b>Note: </b>For some databases, the rollback will fail and return <code translate="no">false</code> if there is an <a href="./qsqlquery.htm#isActive" translate="no">active query</a> using the database for a <code translate="no">SELECT</code>. Make the query <a href="./qsqlquery.htm#isActive" translate="no">inactive</a> before doing the rollback.</p>
</div>
<p>Call <a href="./qsqldatabase.htm#lastError" translate="no">lastError</a>() to get information about errors.</p>
<p><b>See also </b><a href="./qsqlquery.htm#isActive" translate="no">QSqlQuery::isActive</a>(), <a href="./qsqldriver.htm#hasFeature" translate="no">QSqlDriver::hasFeature</a>(), and <a href="./qsqldatabase.htm#commit" translate="no">commit</a>().</p>
<!-- @@@rollback -->
<!-- $$$setConnectOptions[overload1]$$$setConnectOptionsconstQString& -->
<h3 class="fn" id="setConnectOptions" translate="no"><a name="setConnectOptions"></a><span class="type">void</span> QSqlDatabase::<span class="name">setConnectOptions</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>options</i> = QString())<a class="plink" href="#setConnectOptions" title="Direct link to this headline"></a></h3>
<p>Sets database-specific <i translate="no">options</i>. This must be done before the connection is opened, otherwise it has no effect. Another possibility is to close the connection, call QSqlDatabase::setConnectOptions(), and <a href="./qsqldatabase.htm#open" translate="no">open</a>() the connection again.</p>
<p>The format of the <i translate="no">options</i> string is a semicolon separated list of option names or option=value pairs. The options depend on the database client used:</p>
<div class="table"><table class="generic">
<thead><tr class="qt-style"><th>ODBC</th><th>MySQL</th><th>PostgreSQL</th></tr></thead>
<tbody><tr class="odd" valign="top"><td><ul>
<li>SQL_ATTR_ACCESS_MODE</li>
<li>SQL_ATTR_LOGIN_TIMEOUT</li>
<li>SQL_ATTR_CONNECTION_TIMEOUT</li>
<li>SQL_ATTR_CURRENT_CATALOG</li>
<li>SQL_ATTR_METADATA_ID</li>
<li>SQL_ATTR_PACKET_SIZE</li>
<li>SQL_ATTR_TRACEFILE</li>
<li>SQL_ATTR_TRACE</li>
<li>SQL_ATTR_CONNECTION_POOLING</li>
<li>SQL_ATTR_ODBC_VERSION</li>
</ul>
</td><td><ul>
<li>CLIENT_COMPRESS</li>
<li>CLIENT_FOUND_ROWS</li>
<li>CLIENT_IGNORE_SPACE</li>
<li>CLIENT_ODBC</li>
<li>CLIENT_NO_SCHEMA</li>
<li>CLIENT_INTERACTIVE</li>
<li>UNIX_SOCKET</li>
<li>MYSQL_OPT_RECONNECT</li>
<li>MYSQL_OPT_CONNECT_TIMEOUT</li>
<li>MYSQL_OPT_READ_TIMEOUT</li>
<li>MYSQL_OPT_WRITE_TIMEOUT</li>
<li>SSL_KEY</li>
<li>SSL_CERT</li>
<li>SSL_CA</li>
<li>SSL_CAPATH</li>
<li>SSL_CIPHER</li>
</ul>
</td><td><ul>
<li>connect_timeout</li>
<li>options</li>
<li>tty</li>
<li>requiressl</li>
<li>service</li>
</ul>
</td></tr>
</tbody><thead><tr class="qt-style"><th>DB2</th><th>OCI</th><th>TDS</th></tr></thead>
<tbody><tr class="even" valign="top"><td><ul>
<li>SQL_ATTR_ACCESS_MODE</li>
<li>SQL_ATTR_LOGIN_TIMEOUT</li>
</ul>
</td><td><ul>
<li>OCI_ATTR_PREFETCH_ROWS</li>
<li>OCI_ATTR_PREFETCH_MEMORY</li>
</ul>
</td><td><i>none</i></td></tr>
</tbody><thead><tr class="qt-style"><th><a href="./qtsql-attribution-sqlite.htm#sqlite" translate="no">SQLite</a></th><th>Interbase</th></tr></thead>
<tbody><tr class="odd" valign="top"><td><ul>
<li>QSQLITE_BUSY_TIMEOUT</li>
<li>QSQLITE_OPEN_READONLY</li>
<li>QSQLITE_OPEN_URI</li>
<li>QSQLITE_ENABLE_SHARED_CACHE</li>
<li>QSQLITE_ENABLE_REGEXP</li>
</ul>
</td><td><ul>
<li>ISC_DPB_LC_CTYPE</li>
<li>ISC_DPB_SQL_ROLE_NAME</li>
</ul>
</td></tr>
</tbody></table></div>
<p>Examples:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">db<span class="operator">.</span>setConnectOptions(<span class="string">"SSL_KEY=client-key.pem;SSL_CERT=client-cert.pem;SSL_CA=ca-cert.pem;CLIENT_IGNORE_SPACE=1"</span>); <span class="comment">// use an SSL connection to the server</span>
<span class="keyword">if</span> (<span class="operator">!</span>db<span class="operator">.</span>open()) {
    db<span class="operator">.</span>setConnectOptions(); <span class="comment">// clears the connect option string</span>
    <span class="comment">// ...</span>
}
<span class="comment">// ...</span>
<span class="comment">// PostgreSQL connection</span>
db<span class="operator">.</span>setConnectOptions(<span class="string">"requiressl=1"</span>); <span class="comment">// enable PostgreSQL SSL connections</span>
<span class="keyword">if</span> (<span class="operator">!</span>db<span class="operator">.</span>open()) {
    db<span class="operator">.</span>setConnectOptions(); <span class="comment">// clear options</span>
    <span class="comment">// ...</span>
}
<span class="comment">// ...</span>
<span class="comment">// ODBC connection</span>
db<span class="operator">.</span>setConnectOptions(<span class="string">"SQL_ATTR_ACCESS_MODE=SQL_MODE_READ_ONLY;SQL_ATTR_TRACE=SQL_OPT_TRACE_ON"</span>); <span class="comment">// set ODBC options</span>
<span class="keyword">if</span> (<span class="operator">!</span>db<span class="operator">.</span>open()) {
    db<span class="operator">.</span>setConnectOptions(); <span class="comment">// don't try to set this option</span>
    <span class="comment">// ...</span>
}
}</pre></div>
<p>Refer to the client library documentation for more information about the different options.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#connectOptions" translate="no">connectOptions</a>().</p>
<!-- @@@setConnectOptions -->
<!-- $$$setDatabaseName[overload1]$$$setDatabaseNameconstQString& -->
<h3 class="fn" id="setDatabaseName" translate="no"><a name="setDatabaseName"></a><span class="type">void</span> QSqlDatabase::<span class="name">setDatabaseName</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>name</i>)<a class="plink" href="#setDatabaseName" title="Direct link to this headline"></a></h3>
<p>Sets the connection's database name to <i translate="no">name</i>. To have effect, the database name must be set <i>before</i> the connection is <a href="./qsqldatabase.htm#open" translate="no">opened</a>. Alternatively, you can <a href="./qsqldatabase.htm#close" translate="no">close</a>() the connection, set the database name, and call <a href="./qsqldatabase.htm#open" translate="no">open</a>() again.</p>
<div class="admonition note">
<p><b>Note: </b>The <i>database name</i> is not the <i>connection name</i>. The connection name must be passed to <a href="./qsqldatabase.htm#addDatabase" translate="no">addDatabase</a>() at connection object create time.</p>
</div>
<p>For the QSQLITE driver, if the database name specified does not exist, then it will create the file for you unless the QSQLITE_OPEN_READONLY option is set.</p>
<p>Additionally, <i translate="no">name</i> can be set to <code translate="no">":memory:"</code> which will create a temporary database which is only available for the lifetime of the application.</p>
<p>For the QOCI (Oracle) driver, the database name is the TNS Service Name.</p>
<p>For the QODBC driver, the <i translate="no">name</i> can either be a DSN, a DSN filename (in which case the file must have a <code translate="no">.dsn</code> extension), or a connection string.</p>
<p>For example, Microsoft Access users can use the following connection string to open an <code translate="no">.mdb</code> file directly, instead of having to create a DSN entry in the ODBC manager:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="comment">// ...</span>
<span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span> db <span class="operator">=</span> <span class="type"><a href="./qsqldatabase.htm#QSqlDatabase" translate="no">QSqlDatabase</a></span><span class="operator">::</span>addDatabase(<span class="string">"QODBC"</span>);
db<span class="operator">.</span>setDatabaseName(<span class="string">"DRIVER={Microsoft Access Driver (*.mdb, *.accdb)};FIL={MS Access};DBQ=myaccessfile.mdb"</span>);
<span class="keyword">if</span> (db<span class="operator">.</span>open()) {
    <span class="comment">// success!</span>
}
<span class="comment">// ...</span></pre></div>
<p>There is no default value.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#databaseName" translate="no">databaseName</a>(), <a href="./qsqldatabase.htm#setUserName" translate="no">setUserName</a>(), <a href="./qsqldatabase.htm#setPassword" translate="no">setPassword</a>(), <a href="./qsqldatabase.htm#setHostName" translate="no">setHostName</a>(), <a href="./qsqldatabase.htm#setPort" translate="no">setPort</a>(), <a href="./qsqldatabase.htm#setConnectOptions" translate="no">setConnectOptions</a>(), and <a href="./qsqldatabase.htm#open" translate="no">open</a>().</p>
<!-- @@@setDatabaseName -->
<!-- $$$setHostName[overload1]$$$setHostNameconstQString& -->
<h3 class="fn" id="setHostName" translate="no"><a name="setHostName"></a><span class="type">void</span> QSqlDatabase::<span class="name">setHostName</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>host</i>)<a class="plink" href="#setHostName" title="Direct link to this headline"></a></h3>
<p>Sets the connection's host name to <i translate="no">host</i>. To have effect, the host name must be set <i>before</i> the connection is <a href="./qsqldatabase.htm#open" translate="no">opened</a>. Alternatively, you can <a href="./qsqldatabase.htm#close" translate="no">close</a>() the connection, set the host name, and call <a href="./qsqldatabase.htm#open" translate="no">open</a>() again.</p>
<p>There is no default value.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#hostName" translate="no">hostName</a>(), <a href="./qsqldatabase.htm#setUserName" translate="no">setUserName</a>(), <a href="./qsqldatabase.htm#setPassword" translate="no">setPassword</a>(), <a href="./qsqldatabase.htm#setDatabaseName" translate="no">setDatabaseName</a>(), <a href="./qsqldatabase.htm#setPort" translate="no">setPort</a>(), <a href="./qsqldatabase.htm#setConnectOptions" translate="no">setConnectOptions</a>(), and <a href="./qsqldatabase.htm#open" translate="no">open</a>().</p>
<!-- @@@setHostName -->
<!-- $$$setNumericalPrecisionPolicy[overload1]$$$setNumericalPrecisionPolicyQSql::NumericalPrecisionPolicy -->
<h3 class="fn" id="setNumericalPrecisionPolicy" translate="no"><a name="setNumericalPrecisionPolicy"></a><span class="type">void</span> QSqlDatabase::<span class="name">setNumericalPrecisionPolicy</span>(<span class="type"><a href="./qsql.htm#NumericalPrecisionPolicy-enum" translate="no">QSql::NumericalPrecisionPolicy</a></span> <i>precisionPolicy</i>)<a class="plink" href="#setNumericalPrecisionPolicy" title="Direct link to this headline"></a></h3>
<p>Sets the default numerical precision policy used by queries created on this database connection to <i translate="no">precisionPolicy</i>.</p>
<p>Note: Drivers that don't support fetching numerical values with low precision will ignore the precision policy. You can use <a href="./qsqldriver.htm#hasFeature" translate="no">QSqlDriver::hasFeature</a>() to find out whether a driver supports this feature.</p>
<p>Note: Setting the default precision policy to <i translate="no">precisionPolicy</i> doesn't affect any currently active queries.</p>
<p>This function was introduced in Qt 4.6.</p>
<p><b>See also </b><a href="./qsql.htm#NumericalPrecisionPolicy-enum" translate="no">QSql::NumericalPrecisionPolicy</a>, <a href="./qsqldatabase.htm#numericalPrecisionPolicy" translate="no">numericalPrecisionPolicy</a>(), <a href="./qsqlquery.htm#setNumericalPrecisionPolicy" translate="no">QSqlQuery::setNumericalPrecisionPolicy</a>(), and <a href="./qsqlquery.htm#numericalPrecisionPolicy" translate="no">QSqlQuery::numericalPrecisionPolicy</a>().</p>
<!-- @@@setNumericalPrecisionPolicy -->
<!-- $$$setPassword[overload1]$$$setPasswordconstQString& -->
<h3 class="fn" id="setPassword" translate="no"><a name="setPassword"></a><span class="type">void</span> QSqlDatabase::<span class="name">setPassword</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>password</i>)<a class="plink" href="#setPassword" title="Direct link to this headline"></a></h3>
<p>Sets the connection's password to <i translate="no">password</i>. To have effect, the password must be set <i>before</i> the connection is <a href="./qsqldatabase.htm#open" translate="no">opened</a>. Alternatively, you can <a href="./qsqldatabase.htm#close" translate="no">close</a>() the connection, set the password, and call <a href="./qsqldatabase.htm#open" translate="no">open</a>() again.</p>
<p>There is no default value.</p>
<div class="admonition warning">
<p><b>Warning: </b>This function stores the password in plain text within Qt. Use the <a href="./qsqldatabase.htm#open" translate="no">open</a>() call that takes a password as parameter to avoid this behavior.</p>
</div>
<p><b>See also </b><a href="./qsqldatabase.htm#password" translate="no">password</a>(), <a href="./qsqldatabase.htm#setUserName" translate="no">setUserName</a>(), <a href="./qsqldatabase.htm#setDatabaseName" translate="no">setDatabaseName</a>(), <a href="./qsqldatabase.htm#setHostName" translate="no">setHostName</a>(), <a href="./qsqldatabase.htm#setPort" translate="no">setPort</a>(), <a href="./qsqldatabase.htm#setConnectOptions" translate="no">setConnectOptions</a>(), and <a href="./qsqldatabase.htm#open" translate="no">open</a>().</p>
<!-- @@@setPassword -->
<!-- $$$setPort[overload1]$$$setPortint -->
<h3 class="fn" id="setPort" translate="no"><a name="setPort"></a><span class="type">void</span> QSqlDatabase::<span class="name">setPort</span>(<span class="type">int</span> <i>port</i>)<a class="plink" href="#setPort" title="Direct link to this headline"></a></h3>
<p>Sets the connection's port number to <i translate="no">port</i>. To have effect, the port number must be set <i>before</i> the connection is <a href="./qsqldatabase.htm#open" translate="no">opened</a>. Alternatively, you can <a href="./qsqldatabase.htm#close" translate="no">close</a>() the connection, set the port number, and call <a href="./qsqldatabase.htm#open" translate="no">open</a>() again..</p>
<p>There is no default value.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#port" translate="no">port</a>(), <a href="./qsqldatabase.htm#setUserName" translate="no">setUserName</a>(), <a href="./qsqldatabase.htm#setPassword" translate="no">setPassword</a>(), <a href="./qsqldatabase.htm#setHostName" translate="no">setHostName</a>(), <a href="./qsqldatabase.htm#setDatabaseName" translate="no">setDatabaseName</a>(), <a href="./qsqldatabase.htm#setConnectOptions" translate="no">setConnectOptions</a>(), and <a href="./qsqldatabase.htm#open" translate="no">open</a>().</p>
<!-- @@@setPort -->
<!-- $$$setUserName[overload1]$$$setUserNameconstQString& -->
<h3 class="fn" id="setUserName" translate="no"><a name="setUserName"></a><span class="type">void</span> QSqlDatabase::<span class="name">setUserName</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>name</i>)<a class="plink" href="#setUserName" title="Direct link to this headline"></a></h3>
<p>Sets the connection's user name to <i translate="no">name</i>. To have effect, the user name must be set <i>before</i> the connection is <a href="./qsqldatabase.htm#open" translate="no">opened</a>. Alternatively, you can <a href="./qsqldatabase.htm#close" translate="no">close</a>() the connection, set the user name, and call <a href="./qsqldatabase.htm#open" translate="no">open</a>() again.</p>
<p>There is no default value.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#userName" translate="no">userName</a>(), <a href="./qsqldatabase.htm#setDatabaseName" translate="no">setDatabaseName</a>(), <a href="./qsqldatabase.htm#setPassword" translate="no">setPassword</a>(), <a href="./qsqldatabase.htm#setHostName" translate="no">setHostName</a>(), <a href="./qsqldatabase.htm#setPort" translate="no">setPort</a>(), <a href="./qsqldatabase.htm#setConnectOptions" translate="no">setConnectOptions</a>(), and <a href="./qsqldatabase.htm#open" translate="no">open</a>().</p>
<!-- @@@setUserName -->
<!-- $$$tables[overload1]$$$tablesQSql::TableType -->
<h3 class="fn" id="tables" translate="no"><a name="tables"></a><span class="type"><a href="./qstringlist.htm" translate="no">QStringList</a></span> QSqlDatabase::<span class="name">tables</span>(<span class="type"><a href="./qsql.htm#TableType-enum" translate="no">QSql::TableType</a></span> <i>type</i> = QSql::Tables) const<a class="plink" href="#tables" title="Direct link to this headline"></a></h3>
<p>Returns a list of the database's tables, system tables and views, as specified by the parameter <i translate="no">type</i>.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#primaryIndex" translate="no">primaryIndex</a>() and <a href="./qsqldatabase.htm#record" translate="no">record</a>().</p>
<!-- @@@tables -->
<!-- $$$transaction[overload1]$$$transaction -->
<h3 class="fn" id="transaction" translate="no"><a name="transaction"></a><span class="type">bool</span> QSqlDatabase::<span class="name">transaction</span>()<a class="plink" href="#transaction" title="Direct link to this headline"></a></h3>
<p>Begins a transaction on the database if the driver supports transactions. Returns <code translate="no">true</code> if the operation succeeded. Otherwise it returns <code translate="no">false</code>.</p>
<p><b>See also </b><a href="./qsqldriver.htm#hasFeature" translate="no">QSqlDriver::hasFeature</a>(), <a href="./qsqldatabase.htm#commit" translate="no">commit</a>(), and <a href="./qsqldatabase.htm#rollback" translate="no">rollback</a>().</p>
<!-- @@@transaction -->
<!-- $$$userName[overload1]$$$userName -->
<h3 class="fn" id="userName" translate="no"><a name="userName"></a><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QSqlDatabase::<span class="name">userName</span>() const<a class="plink" href="#userName" title="Direct link to this headline"></a></h3>
<p>Returns the connection's user name; it may be empty.</p>
<p><b>See also </b><a href="./qsqldatabase.htm#setUserName" translate="no">setUserName</a>().</p>
<!-- @@@userName -->
</div>
</div>
<p class="copy-notice">
<acronym title="Copyright"></acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>