<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Thread Support | QDoc Manual</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/17-qdoc-commands-thread.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qdoc-index.htm" translate="no">QDoc Manual</a></li>
                            <li><a>Thread Support</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    
<link href="16-qdoc-commands-status.html" rel="prev">
<link href="18-qdoc-commands-relating.html" rel="next">
<p class="naviNextPrevious headerNavi">
<a class="" href="./16-qdoc-commands-status.htm">Status</a>
<a class="" href="./18-qdoc-commands-relating.htm">Relating Things</a>
</p><p></p>

<div class="context">
<h1 class="title">Thread Support</h1>
<span class="subtitle"></span>
<!-- $$$17-qdoc-commands-thread.html-description -->
<div class="descr"> <a name="details"></a>
<p>The thread support commands are for specifying the level of support for multithreaded programming in a class or function. There are three levels of support: <code translate="no">threadsafe</code>, <code translate="no">reentrant</code> and <code translate="no">nonreentrant</code>.</p>
<p>The default is <code translate="no">nonreentrant</code> which means that the associated class or function cannot be called by multiple threads. <code translate="no">Reentrant</code> and <code translate="no">threadsafe</code> are levels primarily used for classes.</p>
<p><code translate="no">Reentrant</code> means that all the functions in the referenced class can be called simultaneously by multiple threads, provided that each invocation of the functions reference unique data. While <code translate="no">threadsafe</code> means that all the functions in the referenced class can be called simultaneously by multiple threads even when each invocation references shared data.</p>
<p>When a class is marked <a href="./17-qdoc-commands-thread.htm#reentrant-command" translate="no">\reentrant</a> or <a href="./17-qdoc-commands-thread.htm#threadsafe-command" translate="no">\threadsafe</a>, functions in that class can be marked <code translate="no">nonreentrant</code> using the <a href="./17-qdoc-commands-thread.htm#nonreentrant-command" translate="no">\nonreentrant</a> command.</p>
<a name="example"></a>
<h2 id="example">Example<a class="plink" href="#example" title="Direct link to this headline"></a></h2>
<a name="reentrant-example"></a><div class="pre"><pre class="cpp" translate="no">\beginqdoc
    \<span class="keyword">class</span> <span class="type"><a href="./qlocale.htm" translate="no">QLocale</a></span>
    \brief The <span class="type"><a href="./qlocale.htm" translate="no">QLocale</a></span> <span class="keyword">class</span> converts between numbers and their
    string representations in various languages<span class="operator">.</span>

    \reentrant
    \ingroup i18n
    \ingroup text

    <span class="type"><a href="./qlocale.htm" translate="no">QLocale</a></span> is initialized with a language<span class="operator">/</span>country pair in its
    constructor and offers number<span class="operator">-</span>to<span class="operator">-</span>string and string<span class="operator">-</span>to<span class="operator">-</span>number
    conversion functions similar to those in <span class="type"><a href="./qstring.htm" translate="no">QString</a></span><span class="operator">.</span>

    <span class="operator">.</span><span class="operator">.</span><span class="operator">.</span>

    \nonreentrant

    Sets the global <span class="keyword">default</span> locale to \a locale<span class="operator">.</span> These values are
    used when a <span class="type"><a href="./qlocale.htm" translate="no">QLocale</a></span> object is constructed with no
    arguments<span class="operator">.</span> If <span class="keyword">this</span> function is <span class="keyword">not</span> called<span class="operator">,</span> the system<span class="char">'s locale
    is used.

    \warning In a multithreaded application, the default locale
    should be set at application startup, before any non-GUI
    threads are created.

    \sa system(), c()
\endqdoc
void QLocale::setDefault(const QLocale &amp;locale)
{
    default_d = locale.d;
}
</span></pre></div>
<p>QDoc renders this as:</p>
<blockquote> <h1><center>QLocale Class Reference</center></h1>
<p>The <a href="./qlocale.htm" translate="no">QLocale</a> class converts between numbers and their string representations in various languages. More...</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="preprocessor">#include &lt;QLocale&gt;</span></pre></div>
<p><b>Note:</b> All the functions in this class are <a href="./17-qdoc-commands-thread.htm#reentrant" translate="no">reentrant</a>, except <a href="./qlocale.htm#setDefault" translate="no">setDefault()</a>.</p>
<p>...</p>
<hr>
<h2>Member Type Documentation</h2>
<p>...</p>
<h3>void QLocale::setDefault ( const QLocale &amp; locale ) </h3>
<p>Sets the global default locale to locale. These values are used when a <a href="./qlocale.htm" translate="no">QLocale</a> object is constructed with no arguments. If this function is not called, the system's locale is used.</p>
<div class="admonition warning">
<p><b>Warning: </b>In a multithreaded application, the default locale should be set at application startup, before any non-GUI threads are created.</p>
</div>
<div class="admonition warning">
<p><b>Warning: </b>This function is not reentrant.</p>
</div>
<p>See also <a href="./qlocale.htm#system" translate="no">system()</a> and <a href="./qlocale.htm#c" translate="no">c()</a>.</p>
<p>...</p>
</blockquote>
<p>As shown above, QDoc generates a notification when a class is declared reentrant, and lists the exceptions (the declared nonreentrant functions). A link to the general documentation on <a href="./17-qdoc-commands-thread.htm#reentrant" translate="no">reentrancy and thread-safety</a> is included. In addition a warning, "<b>Warning</b>: This function is not reentrant.", is generated in the nonreentrant functions' documentation.</p>
<p>QDoc will generate the same notification and warnings when a class is declared threadsafe.</p>
<p>For more information see the general documentation on <a href="./17-qdoc-commands-thread.htm#reentrant" translate="no">reentrancy and thread-safety</a>.</p>
<a name="commands"></a>
<h2 id="commands">Commands<a class="plink" href="#commands" title="Direct link to this headline"></a></h2>
<a name="threadsafe-command"></a><a name="threadsafe"></a>
<h3 id="threadsafe">\threadsafe<a class="plink" href="#threadsafe" title="Direct link to this headline"></a></h3>
<p>The \threadsafe command includes a line in the documentation to indicate that the associated class or function is <i>threadsafe</i> and can be called simultaneously by multiple threads, even when separate invocations reference shared data.</p>
<p>The command must stand on its own line.</p>
<p>The documentation generated from this command will be similar to the what is generated for the <a href="./17-qdoc-commands-thread.htm#reentrant-command" translate="no">\reentrant</a> command. See the example above in the <a href="./17-qdoc-commands-thread.htm#reentrant-example" translate="no">introduction</a>.</p>
<p>See also <a href="./17-qdoc-commands-thread.htm#reentrant-command" translate="no">\reentrant</a> and <a href="./17-qdoc-commands-thread.htm#nonreentrant-command" translate="no">\nonreentrant</a>.</p>
<a name="reentrant-command"></a><a name="reentrant"></a>
<h3 id="reentrant">\reentrant<a class="plink" href="#reentrant" title="Direct link to this headline"></a></h3>
<p>The \reentrant command indicates that the associated class or function can be called simultaneously by multiple threads, provided that each invocation references its own data. See the <a href="./17-qdoc-commands-thread.htm#reentrant-example" translate="no">example</a> above.</p>
<p>The command must stand on its own line.</p>
<p>See also <a href="./17-qdoc-commands-thread.htm#nonreentrant-command" translate="no">\nonreentrant</a> and <a href="./17-qdoc-commands-thread.htm#threadsafe-command" translate="no">\threadsafe</a>.</p>
<a name="nonreentrant-command"></a><a name="nonreentrant"></a>
<h3 id="nonreentrant">\nonreentrant<a class="plink" href="#nonreentrant" title="Direct link to this headline"></a></h3>
<p>The \nonreentrant command indicates that the associated class or function cannot be called by multiple threads. Nonreentrant is the default case.</p>
<p>The command must stand on its own line.</p>
<p>When a class is marked <a href="./17-qdoc-commands-thread.htm#reentrant-command" translate="no">\reentrant</a> or <a href="./17-qdoc-commands-thread.htm#threadsafe-command" translate="no">\threadsafe</a>, functions in that class can be marked <code translate="no">nonreentrant</code> using this command in the <a href="./13-qdoc-commands-topics.htm#fn-command" translate="no">\fn</a> comment of the functions to be excluded.</p>
<p>See also <a href="./17-qdoc-commands-thread.htm#reentrant-command" translate="no">\reentrant</a> and <a href="./17-qdoc-commands-thread.htm#threadsafe-command" translate="no">\threadsafe</a>.</p>
</div>
<!-- @@@17-qdoc-commands-thread.html -->
<p class="naviNextPrevious footerNavi">
<a class="prevPage" href="./16-qdoc-commands-status.htm">Status</a>
<a class="nextPage" href="./18-qdoc-commands-relating.htm">Relating Things</a>
</p>
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>