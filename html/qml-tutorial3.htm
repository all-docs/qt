<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>QML Tutorial 3 - States and Transitions | Qt Quick</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/qml-tutorial3.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtquick-index.htm" translate="no">Qt Quick</a></li>
                            <li><a>QML Tutorial 3 - States and Transitions</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    
<link href="qml-tutorial2.html" rel="prev">
<p class="naviNextPrevious headerNavi">
<a class="" href="./qml-tutorial2.htm">QML Tutorial 2 - QML Components</a>
</p><p></p>

<div class="context">
<h1 class="title">QML Tutorial 3 - States and Transitions</h1>
<span class="subtitle"></span>
<!-- $$$qml-tutorial3.html-description -->
<div class="descr"> <a name="details"></a>
<p>In this chapter, we make this example a little bit more dynamic by introducing states and transitions.</p>
<p>We want our text to move to the bottom of the screen, rotate and become red when clicked.</p>
<p class="centerAlign"></p><div class="player" title="Click to play/pause the animation">
<video class="animation" loop="" preload="metadata">
<source src="videos/declarative-tutorial3_animation.mp4" type="video/mp4">
<source src="videos/declarative-tutorial3_animation.webm" type="video/webm">
<img alt="" src="./images/declarative-tutorial3_animation.gif">
</video>
<div class="playcontrol"></div>
</div><p>Here is the QML code:</p>
<div class="pre"><pre class="qml prettyprint" translate="no">import QtQuick 2.0

<span class="type"><a href="./qml-qtquick-rectangle.htm" translate="no">Rectangle</a></span> {
    <span class="name">id</span>: <span class="name">page</span>
    <span class="name">width</span>: <span class="number">320</span>; <span class="name">height</span>: <span class="number">480</span>
    <span class="name">color</span>: <span class="string">"lightgray"</span>

    <span class="type"><a href="./qml-qtquick-text.htm" translate="no">Text</a></span> {
        <span class="name">id</span>: <span class="name">helloText</span>
        <span class="name">text</span>: <span class="string">"Hello world!"</span>
        <span class="name">y</span>: <span class="number">30</span>
        <span class="name">anchors</span>.horizontalCenter: <span class="name">page</span>.<span class="name">horizontalCenter</span>
        <span class="name">font</span>.pointSize: <span class="number">24</span>; <span class="name">font</span>.bold: <span class="number">true</span>

        <span class="type"><a href="./qml-qtquick-mousearea.htm" translate="no">MouseArea</a></span> { <span class="name">id</span>: <span class="name">mouseArea</span>; <span class="name">anchors</span>.fill: <span class="name">parent</span> }

        <span class="name">states</span>: <span class="name">State</span> {
            <span class="name">name</span>: <span class="string">"down"</span>; <span class="name">when</span>: <span class="name">mouseArea</span>.<span class="name">pressed</span> <span class="operator">==</span> <span class="number">true</span>
            <span class="type"><a href="./qml-qtquick-propertychanges.htm" translate="no">PropertyChanges</a></span> { <span class="name">target</span>: <span class="name">helloText</span>; <span class="name">y</span>: <span class="number">160</span>; <span class="name">rotation</span>: <span class="number">180</span>; <span class="name">color</span>: <span class="string">"red"</span> }
        }

        <span class="name">transitions</span>: <span class="name">Transition</span> {
            <span class="name">from</span>: <span class="string">""</span>; <span class="name">to</span>: <span class="string">"down"</span>; <span class="name">reversible</span>: <span class="number">true</span>
            <span class="type"><a href="./qml-qtquick-parallelanimation.htm" translate="no">ParallelAnimation</a></span> {
                <span class="type"><a href="./qml-qtquick-numberanimation.htm" translate="no">NumberAnimation</a></span> { <span class="name">properties</span>: <span class="string">"y,rotation"</span>; <span class="name">duration</span>: <span class="number">500</span>; <span class="name">easing</span>.type: <span class="name">Easing</span>.<span class="name">InOutQuad</span> }
                <span class="type"><a href="./qml-qtquick-coloranimation.htm" translate="no">ColorAnimation</a></span> { <span class="name">duration</span>: <span class="number">500</span> }
            }
        }
    }

    <span class="type"><a href="./qml-qtquick-grid.htm" translate="no">Grid</a></span> {
        <span class="name">id</span>: <span class="name">colorPicker</span>
        <span class="name">x</span>: <span class="number">4</span>; <span class="name">anchors</span>.bottom: <span class="name">page</span>.<span class="name">bottom</span>; <span class="name">anchors</span>.bottomMargin: <span class="number">4</span>
        <span class="name">rows</span>: <span class="number">2</span>; <span class="name">columns</span>: <span class="number">3</span>; <span class="name">spacing</span>: <span class="number">3</span>

        <span class="type">Cell</span> { <span class="name">cellColor</span>: <span class="string">"red"</span>; <span class="name">onClicked</span>: <span class="name">helloText</span>.<span class="name">color</span> <span class="operator">=</span> <span class="name">cellColor</span> }
        <span class="type">Cell</span> { <span class="name">cellColor</span>: <span class="string">"green"</span>; <span class="name">onClicked</span>: <span class="name">helloText</span>.<span class="name">color</span> <span class="operator">=</span> <span class="name">cellColor</span> }
        <span class="type">Cell</span> { <span class="name">cellColor</span>: <span class="string">"blue"</span>; <span class="name">onClicked</span>: <span class="name">helloText</span>.<span class="name">color</span> <span class="operator">=</span> <span class="name">cellColor</span> }
        <span class="type">Cell</span> { <span class="name">cellColor</span>: <span class="string">"yellow"</span>; <span class="name">onClicked</span>: <span class="name">helloText</span>.<span class="name">color</span> <span class="operator">=</span> <span class="name">cellColor</span> }
        <span class="type">Cell</span> { <span class="name">cellColor</span>: <span class="string">"steelblue"</span>; <span class="name">onClicked</span>: <span class="name">helloText</span>.<span class="name">color</span> <span class="operator">=</span> <span class="name">cellColor</span> }
        <span class="type">Cell</span> { <span class="name">cellColor</span>: <span class="string">"black"</span>; <span class="name">onClicked</span>: <span class="name">helloText</span>.<span class="name">color</span> <span class="operator">=</span> <span class="name">cellColor</span> }
    }
}</pre></div>
<a name="walkthrough"></a>
<h2 id="walkthrough">Walkthrough<a class="plink" href="#walkthrough" title="Direct link to this headline"></a></h2>
<div class="pre"><pre class="qml prettyprint" translate="no">        <span class="name">states</span>: <span class="name">State</span> {
            <span class="name">name</span>: <span class="string">"down"</span>; <span class="name">when</span>: <span class="name">mouseArea</span>.<span class="name">pressed</span> <span class="operator">==</span> <span class="number">true</span>
            <span class="type"><a href="./qml-qtquick-propertychanges.htm" translate="no">PropertyChanges</a></span> { <span class="name">target</span>: <span class="name">helloText</span>; <span class="name">y</span>: <span class="number">160</span>; <span class="name">rotation</span>: <span class="number">180</span>; <span class="name">color</span>: <span class="string">"red"</span> }
        }</pre></div>
<p>First, we create a new <i>down</i> state for our text type. This state will be activated when the <a href="./qml-qtquick-mousearea.htm" translate="no">MouseArea</a> is pressed, and deactivated when it is released.</p>
<p>The <i>down</i> state includes a set of property changes from our implicit <i>default state</i> (the items as they were initially defined in the QML). Specifically, we set the <code translate="no">y</code> property of the text to <code translate="no">160</code>, the rotation to <code translate="no">180</code> and the <code translate="no">color</code> to red.</p>
<div class="pre"><pre class="qml prettyprint" translate="no">        <span class="name">transitions</span>: <span class="name">Transition</span> {
            <span class="name">from</span>: <span class="string">""</span>; <span class="name">to</span>: <span class="string">"down"</span>; <span class="name">reversible</span>: <span class="number">true</span>
            <span class="type"><a href="./qml-qtquick-parallelanimation.htm" translate="no">ParallelAnimation</a></span> {
                <span class="type"><a href="./qml-qtquick-numberanimation.htm" translate="no">NumberAnimation</a></span> { <span class="name">properties</span>: <span class="string">"y,rotation"</span>; <span class="name">duration</span>: <span class="number">500</span>; <span class="name">easing</span>.type: <span class="name">Easing</span>.<span class="name">InOutQuad</span> }
                <span class="type"><a href="./qml-qtquick-coloranimation.htm" translate="no">ColorAnimation</a></span> { <span class="name">duration</span>: <span class="number">500</span> }
            }
        }</pre></div>
<p>Because we don't want the text to appear at the bottom instantly but rather move smoothly, we add a transition between our two states.</p>
<p><code translate="no">from</code> and <code translate="no">to</code> define the states between which the transition will run. In this case, we want a transition from the default state to our <i>down</i> state.</p>
<p>Because we want the same transition to be run in reverse when changing back from the <i>down</i> state to the default state, we set <code translate="no">reversible</code> to <code translate="no">true</code>. This is equivalent to writing the two transitions separately.</p>
<p>The <a href="./qml-qtquick-parallelanimation.htm" translate="no">ParallelAnimation</a> type makes sure that the two types of animations (number and color) start at the same time. We could also run them one after the other by using <a href="./qml-qtquick-sequentialanimation.htm" translate="no">SequentialAnimation</a> instead.</p>
<p>For more details on states and transitions, see <a href="./qtquick-statesanimations-states.htm" translate="no">Qt Quick States</a> and the <a href="./qtwidgets-animation-states-example.htm" translate="no">states and transitions example</a>.</p>
</div>
<!-- @@@qml-tutorial3.html -->
<p class="naviNextPrevious footerNavi">
<a class="prevPage" href="./qml-tutorial2.htm">QML Tutorial 2 - QML Components</a>
</p>
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>