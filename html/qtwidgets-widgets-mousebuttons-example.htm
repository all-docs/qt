<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Mouse Button Tester | Qt Widgets</title>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtwidgets-index.htm" translate="no">Qt Widgets</a></li>
                            <li><a>Mouse Button Tester</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Mouse Button Tester</h1>
<span class="subtitle"></span>
<!-- $$$widgets/mousebuttons-brief -->
<p>The 'Mouse Button Tester' example demonstrates how to reimplement mouse events within a custom class. You can also use this program to verify that Qt is actually receiving mouse events from your mouse.</p>
<!-- @@@widgets/mousebuttons -->
<!-- $$$widgets/mousebuttons-description -->
<div class="descr"> <a name="details"></a>
<p>Many 'gamer' mouse devices are configured with high-numbered "buttons" sending text shortcuts for certain games. With such a mouse, no mouse button events occur: The "mouse" sends keystrokes, and the 'Mouse Button Tester' Window will not see the event. Receiving no event, it will not repaint the Window with new text describing a button event.</p>
<p>And so, in addition to it's use as Qt example code, the program may be useful s a mouse device tester. Note that there is another example mouse buttons example which provides the same function, written in QML.</p>
<p>This program (the Widget-based example) consists of three classes, in addition to the main() parent program:</p>
<ul>
<li><code translate="no">A</code> <a href="./qpushbutton.htm" translate="no">QPushButton</a>, "Quit".</li>
<li><code translate="no">ButtonTester</code>. This is derived from Qt's TextArea class, for purpose of customizing/re-implementing the mouse and wheel event member functions.</li>
<li><code translate="no">A</code> simple <a href="./qvboxlayout.htm" translate="no">QVBoxLayout</a> layout.</li>
</ul>
<p>First we will review the main program, with it's layout and "Quit" <a href="./qpushbutton.htm" translate="no">QPushButton</a>. Then we will take a look at the <code translate="no">ButtonTester</code> class.</p>
<a name="the-main-program"></a>
<h4 id="the-main-program">The Main Program<a class="plink" href="#the-main-program" title="Direct link to this headline"></a></h4>
<p>Note that the <a href="./qpushbutton.htm" translate="no">QPushButton</a>, "Quit", is defined directly within the main() program, rather than another class. This is a correct way of defining a "Quit" <a href="./qpushbutton.htm" translate="no">QPushButton</a>: A "Quit" Button defined inside another class would result in the destructor of that second class being called twice. This "Quit" Button uses the traditional Signal/Slot connection to invoke termination of the QApp, which will properly destroy its child classes before terminating itself.</p>
<p>The remainder of the main() program is concerned with defining the layout, and applying a minimum size to the customized ButtonTester.</p>
<a name="buttontester-class-definition"></a>
<h4 id="buttontester-class-definition">ButtonTester Class Definition<a class="plink" href="#buttontester-class-definition" title="Direct link to this headline"></a></h4>
<p>The <code translate="no">ButtonTester</code> class inherits from <a href="./qtextedit.htm" translate="no">QTextEdit</a>, and listens for mouse events on all possible <a href="./qt.htm#MouseButton-enum" translate="no">Qt::MouseButton</a> values. It also listens for wheel events from the mouse, and indicates the direction of wheel motion ("up", down", "left", or "right"). It prints short debug messages into the Window, and also on the console QDebug() stream, when mouse button and wheel events occur. Our reimplementation of mousePressEvent(), mouseReleaseEvent(), mouseDoubleClickEvent(), and wheelEvent() "drive" the program; the other functions simply convert the <a href="./qt.htm#MouseButton-enum" translate="no">Qt::MouseButton</a> values into text strings.</p>
<p>You should call the ignore() function on any mouse event (or other event) which your widget-based classes do not use and consume. This function assures that Qt will propagate the event through each parent widget, until it is used or propagated to the Window Manager. (Qt attempts to do this automatically, but it is better programming practice to explicitly invoke the function.)</p>
<p class="centerAlign"><img alt="" src="./images/mousebutton-buttontester.png"></p><p><a href="https://code.qt.io/cgit/qt/qtbase.git/tree/examples/widgets/widgets/mousebuttons?h=5.15" translate="no">Example project @ code.qt.io</a></p>
</div>
<!-- @@@widgets/mousebuttons -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>