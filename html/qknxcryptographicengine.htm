<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>QKnxCryptographicEngine | Qt KNX</title>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="http://doc.qt.io/QtForAutomation/index.html" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtknx-index.htm" translate="no">Qt KNX</a></li>
                            <li><a href="./qtknx-module.htm" translate="no">C++ Classes</a></li>
                            <li><a>QKnxCryptographicEngine</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title" translate="no">QKnxCryptographicEngine Class</h1>
<!-- $$$QKnxCryptographicEngine-brief -->
<p>The QKnxCryptographicEngine class provides the means to handle all KNXnet/IP security related tasks. <a href="#details">More...</a></p>
<!-- @@@QKnxCryptographicEngine -->
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QKnxCryptographicEngine&gt;</span>
</td></tr><tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += knx</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign"> Qt 5.12</td></tr></tbody></table></div><p>This class was introduced in Qt 5.12.</p>
<ul>
<li><a href="./qknxcryptographicengine-members.htm">List of all members, including inherited members</a></li>
</ul>
<a name="static-public-members"></a>
<h2 id="static-public-members">Static Public Members<a class="plink" href="#static-public-members" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#XOR" translate="no">XOR</a></b>(const QKnxByteArray &amp;<i>left</i>, const QKnxByteArray &amp;<i>right</i>, bool <i>adjust</i> = true)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#computeMessageAuthenticationCode" translate="no">computeMessageAuthenticationCode</a></b>(const QKnxByteArray &amp;<i>key</i>, const QKnxNetIpFrameHeader &amp;<i>header</i>, quint16 <i>id</i>, const QKnxByteArray &amp;<i>data</i>, quint48 <i>sequenceNumber</i> = 0, const QKnxByteArray &amp;<i>serialNumber</i> = {}, quint16 <i>messageTag</i> = 0)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#decodeAndDecryptPassword" translate="no">decodeAndDecryptPassword</a></b>(const QKnxByteArray &amp;<i>passwordHash</i>, const QKnxByteArray &amp;<i>createdHash</i>, const QByteArray &amp;<i>password</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#decodeAndDecryptToolKey" translate="no">decodeAndDecryptToolKey</a></b>(const QKnxByteArray &amp;<i>passwordHash</i>, const QKnxByteArray &amp;<i>createdHash</i>, const QByteArray &amp;<i>toolKey</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#decrypt" translate="no">decrypt</a></b>(const QKnxByteArray &amp;<i>key</i>, const QKnxByteArray &amp;<i>iv</i>, const QKnxByteArray &amp;<i>data</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#decryptMessageAuthenticationCode" translate="no">decryptMessageAuthenticationCode</a></b>(const QKnxByteArray &amp;<i>key</i>, const QKnxByteArray &amp;<i>mac</i>, quint48 <i>sequenceNumber</i> = 0, const QKnxByteArray &amp;<i>serialNumber</i> = {}, quint16 <i>messageTag</i> = 0)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#decryptSecureWrapperPayload" translate="no">decryptSecureWrapperPayload</a></b>(const QKnxByteArray &amp;<i>key</i>, const QKnxByteArray &amp;<i>frame</i>, quint48 <i>sequenceNumber</i>, const QKnxByteArray &amp;<i>serialNumber</i>, quint16 <i>messageTag</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#deviceAuthenticationCodeHash" translate="no">deviceAuthenticationCodeHash</a></b>(const QByteArray &amp;<i>password</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#encrypt" translate="no">encrypt</a></b>(const QKnxByteArray &amp;<i>key</i>, const QKnxByteArray &amp;<i>iv</i>, const QKnxByteArray &amp;<i>data</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#encryptMessageAuthenticationCode" translate="no">encryptMessageAuthenticationCode</a></b>(const QKnxByteArray &amp;<i>key</i>, const QKnxByteArray &amp;<i>mac</i>, quint48 <i>sequenceNumber</i> = 0, const QKnxByteArray &amp;<i>serialNumber</i> = {}, quint16 <i>messageTag</i> = 0)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#encryptSecureWrapperPayload" translate="no">encryptSecureWrapperPayload</a></b>(const QKnxByteArray &amp;<i>key</i>, const QKnxNetIpFrame &amp;<i>frame</i>, quint48 <i>sequenceNumber</i>, const QKnxByteArray &amp;<i>serialNumber</i>, quint16 <i>messageTag</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#hashSha256" translate="no">hashSha256</a></b>(const QByteArray &amp;<i>data</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#keyringPasswordHash" translate="no">keyringPasswordHash</a></b>(const QByteArray &amp;<i>password</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#sessionKey" translate="no">sessionKey</a></b>(const QKnxSecureKey &amp;<i>privateKey</i>, const QKnxSecureKey &amp;<i>peerPublicKey</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#sessionKey-1" translate="no">sessionKey</a></b>(const QKnxByteArray &amp;<i>privateKey</i>, const QKnxByteArray &amp;<i>peerPublicKey</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#sessionKey-2" translate="no">sessionKey</a></b>(const QKnxByteArray &amp;<i>sharedSecret</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> long </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#sslLibraryVersionNumber" translate="no">sslLibraryVersionNumber</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#supportsCryptography" translate="no">supportsCryptography</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QKnxByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qknxcryptographicengine.htm#userPasswordHash" translate="no">userPasswordHash</a></b>(const QByteArray &amp;<i>password</i>)</td></tr>
</tbody></table></div>
<a name="details"></a>
<!-- $$$QKnxCryptographicEngine-description -->
<div class="descr">
<h2 id="details">Detailed Description<a class="plink" href="#details" title="Direct link to this headline"></a></h2>
<p>This class is part of the Qt KNX module and currently available as a Technology Preview, and therefore the API and functionality provided by the class may be subject to change at any time without prior notice.</p>
<a name="calculating-message-authentication-codes"></a>
<h4 id="calculating-message-authentication-codes">Calculating Message Authentication Codes<a class="plink" href="#calculating-message-authentication-codes" title="Direct link to this headline"></a></h4>
<p>The <a href="./qknxcryptographicengine.htm#computeMessageAuthenticationCode" translate="no">computeMessageAuthenticationCode</a>() function can be used to compute a message authentication code (MAC) for a KNXnet/IP secure frame. The fields that are used to compute the MAC depend on the type of the frame, such as <i>session response frame</i>, <i>session authentication frame</i>, or <i>timer notify frame</i>.</p>
<p>The example code shows how to compute the MAC for the most common secure frames:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="keyword">auto</span> dummyMac <span class="operator">=</span> <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span>(<span class="number">16</span><span class="operator">,</span> <span class="number">000</span>); <span class="comment">// dummy to get a valid header</span>

<span class="comment">// Session Response Frame</span>

<span class="type"><a href="./qtglobal.htm#quint16-typedef" translate="no">quint16</a></span> secureSessionIdentifier <span class="operator">=</span> <span class="number">0x0001</span>;
<span class="keyword">auto</span> responseBuilder <span class="operator">=</span> <span class="type"><a href="./qknxnetipsessionresponseproxy.htm" translate="no">QKnxNetIpSessionResponseProxy</a></span><span class="operator">::</span>builder();

<span class="comment">// create an intermediate frame to fetch a valid frame header</span>
<span class="keyword">auto</span> netIpFrame <span class="operator">=</span> responseBuilder
    <span class="operator">.</span>setSecureSessionId(secureSessionIdentifier)
    <span class="operator">.</span>setPublicKey(serverPublicKey)
    <span class="operator">.</span>setMessageAuthenticationCode(dummyMac)
    <span class="operator">.</span>create();

<span class="keyword">auto</span> deviceAuthenticationHash <span class="operator">=</span>
    <span class="type">QKnxCryptographicEngine</span><span class="operator">::</span>deviceAuthenticationCodeHash({ <span class="string">"trustme"</span> });
<span class="keyword">auto</span> XOR_X_Y <span class="operator">=</span> <span class="type">QKnxCryptographicEngine</span><span class="operator">::</span>XOR(clientPublicKey<span class="operator">.</span>bytes()<span class="operator">,</span> serverPublicKey<span class="operator">.</span>bytes());

<span class="keyword">auto</span> mac <span class="operator">=</span> <span class="type">QKnxCryptographicEngine</span><span class="operator">::</span>computeMessageAuthenticationCode(deviceAuthenticationHash<span class="operator">,</span>
    netIpFrame<span class="operator">.</span>header()<span class="operator">,</span> secureSessionIdentifier<span class="operator">,</span> XOR_X_Y);

<span class="comment">// create the final frame including the computed MAC</span>
netIpFrame <span class="operator">=</span> responseBuilder<span class="operator">.</span>
    <span class="operator">.</span>setMessageAuthenticationCode(mac)
    <span class="operator">.</span>create();


<span class="comment">// Session Authenticate Frame</span>

<span class="keyword">auto</span> authenticateBuilder <span class="operator">=</span> <span class="type"><a href="./qknxnetipsessionauthenticateproxy.htm" translate="no">QKnxNetIpSessionAuthenticateProxy</a></span><span class="operator">::</span>builder()<span class="char">'

// create an intermediate frame to fetch a valid frame header
netIpFrame = authenticateBuilder
    .setUserId(QKnxNetIp::SecureUserId::Management)
    .setMessageAuthenticationCode(dummyMac)
    .create();

auto passwordHash = QKnxCryptographicEngine::userPasswordHash({ "secret" });

mac = QKnxCryptographicEngine::computeMessageAuthenticationCode(passwordHash,
    netIpFrame.header(), userId, XOR_X_Y);

// create the final frame including the computed MAC
netIpFrame = responseBuilder.
    .setMessageAuthenticationCode(mac)
    .create();


// Timer Notify Frame

quint48 timerValue = 211938428830917;
auto serialNumber = QKnxByteArray::fromHex("00fa12345678");
quint16 messageTag = quint16(QRandomGenerator::global()-&gt;generate();

auto timerNotifyBuilder = QKnxNetIpTimerNotifyProxy::builder();

// create an intermediate frame to fetch a valid frame header
netIpFrame = timerNotifyBuilder
    .setTimerValue(timerValue)
    .setSerialNumber(serialNumber)
    .setMessageTag(messageTag)
    .setMessageAuthenticationCode(dummyMac)
    .create();

QKnxByteArray dummyPayload;
quint16 dummySession = 0x0000;
auto backboneKey = QKnxByteArray::fromHex("000102030405060708090a0b0c0d0e0f");

mac = QKnxCryptographicEngine::computeMessageAuthenticationCode(backboneKey,
    netIpFrame.header(), dummySession, dummyPayload, timerValue, serialNumber, messageTag);

// create the final frame including the computed MAC
netIpFrame = responseBuilder.
    .setMessageAuthenticationCode(mac)
    .create();
</span></pre></div>
</div>
<!-- @@@QKnxCryptographicEngine -->
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$XOR[overload1]$$$XORconstQKnxByteArray&constQKnxByteArray&bool -->
<h3 class="fn" id="XOR" translate="no"><a name="XOR"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">XOR</span>(const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>left</i>, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>right</i>, <span class="type">bool</span> <i>adjust</i> = true)<a class="plink" href="#XOR" title="Direct link to this headline"></a></h3>
<p>Performs a byte-wise XOR operation on the arguments <i translate="no">left</i> and <i translate="no">right</i>. If the arguments are not equal in size, the function uses only the shorter array for the operation. If <i translate="no">adjust</i> is set to <code translate="no">true</code>, the arrays are made equal by padding them with <code translate="no">0x00</code> bytes.</p>
<!-- @@@XOR -->
<!-- $$$computeMessageAuthenticationCode[overload1]$$$computeMessageAuthenticationCodeconstQKnxByteArray&constQKnxNetIpFrameHeader&quint16constQKnxByteArray&quint48constQKnxByteArray&quint16 -->
<h3 class="fn" id="computeMessageAuthenticationCode" translate="no"><a name="computeMessageAuthenticationCode"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">computeMessageAuthenticationCode</span>(const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>key</i>, const <span class="type"><a href="./qknxnetipframeheader.htm" translate="no">QKnxNetIpFrameHeader</a></span> &amp;<i>header</i>, <span class="type"><a href="./qtglobal.htm#quint16-typedef" translate="no">quint16</a></span> <i>id</i>, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>data</i>, <span class="type">quint48</span> <i>sequenceNumber</i> = 0, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>serialNumber</i> = {}, <span class="type"><a href="./qtglobal.htm#quint16-typedef" translate="no">quint16</a></span> <i>messageTag</i> = 0)<a class="plink" href="#computeMessageAuthenticationCode" title="Direct link to this headline"></a></h3>
<p>Computes a message authentication code (MAC) using the given <i translate="no">key</i>, <i translate="no">header</i>, and <i translate="no">id</i> for the given <i translate="no">data</i>. Returns an array of bytes that represent the computed MAC or an empty byte array in case of an error.</p>
<div class="admonition note">
<p><b>Note: </b>The <i translate="no">sequenceNumber</i>, <i translate="no">serialNumber</i>, and <i translate="no">messageTag</i> values are required to compute a valid MAC for KNXnet/IP secure wrapper frames. For all other types of secure frames, the possibly given values are ignored and <code translate="no">0</code> is used instead. For timer notify frames, <i>default-constructed</i> values are used instead of the <i translate="no">id</i> and <i translate="no">data</i> values.</p>
</div>
<p>For an example of using this function, see <a href="./qknxcryptographicengine.htm#calculating-message-authentication-codes" translate="no">Calculating Message Authentication Codes</a>.</p>
<!-- @@@computeMessageAuthenticationCode -->
<!-- $$$decodeAndDecryptPassword[overload1]$$$decodeAndDecryptPasswordconstQKnxByteArray&constQKnxByteArray&constQByteArray& -->
<h3 class="fn" id="decodeAndDecryptPassword" translate="no"><a name="decodeAndDecryptPassword"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">decodeAndDecryptPassword</span>(const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>passwordHash</i>, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>createdHash</i>, const <span class="type"><a href="./qbytearray.htm" translate="no">QByteArray</a></span> &amp;<i>password</i>)<a class="plink" href="#decodeAndDecryptPassword" title="Direct link to this headline"></a></h3>
<p>Decodes and decrypts a password <i translate="no">password</i> that was stored in an ETS keyring (*.knxkeys) file with the given password hash <i translate="no">passwordHash</i> and created hash <i translate="no">createdHash</i>.</p>
<p>Returns an array of bytes that represent the decrypted password or an empty byte array in case of an error.</p>
<!-- @@@decodeAndDecryptPassword -->
<!-- $$$decodeAndDecryptToolKey[overload1]$$$decodeAndDecryptToolKeyconstQKnxByteArray&constQKnxByteArray&constQByteArray& -->
<h3 class="fn" id="decodeAndDecryptToolKey" translate="no"><a name="decodeAndDecryptToolKey"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">decodeAndDecryptToolKey</span>(const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>passwordHash</i>, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>createdHash</i>, const <span class="type"><a href="./qbytearray.htm" translate="no">QByteArray</a></span> &amp;<i>toolKey</i>)<a class="plink" href="#decodeAndDecryptToolKey" title="Direct link to this headline"></a></h3>
<p>Decodes and decrypts a tool key <i translate="no">toolKey</i> that was stored in an ETS keyring (*.knxkeys) file with the given password hash <i translate="no">passwordHash</i> and created hash <i translate="no">createdHash</i>.</p>
<p>Returns an array of bytes that represent the decrypted tool key or an empty byte array in case of an error.</p>
<!-- @@@decodeAndDecryptToolKey -->
<!-- $$$decrypt[overload1]$$$decryptconstQKnxByteArray&constQKnxByteArray&constQKnxByteArray& -->
<h3 class="fn" id="decrypt" translate="no"><a name="decrypt"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">decrypt</span>(const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>key</i>, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>iv</i>, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>data</i>)<a class="plink" href="#decrypt" title="Direct link to this headline"></a></h3>
<p>Decrypts the given <i translate="no">data</i> with <i translate="no">key</i> and the initial vector <i translate="no">iv</i>. Returns an array of bytes that represents the decrypted data.</p>
<!-- @@@decrypt -->
<!-- $$$decryptMessageAuthenticationCode[overload1]$$$decryptMessageAuthenticationCodeconstQKnxByteArray&constQKnxByteArray&quint48constQKnxByteArray&quint16 -->
<h3 class="fn" id="decryptMessageAuthenticationCode" translate="no"><a name="decryptMessageAuthenticationCode"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">decryptMessageAuthenticationCode</span>(const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>key</i>, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>mac</i>, <span class="type">quint48</span> <i>sequenceNumber</i> = 0, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>serialNumber</i> = {}, <span class="type"><a href="./qtglobal.htm#quint16-typedef" translate="no">quint16</a></span> <i>messageTag</i> = 0)<a class="plink" href="#decryptMessageAuthenticationCode" title="Direct link to this headline"></a></h3>
<p>Decrypts the given message authentication code (MAC) <i translate="no">mac</i> with the given key <i translate="no">key</i>, sequence number <i translate="no">sequenceNumber</i>, serial number <i translate="no">serialNumber</i>, and message tag <i translate="no">messageTag</i>. Returns an array of bytes that represent the decrypted MAC or an empty byte array in case of an error.</p>
<div class="admonition note">
<p><b>Note: </b>The <i translate="no">sequenceNumber</i>, <i translate="no">serialNumber</i> and <i translate="no">messageTag</i> values are required to properly decrypt the MAC for KNXnet/IP secure wrapper frame. For all other secure frames, the default value of <code translate="no">0</code> can be used.</p>
</div>
<!-- @@@decryptMessageAuthenticationCode -->
<!-- $$$decryptSecureWrapperPayload[overload1]$$$decryptSecureWrapperPayloadconstQKnxByteArray&constQKnxByteArray&quint48constQKnxByteArray&quint16 -->
<h3 class="fn" id="decryptSecureWrapperPayload" translate="no"><a name="decryptSecureWrapperPayload"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">decryptSecureWrapperPayload</span>(const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>key</i>, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>frame</i>, <span class="type">quint48</span> <i>sequenceNumber</i>, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>serialNumber</i>, <span class="type"><a href="./qtglobal.htm#quint16-typedef" translate="no">quint16</a></span> <i>messageTag</i>)<a class="plink" href="#decryptSecureWrapperPayload" title="Direct link to this headline"></a></h3>
<p>Decrypts the given KNXnet/IP frame <i translate="no">frame</i> with the given key <i translate="no">key</i>, sequence number <i translate="no">sequenceNumber</i>, serial number <i translate="no">serialNumber</i>, and message tag <i translate="no">messageTag</i>. Returns an array of bytes that represent the decrypted frame or an empty byte array in case of an error.</p>
<!-- @@@decryptSecureWrapperPayload -->
<!-- $$$deviceAuthenticationCodeHash[overload1]$$$deviceAuthenticationCodeHashconstQByteArray& -->
<h3 class="fn" id="deviceAuthenticationCodeHash" translate="no"><a name="deviceAuthenticationCodeHash"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">deviceAuthenticationCodeHash</span>(const <span class="type"><a href="./qbytearray.htm" translate="no">QByteArray</a></span> &amp;<i>password</i>)<a class="plink" href="#deviceAuthenticationCodeHash" title="Direct link to this headline"></a></h3>
<p>Returns the device authentication code hash derived from the user chosen password <i translate="no">password</i>.</p>
<div class="admonition note">
<p><b>Note: </b>The salt used in the password-based key derivation function (PBKDF2) is set to <i>device-authentication-code.1.secure.ip.knx.org</i>.</p>
</div>
<!-- @@@deviceAuthenticationCodeHash -->
<!-- $$$encrypt[overload1]$$$encryptconstQKnxByteArray&constQKnxByteArray&constQKnxByteArray& -->
<h3 class="fn" id="encrypt" translate="no"><a name="encrypt"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">encrypt</span>(const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>key</i>, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>iv</i>, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>data</i>)<a class="plink" href="#encrypt" title="Direct link to this headline"></a></h3>
<p>Encrypts the given <i translate="no">data</i> with <i translate="no">key</i> and the initial vector <i translate="no">iv</i>. Returns an array of bytes that represents the encrypted data.</p>
<!-- @@@encrypt -->
<!-- $$$encryptMessageAuthenticationCode[overload1]$$$encryptMessageAuthenticationCodeconstQKnxByteArray&constQKnxByteArray&quint48constQKnxByteArray&quint16 -->
<h3 class="fn" id="encryptMessageAuthenticationCode" translate="no"><a name="encryptMessageAuthenticationCode"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">encryptMessageAuthenticationCode</span>(const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>key</i>, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>mac</i>, <span class="type">quint48</span> <i>sequenceNumber</i> = 0, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>serialNumber</i> = {}, <span class="type"><a href="./qtglobal.htm#quint16-typedef" translate="no">quint16</a></span> <i>messageTag</i> = 0)<a class="plink" href="#encryptMessageAuthenticationCode" title="Direct link to this headline"></a></h3>
<p>Encrypts the given message authentication code (MAC) <i translate="no">mac</i> with the given key <i translate="no">key</i>, sequence number <i translate="no">sequenceNumber</i>, serial number <i translate="no">serialNumber</i>, and message tag <i translate="no">messageTag</i>. Returns an array of bytes that represent the encrypted MAC or an empty byte array in case of an error.</p>
<div class="admonition note">
<p><b>Note: </b>The <i translate="no">sequenceNumber</i>, <i translate="no">serialNumber</i> and <i translate="no">messageTag</i> are mandatory to properly encrypt the MAC for KNXnet/IP secure wrapper frame, for all other secure frames the default value of <code translate="no">0</code> can be used.</p>
</div>
<!-- @@@encryptMessageAuthenticationCode -->
<!-- $$$encryptSecureWrapperPayload[overload1]$$$encryptSecureWrapperPayloadconstQKnxByteArray&constQKnxNetIpFrame&quint48constQKnxByteArray&quint16 -->
<h3 class="fn" id="encryptSecureWrapperPayload" translate="no"><a name="encryptSecureWrapperPayload"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">encryptSecureWrapperPayload</span>(const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>key</i>, const <span class="type"><a href="./qknxnetipframe.htm" translate="no">QKnxNetIpFrame</a></span> &amp;<i>frame</i>, <span class="type">quint48</span> <i>sequenceNumber</i>, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>serialNumber</i>, <span class="type"><a href="./qtglobal.htm#quint16-typedef" translate="no">quint16</a></span> <i>messageTag</i>)<a class="plink" href="#encryptSecureWrapperPayload" title="Direct link to this headline"></a></h3>
<p>Encrypts the given KNXnet/IP frame <i translate="no">frame</i> with the given key <i translate="no">key</i>, sequence number <i translate="no">sequenceNumber</i>, serial number <i translate="no">serialNumber</i>, and message tag <i translate="no">messageTag</i>. Returns an array of bytes that represent the encrypted frame or an empty byte array in case of an error or invalid KNXnet/IP frame <i translate="no">frame</i>.</p>
<!-- @@@encryptSecureWrapperPayload -->
<!-- $$$hashSha256[overload1]$$$hashSha256constQByteArray& -->
<h3 class="fn" id="hashSha256" translate="no"><a name="hashSha256"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">hashSha256</span>(const <span class="type"><a href="./qbytearray.htm" translate="no">QByteArray</a></span> &amp;<i>data</i>)<a class="plink" href="#hashSha256" title="Direct link to this headline"></a></h3>
<p>Returns the hash of <i translate="no">data</i> using the <code translate="no">Sha256</code> algorithm.</p>
<!-- @@@hashSha256 -->
<!-- $$$keyringPasswordHash[overload1]$$$keyringPasswordHashconstQByteArray& -->
<h3 class="fn" id="keyringPasswordHash" translate="no"><a name="keyringPasswordHash"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">keyringPasswordHash</span>(const <span class="type"><a href="./qbytearray.htm" translate="no">QByteArray</a></span> &amp;<i>password</i>)<a class="plink" href="#keyringPasswordHash" title="Direct link to this headline"></a></h3>
<p>Returns the keyring password hash derived from the user chosen password <i translate="no">password</i>.</p>
<div class="admonition note">
<p><b>Note: </b>The salt used in the password-based key derivation function (PBKDF2) is set to <i>1.keyring.ets.knx.org</i>.</p>
</div>
<!-- @@@keyringPasswordHash -->
<!-- $$$sessionKey[overload1]$$$sessionKeyconstQKnxSecureKey&constQKnxSecureKey& -->
<h3 class="fn" id="sessionKey" translate="no"><a name="sessionKey"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">sessionKey</span>(const <span class="type"><a href="./qknxsecurekey.htm" translate="no">QKnxSecureKey</a></span> &amp;<i>privateKey</i>, const <span class="type"><a href="./qknxsecurekey.htm" translate="no">QKnxSecureKey</a></span> &amp;<i>peerPublicKey</i>)<a class="plink" href="#sessionKey" title="Direct link to this headline"></a></h3>
<p>Returns the session key calculated from the given private key <i translate="no">privateKey</i> and the peer's public key <i translate="no">peerPublicKey</i> if OpenSSL is available and no error occurs; otherwise returns a <a href="./containers.htm#default-constructed-value" translate="no">default-constructed value</a> which can be empty.</p>
<!-- @@@sessionKey -->
<!-- $$$sessionKey$$$sessionKeyconstQKnxByteArray&constQKnxByteArray& -->
<h3 class="fn" id="sessionKey-1" translate="no"><a name="sessionKey-1"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">sessionKey</span>(const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>privateKey</i>, const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>peerPublicKey</i>)<a class="plink" href="#sessionKey-1" title="Direct link to this headline"></a></h3>
<p>This function overloads sessionKey().</p>
<!-- @@@sessionKey -->
<!-- $$$sessionKey$$$sessionKeyconstQKnxByteArray& -->
<h3 class="fn" id="sessionKey-2" translate="no"><a name="sessionKey-2"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">sessionKey</span>(const <span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> &amp;<i>sharedSecret</i>)<a class="plink" href="#sessionKey-2" title="Direct link to this headline"></a></h3>
<p>Returns the session key computed from the given secret <i translate="no">sharedSecret</i>.</p>
<!-- @@@sessionKey -->
<!-- $$$sslLibraryVersionNumber[overload1]$$$sslLibraryVersionNumber -->
<h3 class="fn" id="sslLibraryVersionNumber" translate="no"><a name="sslLibraryVersionNumber"></a><code translate="no">[static] </code><span class="type">long</span> QKnxCryptographicEngine::<span class="name">sslLibraryVersionNumber</span>()<a class="plink" href="#sslLibraryVersionNumber" title="Direct link to this headline"></a></h3>
<p>Returns the OpenSSL version number of the OpenSSL library if OpenSSL is available and used to provide cryptographic support; or <code translate="no">0</code> in any other case.</p>
<!-- @@@sslLibraryVersionNumber -->
<!-- $$$supportsCryptography[overload1]$$$supportsCryptography -->
<h3 class="fn" id="supportsCryptography" translate="no"><a name="supportsCryptography"></a><code translate="no">[static] </code><span class="type">bool</span> QKnxCryptographicEngine::<span class="name">supportsCryptography</span>()<a class="plink" href="#supportsCryptography" title="Direct link to this headline"></a></h3>
<p>Determines if cryptography support is available. Returns <code translate="no">true</code> on success; <code translate="no">false</code> otherwise.</p>
<!-- @@@supportsCryptography -->
<!-- $$$userPasswordHash[overload1]$$$userPasswordHashconstQByteArray& -->
<h3 class="fn" id="userPasswordHash" translate="no"><a name="userPasswordHash"></a><code translate="no">[static] </code><span class="type"><a href="./qknxbytearray.htm" translate="no">QKnxByteArray</a></span> QKnxCryptographicEngine::<span class="name">userPasswordHash</span>(const <span class="type"><a href="./qbytearray.htm" translate="no">QByteArray</a></span> &amp;<i>password</i>)<a class="plink" href="#userPasswordHash" title="Direct link to this headline"></a></h3>
<p>Returns the password hash derived from the user chosen password <i translate="no">password</i>.</p>
<div class="admonition note">
<p><b>Note: </b>The salt used in the password-based key derivation function (PBKDF2) is set to <i>user-password.1.secure.ip.knx.org</i>.</p>
</div>
<!-- @@@userPasswordHash -->
</div>
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>