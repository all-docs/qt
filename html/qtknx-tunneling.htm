<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Qt KNX Tunnelinges | Qt KNX</title>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="http://doc.qt.io/QtForAutomation/index.html" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtknx-index.htm" translate="no">Qt KNX</a></li>
                            <li><a>Qt KNX Tunneling Classes</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Qt KNX Tunneling Classes</h1>
<span class="subtitle"></span>
<!-- $$$qtknx-tunneling.html-description -->
<div class="descr"> <a name="details"></a>
<p><i>Tunneling</i> refers to point-to-point exchange of KNX telegrams over an IP network between a KNXnet/IP server and a KNXnet/IP client for configuration and diagnostics. KNX frames are encapsulated inside IP datagrams. A tunnel is created when Engineering Tool Software (ETS) sends a single KNX frame in a KNXnet/IP frame and waits until the response arrives or a time-out is reached.</p>
<p>Tunneling is implemented at the KNX data link layer by transferring link layer frames. The KNX application service and data are encapsulated in the transport protocol data unit (TPDU) included in the frame.</p>
<p>The following diagram shows the main Qt KNX module classes that enable tunneling:</p>
<p class="centerAlign"><img alt="" src="./images/qtknx-tunneling-classes.png"></p><a name="creating-tunneling-connections"></a>
<h2 id="creating-tunneling-connections">Creating Tunneling Connections<a class="plink" href="#creating-tunneling-connections" title="Direct link to this headline"></a></h2>
<p>The <a href="./qknxnetiptunnel.htm" translate="no">QKnxNetIpTunnel</a> class is used to establish a functional connection from a KNXnet/IP client to the endpoint of a KNXnet/IP server for sending a KNX frame. For more information, see <a href="./qtknx-tunnelclient-example.htm" translate="no">Tunnel Client Example</a>.</p>
<p>As an alternative, the <a href="./qknxnetiptunnelingrequestproxy.htm" translate="no">QKnxNetIpTunnelingRequestProxy</a> class can be used to read a tunneling request from the generic <a href="./qknxnetipframe.htm" translate="no">QKnxNetIpFrame</a> class and to create a KNXnet/IP tunneling request frame. Similarly, the <a href="./qknxnetiptunnelingacknowledgeproxy.htm" translate="no">QKnxNetIpTunnelingAcknowledgeProxy</a> class can be used to create a KNXnet/IP tunneling acknowledgment frame to confirm the reception of the request.</p>
<a name="sending-frames-through-tunnels"></a>
<h2 id="sending-frames-through-tunnels">Sending Frames Through Tunnels<a class="plink" href="#sending-frames-through-tunnels" title="Direct link to this headline"></a></h2>
<p><a href="./qknxlinklayerframe.htm" translate="no">QKnxLinkLayerFrame</a> objects are sent to the KNX devices on the bus, behind the KNXnet/IP server. In accordance with the KNXnet/IP tunneling specifications, only the <a href="./qknxlinklayerframe.htm#MessageCode-enum" translate="no">QKnxLinkLayerFrame::MessageCode</a> values listed below are valid link layer frame message codes to be sent via a KNXnet/IP tunnel connection:</p>
<ul>
<li><code translate="no">DataRequest</code> (<code translate="no">L_Data.req</code>)</li>
<li><code translate="no">DataConfirmation</code> (<code translate="no">L_Data.con</code>)</li>
<li><code translate="no">DataIndication</code> (<code translate="no">L_Data.ind</code>)</li>
<li><code translate="no">BusmonitorIndication</code> (<code translate="no">L_Busmon.ind</code>)</li>
<li><code translate="no">RawRequest</code> (<code translate="no">L_Raw.req</code>)</li>
<li><code translate="no">RawIndication</code> (<code translate="no">L_Raw.ind</code>)</li>
<li><code translate="no">RawConfirmation</code> (<code translate="no">L_Raw.con</code>)</li>
<li><code translate="no">ResetRequest</code> (<code translate="no">M_Reset.req</code>)</li>
</ul>
<p>Each KNXnet/IP tunneling connection corresponds to a KNX individual address (<a href="./qknxaddress.htm" translate="no">QKnxAddress</a>) that is assigned to the connection by the server. The individual address must be unique within the open tunneling connections of the device. A server cannot open two or more tunneling connections with the same individual address.</p>
<p>The individual address is returned in a connection response data (CRD) structure with the connect response <a href="./qknxnetipframe.htm" translate="no">QKnxNetIpFrame</a>. The CRD structure is constructed from the generic <a href="./qknxnetipcrd.htm" translate="no">QKnxNetIpCrd</a> class by using the <a href="./qknxnetipcrdproxy.htm" translate="no">QKnxNetIpCrdProxy</a> class. The contents of the KNXnet/IP frame can be read by using the <a href="./qknxnetipconnectresponseproxy.htm" translate="no">QKnxNetIpConnectResponseProxy</a> view class.</p>
<p>If the KNXnet/IP server has no free addresses available, the connection response contains the error code <a href="./qknx-netip.htm#Error-enum" translate="no">QKnx::NetIp::NoMoreUniqueConnections</a>.</p>
<p>In addition to the individual address, link layer frames contain the KNX application service the client wants to use (<a href="./qknxtpdu.htm#ApplicationControlField-enum" translate="no">QKnxTpdu::ApplicationControlField</a>) and the data (<a href="./qknxdatapointtype.htm" translate="no">QKnxDatapointType</a>, for write services).</p>
<p>The <a href="./qknxlinklayerframe-builder.htm" translate="no">QKnxLinkLayerFrame::Builder</a> class can be used to create valid link layer frames. It is set up with default values to create a common external message interface (cEMI) group value read frame, except for the destination address, which needs to be specified during the creation of the frame.</p>
<a name="list-of-tunneling-classes"></a>
<h2 id="list-of-tunneling-classes">List of Tunneling Classes<a class="plink" href="#list-of-tunneling-classes" title="Direct link to this headline"></a></h2>
<div class="table"><table class="annotated">
<tbody><tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qknxlinklayerframe.htm">QKnxLinkLayerFrame</a></p></td><td class="tblDescr"><p>Frame that is sent over a communication channel established between a KNXnet/IP client and a KNXnet/IP server</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qknxlinklayerframe-builder.htm">QKnxLinkLayerFrame::Builder</a></p></td><td class="tblDescr"><p>QKnxLinkLayerFrame::Builder class provides the means to create a KNX link layer frame</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qknxnetiptunnel.htm">QKnxNetIpTunnel</a></p></td><td class="tblDescr"><p>Enables the opening and handling of a KNXnet/IP client connection to a KNXnet/IP server</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qknxnetiptunnelingacknowledgeproxy.htm">QKnxNetIpTunnelingAcknowledgeProxy</a></p></td><td class="tblDescr"><p>The means to read a tunneling acknowledgment from the generic QKnxNetIpFrame class and to create a KNXnet/IP frame based on the information</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qknxnetiptunnelingfeaturegetproxy.htm">QKnxNetIpTunnelingFeatureGetProxy</a></p></td><td class="tblDescr"><p>The means to access the information carried by a generic tunneling feature-get service QKnxNetIpFrame frame and to create a KNXnet/IP frame based on the information</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qknxnetiptunnelingfeatureinfoproxy.htm">QKnxNetIpTunnelingFeatureInfoProxy</a></p></td><td class="tblDescr"><p>The means to access the information carried by a generic tunneling feature-info service QKnxNetIpFrame frame and to create a KNXnet/IP frame based on the information</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qknxnetiptunnelingfeatureresponseproxy.htm">QKnxNetIpTunnelingFeatureResponseProxy</a></p></td><td class="tblDescr"><p>The means to access the information carried by a generic tunneling feature-response service QKnxNetIpFrame frame and to create a KNXnet/IP frame based on the information</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qknxnetiptunnelingfeaturesetproxy.htm">QKnxNetIpTunnelingFeatureSetProxy</a></p></td><td class="tblDescr"><p>The means to access the information carried by a generic tunneling feature-set service QKnxNetIpFrame frame and to create a KNXnet/IP frame based on the information</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qknxnetiptunnelinginfodibproxy.htm">QKnxNetIpTunnelingInfoDibProxy</a></p></td><td class="tblDescr"><p>The means to read the maximum ADPU length supported by a KNXnet/IP tunneling interface and tunneling slot information from the generic QKnxNetIpDib class and to create a KNXnet/IP tunneling information block (DIB) structure</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qknxnetiptunnelingrequestproxy.htm">QKnxNetIpTunnelingRequestProxy</a></p></td><td class="tblDescr"><p>The means to read a tunneling request from the generic QKnxNetIpFrame class and to create a KNXnet/IP frame based on the information</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qknxnetiptunnelingslotinfo.htm">QKnxNetIpTunnelingSlotInfo</a></p></td><td class="tblDescr"><p>Contains information about the individual address that is currently assigned to the tunneling slot as well as the current state of the tunneling slot</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qknxtpdu.htm">QKnxTpdu</a></p></td><td class="tblDescr"><p>Represents a TPDU, which is the part of a link layer frame to be read by the network, transport, and application layers</p></td></tr>
</tbody></table></div>
</div>
<!-- @@@qtknx-tunneling.html -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>