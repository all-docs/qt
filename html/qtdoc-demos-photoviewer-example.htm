<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Qt Quick Demo - Photo Viewer</title>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a>Qt Quick Demo - Photo Viewer</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Qt Quick Demo - Photo Viewer</h1>
<span class="subtitle"></span>
<!-- $$$demos/photoviewer-brief -->
<p>A QML photo viewer that that uses <a href="./qml-qtquick-xmllistmodel-xmllistmodel.htm" translate="no">XmlListModel</a> and <a href="./qml-qtquick-xmllistmodel-xmlrole.htm" translate="no">XmlRole</a> to download Flickr feeds, and Package to display the photos in different views.</p>
<!-- @@@demos/photoviewer -->
<!-- $$$demos/photoviewer-description -->
<div class="descr"> <a name="details"></a>
<p class="centerAlign"><img alt="" src="./images/qtquick-demo-photoviewer-small.png"></p><p><i>Photo Viewer</i> demonstrates the following <a href="./qtquick-index.htm" translate="no">Qt Quick</a> features:</p>
<ul>
<li>Using custom types to create screens and screen controls.</li>
<li>Using Qt Quick Controls 1 to create an application window.</li>
<li>Using the <a href="./qml-qtqml-models-package.htm" translate="no">Package</a> type with a <a href="./qml-qtqml-models-delegatemodel.htm" translate="no">DelegateModel</a> to provide delegates with a shared context to multiple views.</li>
<li>Using XML list models to download Flickr feeds.</li>
<li>Using the <a href="./qml-qtquick-flipable.htm" translate="no">Flipable</a> type to create labels with different text on the front and back.</li>
<li>Using the <a href="./qml-qtquick-pathview.htm" translate="no">PathView</a>, <a href="./qml-geopolygon.htm#path" translate="no">Path</a>, <a href="./qml-qtquick-pathattribute.htm" translate="no">PathAttribute</a>, and <a href="./qml-qtquick-pathline.htm" translate="no">PathLine</a> types to lay out photos on a path.</li>
<li>Providing feedback to users while data is loading.</li>
<li>Localizing applications.</li>
</ul>
<a name="running-the-example"></a>
<h4 id="running-the-example">Running the Example<a class="plink" href="#running-the-example" title="Direct link to this headline"></a></h4>
<p>To run the example from <a href="https://doc.qt.io/qtcreator/index.html" translate="no">Qt Creator</a>, open the <b>Welcome</b> mode and select the example from <b>Examples</b>. For more information, visit <a href="https://doc.qt.io/qtcreator/creator-build-example-application.html" translate="no">Building and Running an Example</a>.</p>
<a name="using-custom-types"></a>
<h4 id="using-custom-types">Using Custom Types<a class="plink" href="#using-custom-types" title="Direct link to this headline"></a></h4>
<p>In the Photo Viewer app, we use the following custom types that are each defined in a separate .qml file:</p>
<ul>
<li><code translate="no">AlbumDelegate.qml</code></li>
<li><code translate="no">BusyIndicator.qml</code></li>
<li><code translate="no">Button.qml</code></li>
<li><code translate="no">EditableButton.qml</code></li>
<li><code translate="no">PhotoDelegate.qml</code></li>
<li><code translate="no">ProgressBar.qml</code></li>
<li><code translate="no">RssModel.qml</code></li>
<li><code translate="no">Tag.qml</code></li>
</ul>
<p>To use the custom types, we add an import statement to the main QML file, main.qml, that imports the folder called <code translate="no">PhotoViewerCore</code> where the types are located:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">import "PhotoViewerCore"</pre></div>
<a name="creating-the-main-window"></a>
<h4 id="creating-the-main-window">Creating the Main Window<a class="plink" href="#creating-the-main-window" title="Direct link to this headline"></a></h4>
<p>In main.qml, we use the <a href="./qml-qtquick-controls2-applicationwindow.htm" translate="no">ApplicationWindow</a> Qt Quick Control to create the app main window:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type"><a href="./qml-qtquick-controls2-applicationwindow.htm" translate="no">ApplicationWindow</a></span> {
    <span class="name">id</span>: <span class="name">mainWindow</span>

    <span class="name">visible</span>: <span class="number">true</span></pre></div>
<p>We use a <a href="./qml-qtqml-models-listmodel.htm" translate="no">ListModel</a> type with <a href="./qml-qtqml-models-listelement.htm" translate="no">ListElement</a> types to display photo albums:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qml-qtqml-models-listmodel.htm" translate="no">ListModel</a></span> {
        <span class="name">id</span>: <span class="name">photosModel</span>
        <span class="type"><a href="./qml-qtqml-models-listelement.htm" translate="no">ListElement</a></span> { <span class="name">tag</span>: <span class="string">"Flowers"</span> }
        <span class="type"><a href="./qml-qtqml-models-listelement.htm" translate="no">ListElement</a></span> { <span class="name">tag</span>: <span class="string">"Wildlife"</span> }
        <span class="type"><a href="./qml-qtqml-models-listelement.htm" translate="no">ListElement</a></span> { <span class="name">tag</span>: <span class="string">"Prague"</span> }
    }</pre></div>
<p>List elements are defined like other QML types except that they contain a collection of <i>role</i> definitions instead of properties. Roles both define how the data is accessed and include the data itself. For each list element, we use the <code translate="no">tag</code> role to specify the photos to download.</p>
<p>A <a href="./qml-qtqml-models-delegatemodel.htm" translate="no">DelegateModel</a> type is used together with the <a href="./qml-qtqml-models-package.htm" translate="no">Package</a> type to provide delegates to multiple views. The <code translate="no">model</code> property holds the model providing data for the delegate model and the <code translate="no">delegate</code> property specifies the template defining each item instantiated by a view:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qml-qtqml-models-delegatemodel.htm" translate="no">DelegateModel</a></span> { <span class="name">id</span>: <span class="name">albumVisualModel</span>; <span class="name">model</span>: <span class="name">photosModel</span>; <span class="name">delegate</span>: <span class="name">AlbumDelegate</span> {} }</pre></div>
<p>We use a <a href="./qml-qtquick-gridview.htm" translate="no">GridView</a> type to lay out the albums as a grid:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qml-qtquick-gridview.htm" translate="no">GridView</a></span> {
        <span class="name">id</span>: <span class="name">albumView</span>; <span class="name">width</span>: <span class="name">parent</span>.<span class="name">width</span>; <span class="name">height</span>: <span class="name">parent</span>.<span class="name">height</span>; <span class="name">cellWidth</span>: <span class="number">210</span>; <span class="name">cellHeight</span>: <span class="number">220</span>
        <span class="name">model</span>: <span class="name">albumVisualModel</span>.<span class="name">parts</span>.<span class="name">album</span>; <span class="name">visible</span>: <span class="name">albumsShade</span>.<span class="name">opacity</span> <span class="operator">!=</span> <span class="number">1.0</span>
    }</pre></div>
<p>The <code translate="no">model</code> property references the package name <code translate="no">album</code> that we specify in AlbumDelegate.qml. We use the <a href="./qml-qtqml-models-package.htm" translate="no">Package</a> type to allow the photos to move between different views. The <a href="./qml-qtqml-models-package.htm" translate="no">Package</a> contains the named items <code translate="no">browser</code>, <code translate="no">fullscreen</code>, and <code translate="no">album</code>:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qml-qtqml-models-package.htm" translate="no">Package</a></span> {

        <span class="type"><a href="./qml-qtquick-item.htm" translate="no">Item</a></span> {
            <span class="name">Package</span>.name: <span class="string">'browser'</span>
            <span class="type"><a href="./qml-qtquick-gridview.htm" translate="no">GridView</a></span> {
                <span class="name">id</span>: <span class="name">photosGridView</span>; <span class="name">model</span>: <span class="name">visualModel</span>.<span class="name">parts</span>.<span class="name">grid</span>; <span class="name">width</span>: <span class="name">mainWindow</span>.<span class="name">width</span>; <span class="name">height</span>: <span class="name">mainWindow</span>.<span class="name">height</span> <span class="operator">-</span> <span class="number">21</span>
                <span class="name">x</span>: <span class="number">0</span>; <span class="name">y</span>: <span class="number">21</span>; <span class="name">cellWidth</span>: <span class="number">160</span>; <span class="name">cellHeight</span>: <span class="number">153</span>; <span class="name">interactive</span>: <span class="number">false</span>
                <span class="name">onCurrentIndexChanged</span>: <span class="name">photosListView</span>.<span class="name">positionViewAtIndex</span>(<span class="name">currentIndex</span>, <span class="name">ListView</span>.<span class="name">Contain</span>)
            }
        }

        <span class="type"><a href="./qml-qtquick-item.htm" translate="no">Item</a></span> {
            <span class="name">Package</span>.name: <span class="string">'fullscreen'</span>
            <span class="type"><a href="./qml-qtquick-listview.htm" translate="no">ListView</a></span> {
                <span class="name">id</span>: <span class="name">photosListView</span>; <span class="name">model</span>: <span class="name">visualModel</span>.<span class="name">parts</span>.<span class="name">list</span>; <span class="name">orientation</span>: <span class="name">Qt</span>.<span class="name">Horizontal</span>
                <span class="name">width</span>: <span class="name">mainWindow</span>.<span class="name">width</span>; <span class="name">height</span>: <span class="name">mainWindow</span>.<span class="name">height</span>; <span class="name">interactive</span>: <span class="number">false</span>
                <span class="name">onCurrentIndexChanged</span>: <span class="name">photosGridView</span>.<span class="name">positionViewAtIndex</span>(<span class="name">currentIndex</span>, <span class="name">GridView</span>.<span class="name">Contain</span>)
                <span class="name">highlightRangeMode</span>: <span class="name">ListView</span>.<span class="name">StrictlyEnforceRange</span>; <span class="name">snapMode</span>: <span class="name">ListView</span>.<span class="name">SnapOneItem</span>
            }
        }

        <span class="type"><a href="./qml-qtquick-item.htm" translate="no">Item</a></span> {
            <span class="name">Package</span>.name: <span class="string">'album'</span>
            <span class="name">id</span>: <span class="name">albumWrapper</span>; <span class="name">width</span>: <span class="number">210</span>; <span class="name">height</span>: <span class="number">220</span></pre></div>
<p>The named items are used as the delegates by the views that reference the special <a href="./qml-qtqml-models-delegatemodel.htm#parts-prop" translate="no">DelegateModel::parts</a> property to select the model that provides the chosen delegate.</p>
<p>We use a <a href="./qml-qtquick-listview.htm" translate="no">ListView</a> type to lay out albums in other views:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qml-qtquick-listview.htm" translate="no">ListView</a></span> { <span class="name">anchors</span>.fill: <span class="name">parent</span>; <span class="name">model</span>: <span class="name">albumVisualModel</span>.<span class="name">parts</span>.<span class="name">browser</span>; <span class="name">interactive</span>: <span class="number">false</span> }

    <span class="type"><a href="./qml-qtquick-listview.htm" translate="no">ListView</a></span> { <span class="name">anchors</span>.fill: <span class="name">parent</span>; <span class="name">model</span>: <span class="name">albumVisualModel</span>.<span class="name">parts</span>.<span class="name">fullscreen</span>; <span class="name">interactive</span>: <span class="number">false</span> }</pre></div>
<a name="displaying-photos"></a>
<h4 id="displaying-photos">Displaying Photos<a class="plink" href="#displaying-photos" title="Direct link to this headline"></a></h4>
<p>We use the PhotoDelegate custom type that is specified in PhotoDelegate.qml to display photos. We use a <a href="./qml-qtqml-models-package.htm" translate="no">Package</a> type to lay out the photos either in a stack, list, or a grid:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type"><a href="./qml-qtqml-models-package.htm" translate="no">Package</a></span> {
    <span class="type"><a href="./qml-qtquick-item.htm" translate="no">Item</a></span> { <span class="name">id</span>: <span class="name">stackItem</span>; <span class="name">Package</span>.name: <span class="string">'stack'</span>; <span class="name">width</span>: <span class="number">160</span>; <span class="name">height</span>: <span class="number">153</span>; <span class="name">z</span>: <span class="name">stackItem</span>.<span class="name">PathView</span>.<span class="name">z</span> }
    <span class="type"><a href="./qml-qtquick-item.htm" translate="no">Item</a></span> { <span class="name">id</span>: <span class="name">listItem</span>; <span class="name">Package</span>.name: <span class="string">'list'</span>; <span class="name">width</span>: <span class="name">mainWindow</span>.<span class="name">width</span> <span class="operator">+</span> <span class="number">40</span>; <span class="name">height</span>: <span class="number">153</span> }
    <span class="type"><a href="./qml-qtquick-item.htm" translate="no">Item</a></span> { <span class="name">id</span>: <span class="name">gridItem</span>; <span class="name">Package</span>.name: <span class="string">'grid'</span>; <span class="name">width</span>: <span class="number">160</span>; <span class="name">height</span>: <span class="number">153</span> }</pre></div>
<p>The photos are rotated at random angles by using the <code translate="no">Math.random()</code> JavaScript method:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qml-qtquick-item.htm" translate="no">Item</a></span> {
        <span class="name">width</span>: <span class="number">160</span>; <span class="name">height</span>: <span class="number">153</span>

        <span class="type"><a href="./qml-qtquick-item.htm" translate="no">Item</a></span> {
            <span class="name">id</span>: <span class="name">photoWrapper</span>

            property <span class="type">double</span> <span class="name">randomAngle</span>: <span class="name">Math</span>.<span class="name">random</span>() <span class="operator">*</span> (<span class="number">2</span> <span class="operator">*</span> <span class="number">6</span> <span class="operator">+</span> <span class="number">1</span>) <span class="operator">-</span> <span class="number">6</span>
            property <span class="type">double</span> <span class="name">randomAngle2</span>: <span class="name">Math</span>.<span class="name">random</span>() <span class="operator">*</span> (<span class="number">2</span> <span class="operator">*</span> <span class="number">6</span> <span class="operator">+</span> <span class="number">1</span>) <span class="operator">-</span> <span class="number">6</span>

            <span class="name">x</span>: <span class="number">0</span>; <span class="name">y</span>: <span class="number">0</span>; <span class="name">width</span>: <span class="number">140</span>; <span class="name">height</span>: <span class="number">133</span>
            <span class="name">z</span>: <span class="name">stackItem</span>.<span class="name">PathView</span>.<span class="name">z</span>; <span class="name">rotation</span>: <span class="name">photoWrapper</span>.<span class="name">randomAngle</span></pre></div>
<p>We use a <a href="./qml-qtquick-borderimage.htm" translate="no">BorderImage</a> type to create borders for the images:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">            <span class="type"><a href="./qml-qtquick-borderimage.htm" translate="no">BorderImage</a></span> {
                <span class="type">anchors</span> {
                    <span class="name">fill</span>: <span class="name">originalImage</span>.<span class="name">status</span> <span class="operator">==</span> <span class="name">Image</span>.<span class="name">Ready</span> ? <span class="name">border</span> : <span class="name">placeHolder</span>
                    <span class="name">leftMargin</span>: -<span class="number">6</span>; <span class="name">topMargin</span>: -<span class="number">6</span>; <span class="name">rightMargin</span>: -<span class="number">8</span>; <span class="name">bottomMargin</span>: -<span class="number">8</span>
                }
                <span class="name">source</span>: <span class="string">'images/box-shadow.png'</span>
                <span class="name">border</span>.left: <span class="number">10</span>; <span class="name">border</span>.top: <span class="number">10</span>; <span class="name">border</span>.right: <span class="number">10</span>; <span class="name">border</span>.bottom: <span class="number">10</span>
            }</pre></div>
<a name="downloading-flickr-feeds"></a>
<h4 id="downloading-flickr-feeds">Downloading Flickr Feeds<a class="plink" href="#downloading-flickr-feeds" title="Direct link to this headline"></a></h4>
<p>In AlbumDelegate.qml, we use the <a href="./qml-qtqml-models-delegatemodel.htm" translate="no">DelegateModel</a> to provide the PhotoDelegate delegate to the RssModel model:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">            <span class="type"><a href="./qml-qtqml-models-delegatemodel.htm" translate="no">DelegateModel</a></span> {
                <span class="name">id</span>: <span class="name">visualModel</span>; <span class="name">delegate</span>: <span class="name">PhotoDelegate</span> { }
                <span class="name">model</span>: <span class="name">RssModel</span> { <span class="name">id</span>: <span class="name">rssModel</span>; <span class="name">tags</span>: <span class="name">tag</span> }
            }</pre></div>
<p>In RssModel.qml, we use an <a href="./qml-qtquick-xmllistmodel-xmllistmodel.htm" translate="no">XmlListModel</a> type as a data source for <a href="./qml-qtqml-models-package.htm" translate="no">Package</a> objects to download photos from the selected feeds:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">import QtQuick.XmlListModel 2.0

<span class="type"><a href="./qml-qtquick-xmllistmodel-xmllistmodel.htm" translate="no">XmlListModel</a></span> {
    property <span class="type">string</span> <span class="name">tags</span> : <span class="string">""</span>

    <span class="keyword">function </span><span class="name">encodeTags</span>(x) { <span class="keyword">return</span> <span class="name">encodeURIComponent</span>(<span class="name">x</span>.<span class="name">replace</span>(<span class="string">' '</span>,<span class="string">','</span>)); }</pre></div>
<p>We use the <code translate="no">tags</code> custom property to specify which photos to download. The <code translate="no">encodeTags</code> custom function uses the <code translate="no">encodeURIComponent</code> JavaScript method to ensure that the requests to the server are correctly formatted.</p>
<p>We use the <code translate="no">source</code> property to fetch photos that have the specified tags attached from public Flickr feeds:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="name">source</span>: <span class="string">"http://api.flickr.com/services/feeds/photos_public.gne?"</span><span class="operator">+</span>(<span class="name">tags</span> ? <span class="string">"tags="</span><span class="operator">+</span><span class="name">encodeTags</span>(<span class="name">tags</span>)<span class="operator">+</span><span class="string">"&amp;"</span> : <span class="string">""</span>)
    <span class="name">query</span>: <span class="string">"/feed/entry"</span>
    <span class="name">namespaceDeclarations</span>: <span class="string">"declare default element namespace 'http://www.w3.org/2005/Atom';"</span></pre></div>
<p>The <code translate="no">query</code> property specifies that the <a href="./qml-qtquick-xmllistmodel-xmllistmodel.htm" translate="no">XmlListModel</a> generates a model item for each feed entry.</p>
<p>The <code translate="no">namespaceDeclarations</code> property specifies that the requested document uses the namespace <code translate="no">http://www.w3.org/2005/Atom</code>, which is declared as the default namespace.</p>
<p>We use the <a href="./qml-qtquick-xmllistmodel-xmlrole.htm" translate="no">XmlRole</a> type to specify the model item attributes. Each model item has the <code translate="no">title</code>, <code translate="no">content</code>, and <code translate="no">hq</code> attributes that match the values of the corresponding feed entry:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qml-qtquick-xmllistmodel-xmlrole.htm" translate="no">XmlRole</a></span> { <span class="name">name</span>: <span class="string">"title"</span>; <span class="name">query</span>: <span class="string">"title/string()"</span> }
    <span class="type"><a href="./qml-qtquick-xmllistmodel-xmlrole.htm" translate="no">XmlRole</a></span> { <span class="name">name</span>: <span class="string">"content"</span>; <span class="name">query</span>: <span class="string">"content/string()"</span> }
    <span class="type"><a href="./qml-qtquick-xmllistmodel-xmlrole.htm" translate="no">XmlRole</a></span> { <span class="name">name</span>: <span class="string">"hq"</span>; <span class="name">query</span>: <span class="string">"link[@rel='enclosure']/@href/string()"</span> }</pre></div>
<a name="creating-flipable-labels"></a>
<h4 id="creating-flipable-labels">Creating Flipable Labels<a class="plink" href="#creating-flipable-labels" title="Direct link to this headline"></a></h4>
<p>When users select the <b>Edit</b> button, the album labels are flipped from their front side to their back side and the text on them changes from album name to <b>Remove</b>.</p>
<p>In AlbumDelegate.qml, we use the Tag custom type to specify the text to display on the front and back sides of album labels:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">            <span class="type">Tag</span> {
                <span class="type">anchors</span> { <span class="name">horizontalCenter</span>: <span class="name">parent</span>.<span class="name">horizontalCenter</span>; <span class="name">bottom</span>: <span class="name">parent</span>.<span class="name">bottom</span>; <span class="name">bottomMargin</span>: <span class="number">10</span> }
                <span class="name">frontLabel</span>: <span class="name">tag</span>; <span class="name">backLabel</span>: <span class="name">qsTr</span>(<span class="string">"Remove"</span>); <span class="name">flipped</span>: <span class="name">mainWindow</span>.<span class="name">editMode</span>
                <span class="name">onTagChanged</span>: <span class="name">rssModel</span>.<span class="name">tags</span> <span class="operator">=</span> <span class="name">tag</span>
                <span class="name">onBackClicked</span>: <span class="keyword">if</span> (<span class="name">mainWindow</span>.<span class="name">editMode</span>) <span class="name">photosModel</span>.<span class="name">remove</span>(<span class="name">index</span>);
            }</pre></div>
<p>The <code translate="no">onTagChanged</code> signal handler is used to change the tag based on which the model is populated. The <code translate="no">onBackClicked</code> signal handler is used to remove the album.</p>
<p>In Tag.qml, we use a <a href="./qml-qtquick-flipable.htm" translate="no">Flipable</a> type with custom properties and signals to create the labels:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type"><a href="./qml-qtquick-flipable.htm" translate="no">Flipable</a></span> {
    <span class="name">id</span>: <span class="name">flipable</span>

    property <span class="type">alias</span> <span class="name">frontLabel</span>: <span class="name">frontButton</span>.<span class="name">label</span>
    property <span class="type">alias</span> <span class="name">backLabel</span>: <span class="name">backButton</span>.<span class="name">label</span>

    property <span class="type">int</span> <span class="name">angle</span>: <span class="number">0</span>
    property <span class="type">int</span> <span class="name">randomAngle</span>: <span class="name">Math</span>.<span class="name">random</span>() <span class="operator">*</span> (<span class="number">2</span> <span class="operator">*</span> <span class="number">6</span> <span class="operator">+</span> <span class="number">1</span>) <span class="operator">-</span> <span class="number">6</span>
    property <span class="type">bool</span> <span class="name">flipped</span>: <span class="number">false</span>

    signal <span class="type">frontClicked</span>
    signal <span class="type">backClicked</span>
    signal <span class="type">tagChanged</span>(string tag)</pre></div>
<p>The <code translate="no">front</code> property holds the EditableButton custom type that enables users to edit the label text:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="name">front</span>: <span class="name">EditableButton</span> {
        <span class="name">id</span>: <span class="name">frontButton</span>; <span class="name">rotation</span>: <span class="name">flipable</span>.<span class="name">randomAngle</span>
        <span class="type">anchors</span> { <span class="name">centerIn</span>: <span class="name">parent</span>; <span class="name">verticalCenterOffset</span>: -<span class="number">20</span> }
        <span class="name">onClicked</span>: <span class="name">flipable</span>.<span class="name">frontClicked</span>()
        <span class="name">onLabelChanged</span>: <span class="name">flipable</span>.<span class="name">tagChanged</span>(<span class="name">label</span>)
    }</pre></div>
<p>The <code translate="no">back</code> property holds the <code translate="no">Button</code> custom type that is used to remove the album:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="name">back</span>: <span class="name">Button</span> {
        <span class="name">id</span>: <span class="name">backButton</span>; <span class="name">tint</span>: <span class="string">"red"</span>; <span class="name">rotation</span>: <span class="name">flipable</span>.<span class="name">randomAngle</span>
        <span class="type">anchors</span> { <span class="name">centerIn</span>: <span class="name">parent</span>; <span class="name">verticalCenterOffset</span>: -<span class="number">20</span> }
        <span class="name">onClicked</span>: <span class="name">flipable</span>.<span class="name">backClicked</span>()
    }</pre></div>
<a name="laying-out-photos-on-a-path"></a>
<h4 id="laying-out-photos-on-a-path">Laying Out Photos on a Path<a class="plink" href="#laying-out-photos-on-a-path" title="Direct link to this headline"></a></h4>
<p>In AlbumDelegate.qml, we use a <a href="./qml-qtquick-pathview.htm" translate="no">PathView</a> type to lay out the photos provided by the <code translate="no">visualModel.parts.stack</code> model on a path that has the form of a stack:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">            <span class="type"><a href="./qml-qtquick-pathview.htm" translate="no">PathView</a></span> {
                <span class="name">id</span>: <span class="name">photosPathView</span>; <span class="name">model</span>: <span class="name">visualModel</span>.<span class="name">parts</span>.<span class="name">stack</span>; <span class="name">pathItemCount</span>: <span class="number">5</span>
                <span class="name">visible</span>: !<span class="name">busyIndicator</span>.<span class="name">visible</span>
                <span class="name">anchors</span>.centerIn: <span class="name">parent</span>; <span class="name">anchors</span>.verticalCenterOffset: -<span class="number">30</span>
                <span class="name">path</span>: <span class="name">Path</span> {
                    <span class="type"><a href="./qml-qtquick-pathattribute.htm" translate="no">PathAttribute</a></span> { <span class="name">name</span>: <span class="string">'z'</span>; <span class="name">value</span>: <span class="number">9999.0</span> }
                    <span class="type"><a href="./qml-qtquick-pathline.htm" translate="no">PathLine</a></span> { <span class="name">x</span>: <span class="number">1</span>; <span class="name">y</span>: <span class="number">1</span> }
                    <span class="type"><a href="./qml-qtquick-pathattribute.htm" translate="no">PathAttribute</a></span> { <span class="name">name</span>: <span class="string">'z'</span>; <span class="name">value</span>: <span class="number">0.0</span> }
                }
            }</pre></div>
<p>The <code translate="no">path</code> property holds the <a href="./qml-geopolygon.htm#path" translate="no">Path</a> type that defines the path used by the <a href="./qml-qtquick-pathview.htm" translate="no">PathView</a>. The <a href="./qml-qtquick-pathattribute.htm" translate="no">PathAttribute</a> types are used to set a range of <code translate="no">0</code> to <code translate="no">9999</code> for the <code translate="no">z</code> attribute. This way, the path creates a stack of album photos. Because each PhotoDelegate is slightly rotated at a random angle, this results in a realistic-looking stack of photos.</p>
<a name="providing-feedback-to-users"></a>
<h4 id="providing-feedback-to-users">Providing Feedback to Users<a class="plink" href="#providing-feedback-to-users" title="Direct link to this headline"></a></h4>
<p>We use a busy indicator and a progress bar to indicate activity while Flickr feeds and photos are being loaded.</p>
<p>In AlbumDelegate.qml, we use the <code translate="no">BusyIndicator</code> custom type and the <code translate="no">on</code> custom property to display a rotating image while the Flickr feed is being loaded:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">            <span class="type"><a href="./qml-qtquick-controls2-busyindicator.htm" translate="no">BusyIndicator</a></span> {
                <span class="name">id</span>: <span class="name">busyIndicator</span>
                <span class="type">anchors</span> { <span class="name">centerIn</span>: <span class="name">parent</span>; <span class="name">verticalCenterOffset</span>: -<span class="number">20</span> }
                <span class="name">on</span>: <span class="name">rssModel</span>.<span class="name">status</span> <span class="operator">!=</span> <span class="name">XmlListModel</span>.<span class="name">Ready</span>
            }</pre></div>
<p>In PhotoDelegate.qml, we use them to indicate activity while a photo is being loaded:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">            <span class="type"><a href="./qml-qtquick-controls2-busyindicator.htm" translate="no">BusyIndicator</a></span> { <span class="name">anchors</span>.centerIn: <span class="name">parent</span>; <span class="name">on</span>: <span class="name">originalImage</span>.<span class="name">status</span> <span class="operator">!=</span> <span class="name">Image</span>.<span class="name">Ready</span> }</pre></div>
<p>We define the <code translate="no">BusyIndicator</code> type in <code translate="no">BusyIndicator.qml</code>. We use an <a href="./09-qdoc-commands-includingimages.htm#image" translate="no">Image</a> type to display an image and apply a <a href="./qml-qtquick-numberanimation.htm" translate="no">NumberAnimation</a> to its <code translate="no">rotation</code> property to rotate the image in an infinite loop:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type"><a href="./qml-qtquick-image.htm" translate="no">Image</a></span> {
    <span class="name">id</span>: <span class="name">container</span>
    property <span class="type">bool</span> <span class="name">on</span>: <span class="number">false</span>

    <span class="name">source</span>: <span class="string">"images/busy.png"</span>; <span class="name">visible</span>: <span class="name">container</span>.<span class="name">on</span>
    NumberAnimation on <span class="name">rotation</span> { <span class="name">running</span>: <span class="name">container</span>.<span class="name">on</span>; <span class="name">from</span>: <span class="number">0</span>; <span class="name">to</span>: <span class="number">360</span>; <span class="name">loops</span>: <span class="name">Animation</span>.<span class="name">Infinite</span>; <span class="name">duration</span>: <span class="number">1200</span> }
}</pre></div>
<p>In your apps, you can also use the <a href="./qml-qtquick-controls2-busyindicator.htm" translate="no">BusyIndicator</a> type from the <a href="./qtquickcontrols-index.htm" translate="no">Qt Quick Controls</a> module.</p>
<p>In main.qml, we use the <code translate="no">ProgressBar</code> custom type to indicate progress while a high quality version of a photo is being opened on full screen:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qml-qtquick-controls2-progressbar.htm" translate="no">ProgressBar</a></span> {
        <span class="name">progress</span>: <span class="name">mainWindow</span>.<span class="name">downloadProgress</span>; <span class="name">width</span>: <span class="name">parent</span>.<span class="name">width</span>; <span class="name">height</span>: <span class="number">4</span>
        <span class="name">anchors</span>.bottom: <span class="name">parent</span>.<span class="name">bottom</span>; <span class="name">opacity</span>: <span class="name">mainWindow</span>.<span class="name">imageLoading</span>; <span class="name">visible</span>: <span class="name">opacity</span> <span class="operator">!=</span> <span class="number">0.0</span>
    }</pre></div>
<p>We define the <code translate="no">ProgressBar</code> type in <code translate="no">ProgressBar.qml</code>. We use a <a href="./qml-qtquick-rectangle.htm" translate="no">Rectangle</a> type to create the progress bar and apply a <a href="./qml-qtquick-numberanimation.htm" translate="no">NumberAnimation</a> to its <code translate="no">opacity</code> property to change the color of the bar from black to white as data loading proceeds:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type"><a href="./qml-qtquick-item.htm" translate="no">Item</a></span> {
    <span class="name">id</span>: <span class="name">container</span>

    property <span class="type">real</span> <span class="name">progress</span>: <span class="number">0</span>

    Behavior on <span class="name">opacity</span> { <span class="type"><a href="./qml-qtquick-numberanimation.htm" translate="no">NumberAnimation</a></span> { <span class="name">duration</span>: <span class="number">600</span> } }

    <span class="type"><a href="./qml-qtquick-rectangle.htm" translate="no">Rectangle</a></span> { <span class="name">anchors</span>.fill: <span class="name">parent</span>; <span class="name">color</span>: <span class="string">"black"</span>; <span class="name">opacity</span>: <span class="number">0.5</span> }

    <span class="type"><a href="./qml-qtquick-rectangle.htm" translate="no">Rectangle</a></span> {
        <span class="name">id</span>: <span class="name">fill</span>; <span class="name">color</span>: <span class="string">"white"</span>; <span class="name">height</span>: <span class="name">container</span>.<span class="name">height</span>
        <span class="name">width</span>: <span class="name">container</span>.<span class="name">width</span> <span class="operator">*</span> <span class="name">container</span>.<span class="name">progress</span>
    }
}</pre></div>
<p>In your apps, you can also use the <a href="./qml-qtquick-controls2-progressbar.htm" translate="no">ProgressBar</a> type from the <a href="./qtquickcontrols-index.htm" translate="no">Qt Quick Controls</a> module.</p>
<a name="localizing-applications"></a>
<h4 id="localizing-applications">Localizing Applications<a class="plink" href="#localizing-applications" title="Direct link to this headline"></a></h4>
<p>The example application is translated into German and French. The translated strings are loaded at runtime according to the current locale.</p>
<p>We use a <a href="./qml-qtquick-column.htm" translate="no">Column</a> type in main.qml to position buttons for adding and editing albums and exiting the application:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qml-qtquick-column.htm" translate="no">Column</a></span> {
        <span class="name">spacing</span>: <span class="number">20</span>; <span class="type">anchors</span> { <span class="name">bottom</span>: <span class="name">parent</span>.<span class="name">bottom</span>; <span class="name">right</span>: <span class="name">parent</span>.<span class="name">right</span>; <span class="name">rightMargin</span>: <span class="number">20</span>; <span class="name">bottomMargin</span>: <span class="number">20</span> }
        <span class="type"><a href="./qml-qtquick-controls2-button.htm" translate="no">Button</a></span> {
            <span class="name">id</span>: <span class="name">newButton</span>; <span class="name">label</span>: <span class="name">qsTr</span>(<span class="string">"Add"</span>); <span class="name">rotation</span>: <span class="number">3</span>
            <span class="name">anchors</span>.horizontalCenter: <span class="name">parent</span>.<span class="name">horizontalCenter</span>
            <span class="name">onClicked</span>: {
                <span class="name">mainWindow</span>.<span class="name">editMode</span> <span class="operator">=</span> <span class="number">false</span>
                <span class="name">photosModel</span>.<span class="name">append</span>( { tag: <span class="string">""</span> } )
                <span class="name">albumView</span>.<span class="name">positionViewAtIndex</span>(<span class="name">albumView</span>.<span class="name">count</span> <span class="operator">-</span> <span class="number">1</span>, <span class="name">GridView</span>.<span class="name">Contain</span>)
            }
        }
        <span class="type"><a href="./qml-qtquick-controls2-button.htm" translate="no">Button</a></span> {
            <span class="name">id</span>: <span class="name">deleteButton</span>; <span class="name">label</span>: <span class="name">qsTr</span>(<span class="string">"Edit"</span>); <span class="name">rotation</span>: -<span class="number">2</span>;
            <span class="name">onClicked</span>: <span class="name">mainWindow</span>.<span class="name">editMode</span> <span class="operator">=</span> !<span class="name">mainWindow</span>.<span class="name">editMode</span>
            <span class="name">anchors</span>.horizontalCenter: <span class="name">parent</span>.<span class="name">horizontalCenter</span>
        }
        <span class="type"><a href="./qml-qtquick-controls2-button.htm" translate="no">Button</a></span> {
            <span class="name">id</span>: <span class="name">quitButton</span>; <span class="name">label</span>: <span class="name">qsTr</span>(<span class="string">"Quit"</span>); <span class="name">rotation</span>: -<span class="number">2</span>;
            <span class="name">onClicked</span>: <span class="name">Qt</span>.<span class="name">quit</span>()
            <span class="name">anchors</span>.horizontalCenter: <span class="name">parent</span>.<span class="name">horizontalCenter</span>
        }
    }</pre></div>
<p>We use the <a href="./qml-qtqml-qt.htm#qsTr-method" translate="no">qsTr()</a> command to mark the button labels translatable.</p>
<p>We use the <code translate="no">lupdate()</code> tool to generate the translation source files and the <code translate="no">lrelease()</code> tool to convert the translated strings to the QM files used by the application at runtime. These files are stored in the <code translate="no">i18n</code> directory.</p>
<p>To make the application aware of the translations, we add code to the <code translate="no">main()</code> function in the main.cpp file. The code creates a <a href="./qtranslator.htm" translate="no">QTranslator</a> object, loads a translation according to the current locale at runtime, and installs the translator object into the application:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type">int</span> main(<span class="type">int</span> argc<span class="operator">,</span> <span class="type">char</span> <span class="operator">*</span>argv<span class="operator">[</span><span class="operator">]</span>)
{
    <span class="type"><a href="./qguiapplication.htm" translate="no">QGuiApplication</a></span> app(argc<span class="operator">,</span> argv);

    <span class="type"><a href="./qtranslator.htm" translate="no">QTranslator</a></span> qtTranslator;
    qtTranslator<span class="operator">.</span>load(<span class="type"><a href="./qlocale.htm" translate="no">QLocale</a></span>()<span class="operator">,</span> <span class="string">"qml"</span><span class="operator">,</span> <span class="string">"_"</span><span class="operator">,</span> <span class="string">":/i18n/"</span>);
    app<span class="operator">.</span>installTranslator(<span class="operator">&amp;</span>qtTranslator);</pre></div>
<p>Files:</p>
<ul>
<li><a href="./qtdoc-demos-photoviewer-photoviewercore-albumdelegate-qml.htm" translate="no">demos/photoviewer/PhotoViewerCore/AlbumDelegate.qml</a></li>
<li><a href="./qtdoc-demos-photoviewer-photoviewercore-busyindicator-qml.htm" translate="no">demos/photoviewer/PhotoViewerCore/BusyIndicator.qml</a></li>
<li><a href="./qtdoc-demos-photoviewer-photoviewercore-button-qml.htm" translate="no">demos/photoviewer/PhotoViewerCore/Button.qml</a></li>
<li><a href="./qtdoc-demos-photoviewer-photoviewercore-editablebutton-qml.htm" translate="no">demos/photoviewer/PhotoViewerCore/EditableButton.qml</a></li>
<li><a href="./qtdoc-demos-photoviewer-photoviewercore-photodelegate-qml.htm" translate="no">demos/photoviewer/PhotoViewerCore/PhotoDelegate.qml</a></li>
<li><a href="./qtdoc-demos-photoviewer-photoviewercore-progressbar-qml.htm" translate="no">demos/photoviewer/PhotoViewerCore/ProgressBar.qml</a></li>
<li><a href="./qtdoc-demos-photoviewer-photoviewercore-rssmodel-qml.htm" translate="no">demos/photoviewer/PhotoViewerCore/RssModel.qml</a></li>
<li><a href="./qtdoc-demos-photoviewer-photoviewercore-tag-qml.htm" translate="no">demos/photoviewer/PhotoViewerCore/Tag.qml</a></li>
<li><a href="./qtdoc-demos-photoviewer-main-cpp.htm" translate="no">demos/photoviewer/main.cpp</a></li>
<li><a href="./qtdoc-demos-photoviewer-main-qml.htm" translate="no">demos/photoviewer/main.qml</a></li>
<li><a href="./qtdoc-demos-photoviewer-photoviewer-pro.htm" translate="no">demos/photoviewer/photoviewer.pro</a></li>
</ul>
<p>Images:</p>
<ul>
<li><a href="./images/used-in-examples/demos/photoviewer/PhotoViewerCore/images/box-shadow.png" translate="no">demos/photoviewer/PhotoViewerCore/images/box-shadow.png</a></li>
<li><a href="./images/used-in-examples/demos/photoviewer/PhotoViewerCore/images/busy.png" translate="no">demos/photoviewer/PhotoViewerCore/images/busy.png</a></li>
<li><a href="./images/used-in-examples/demos/photoviewer/PhotoViewerCore/images/cardboard.png" translate="no">demos/photoviewer/PhotoViewerCore/images/cardboard.png</a></li>
</ul>
</div>
<p><b>See also </b><a href="./qmlapplications.htm" translate="no">QML Applications</a>.</p>
<!-- @@@demos/photoviewer -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>