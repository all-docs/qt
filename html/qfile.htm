<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>QFile | Qt Core</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/qfile.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtcore-index.htm" translate="no">Qt Core</a></li>
                            <li><a href="./qtcore-module.htm" translate="no">C++ Classes</a></li>
                            <li><a>QFile</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title" translate="no">QFile Class</h1>
<!-- $$$QFile-brief -->
<p>The QFile class provides an interface for reading from and writing to files. <a href="#details">More...</a></p>
<!-- @@@QFile -->
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QFile&gt;</span>
</td></tr><tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += core</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Inherits:</td><td class="memItemRight bottomAlign"> <a href="./qfiledevice.htm" translate="no">QFileDevice</a></td></tr><tr><td class="memItemLeft rightAlign topAlign"> Inherited By:</td><td class="memItemRight bottomAlign"> <p><a href="./qtemporaryfile.htm" translate="no">QTemporaryFile</a></p>
</td></tr></tbody></table></div><ul>
<li><a href="./qfile-members.htm">List of all members, including inherited members</a></li>
<li><a href="./qfile-obsolete.htm">Obsolete members</a></li>
</ul>
<p><b>Note:</b> All functions in this class are <a href="./threads-reentrancy.htm" translate="no">reentrant</a>.</p>
<a name="public-types"></a>
<h2 id="public-types">Public Types<a class="plink" href="#public-types" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> typedef </td><td class="memItemRight bottomAlign"><b><a href="./qfile.htm#DecoderFn-typedef" translate="no">DecoderFn</a></b></td></tr>
</tbody></table></div>
<a name="public-functions"></a>
<h2 id="public-functions">Public Functions<a class="plink" href="#public-functions" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="./qfile.htm#symLinkTarget-1" translate="no">symLinkTarget</a></b>() const</td></tr>
</tbody></table></div>
<a name="static-public-members"></a>
<h2 id="static-public-members">Static Public Members<a class="plink" href="#static-public-members" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="./qfile.htm#decodeName" translate="no">decodeName</a></b>(const QByteArray &amp;<i>localFileName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="./qfile.htm#decodeName-1" translate="no">decodeName</a></b>(const char *<i>localFileName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QByteArray </td><td class="memItemRight bottomAlign"><b><a href="./qfile.htm#encodeName" translate="no">encodeName</a></b>(const QString &amp;<i>fileName</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="./qfile.htm#symLinkTarget" translate="no">symLinkTarget</a></b>(const QString &amp;<i>fileName</i>)</td></tr>
</tbody></table></div>
<a name="details"></a>
<!-- $$$QFile-description -->
<div class="descr">
<h2 id="details">Detailed Description<a class="plink" href="#details" title="Direct link to this headline"></a></h2>
<p>QFile is an I/O device for reading and writing text and binary files and <a href="./resources.htm" translate="no">resources</a>. A QFile may be used by itself or, more conveniently, with a <a href="./qtextstream.htm" translate="no">QTextStream</a> or <a href="./qdatastream.htm" translate="no">QDataStream</a>.</p>
<p>The file name is usually passed in the constructor, but it can be set at any time using setFileName(). QFile expects the file separator to be '/' regardless of operating system. The use of other separators (e.g., '\') is not supported.</p>
<p>You can check for a file's existence using exists(), and remove a file using remove(). (More advanced file system related operations are provided by <a href="./qfileinfo.htm" translate="no">QFileInfo</a> and <a href="./qdir.htm" translate="no">QDir</a>.)</p>
<p>The file is opened with <a href="./qiodevice.htm#open" translate="no">open</a>(), closed with <a href="./qfiledevice.htm#close" translate="no">close</a>(), and flushed with <a href="./qfiledevice.htm#flush" translate="no">flush</a>(). Data is usually read and written using <a href="./qdatastream.htm" translate="no">QDataStream</a> or <a href="./qtextstream.htm" translate="no">QTextStream</a>, but you can also call the <a href="./qiodevice.htm" translate="no">QIODevice</a>-inherited functions <a href="./qiodevice.htm#read" translate="no">read</a>(), <a href="./qiodevice.htm#readLine" translate="no">readLine</a>(), <a href="./qiodevice.htm#readAll" translate="no">readAll</a>(), <a href="./qiodevice.htm#write" translate="no">write</a>(). QFile also inherits <a href="./qiodevice.htm#getChar" translate="no">getChar</a>(), <a href="./qiodevice.htm#putChar" translate="no">putChar</a>(), and <a href="./qiodevice.htm#ungetChar" translate="no">ungetChar</a>(), which work one character at a time.</p>
<p>The size of the file is returned by <a href="./qfiledevice.htm#size" translate="no">size</a>(). You can get the current file position using <a href="./qfiledevice.htm#pos" translate="no">pos</a>(), or move to a new file position using <a href="./qfiledevice.htm#seek" translate="no">seek</a>(). If you've reached the end of the file, <a href="./qfiledevice.htm#atEnd" translate="no">atEnd</a>() returns <code translate="no">true</code>.</p>
<a name="reading-files-directly"></a>
<h3 id="reading-files-directly">Reading Files Directly<a class="plink" href="#reading-files-directly" title="Direct link to this headline"></a></h3>
<p>The following example reads a text file line by line:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type">QFile</span> file(<span class="string">"in.txt"</span>);
    <span class="keyword">if</span> (<span class="operator">!</span>file<span class="operator">.</span>open(<span class="type"><a href="./qiodevice.htm#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>ReadOnly <span class="operator">|</span> <span class="type"><a href="./qiodevice.htm#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>Text))
        <span class="keyword">return</span>;

    <span class="keyword">while</span> (<span class="operator">!</span>file<span class="operator">.</span>atEnd()) {
        <span class="type"><a href="./qbytearray.htm" translate="no">QByteArray</a></span> line <span class="operator">=</span> file<span class="operator">.</span>readLine();
        process_line(line);
    }</pre></div>
<p>The <a href="./qiodevice.htm#OpenModeFlag-enum" translate="no">QIODevice::Text</a> flag passed to <a href="./qiodevice.htm#open" translate="no">open</a>() tells Qt to convert Windows-style line terminators ("\r\n") into C++-style terminators ("\n"). By default, QFile assumes binary, i.e. it doesn't perform any conversion on the bytes stored in the file.</p>
<a name="using-streams-to-read-files"></a>
<h3 id="using-streams-to-read-files">Using Streams to Read Files<a class="plink" href="#using-streams-to-read-files" title="Direct link to this headline"></a></h3>
<p>The next example uses <a href="./qtextstream.htm" translate="no">QTextStream</a> to read a text file line by line:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type">QFile</span> file(<span class="string">"in.txt"</span>);
    <span class="keyword">if</span> (<span class="operator">!</span>file<span class="operator">.</span>open(<span class="type"><a href="./qiodevice.htm#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>ReadOnly <span class="operator">|</span> <span class="type"><a href="./qiodevice.htm#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>Text))
        <span class="keyword">return</span>;

    <span class="type"><a href="./qtextstream.htm" translate="no">QTextStream</a></span> in(<span class="operator">&amp;</span>file);
    <span class="keyword">while</span> (<span class="operator">!</span>in<span class="operator">.</span>atEnd()) {
        <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> line <span class="operator">=</span> in<span class="operator">.</span>readLine();
        process_line(line);
    }</pre></div>
<p><a href="./qtextstream.htm" translate="no">QTextStream</a> takes care of converting the 8-bit data stored on disk into a 16-bit Unicode <a href="./qstring.htm" translate="no">QString</a>. By default, it assumes that the user system's local 8-bit encoding is used (e.g., UTF-8 on most unix based operating systems; see <a href="./qtextcodec.htm#codecForLocale" translate="no">QTextCodec::codecForLocale</a>() for details). This can be changed using <a href="./qtextstream.htm#setCodec" translate="no">QTextStream::setCodec</a>().</p>
<p>To write text, we can use operator&lt;&lt;(), which is overloaded to take a <a href="./qtextstream.htm" translate="no">QTextStream</a> on the left and various data types (including <a href="./qstring.htm" translate="no">QString</a>) on the right:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type">QFile</span> file(<span class="string">"out.txt"</span>);
    <span class="keyword">if</span> (<span class="operator">!</span>file<span class="operator">.</span>open(<span class="type"><a href="./qiodevice.htm#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>WriteOnly <span class="operator">|</span> <span class="type"><a href="./qiodevice.htm#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>Text))
        <span class="keyword">return</span>;

    <span class="type"><a href="./qtextstream.htm" translate="no">QTextStream</a></span> out(<span class="operator">&amp;</span>file);
    out <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="string">"The magic number is: "</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">49</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="string">"\n"</span>;</pre></div>
<p><a href="./qdatastream.htm" translate="no">QDataStream</a> is similar, in that you can use operator&lt;&lt;() to write data and operator&gt;&gt;() to read it back. See the class documentation for details.</p>
<p>When you use QFile, <a href="./qfileinfo.htm" translate="no">QFileInfo</a>, and <a href="./qdir.htm" translate="no">QDir</a> to access the file system with Qt, you can use Unicode file names. On Unix, these file names are converted to an 8-bit encoding. If you want to use standard C++ APIs (<code translate="no">&lt;cstdio&gt;</code> or <code translate="no">&lt;iostream&gt;</code>) or platform-specific APIs to access files instead of QFile, you can use the <a href="./qfile.htm#encodeName" translate="no">encodeName</a>() and <a href="./qfile.htm#decodeName" translate="no">decodeName</a>() functions to convert between Unicode file names and 8-bit file names.</p>
<p>On Unix, there are some special system files (e.g. in <code translate="no">/proc</code>) for which <a href="./qfiledevice.htm#size" translate="no">size</a>() will always return 0, yet you may still be able to read more data from such a file; the data is generated in direct response to you calling <a href="./qiodevice.htm#read" translate="no">read</a>(). In this case, however, you cannot use <a href="./qfiledevice.htm#atEnd" translate="no">atEnd</a>() to determine if there is more data to read (since <a href="./qfiledevice.htm#atEnd" translate="no">atEnd</a>() will return true for a file that claims to have size 0). Instead, you should either call <a href="./qiodevice.htm#readAll" translate="no">readAll</a>(), or call <a href="./qiodevice.htm#read" translate="no">read</a>() or <a href="./qiodevice.htm#readLine" translate="no">readLine</a>() repeatedly until no more data can be read. The next example uses <a href="./qtextstream.htm" translate="no">QTextStream</a> to read <code translate="no">/proc/modules</code> line by line:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type">QFile</span> file(<span class="string">"/proc/modules"</span>);
    <span class="keyword">if</span> (<span class="operator">!</span>file<span class="operator">.</span>open(<span class="type"><a href="./qiodevice.htm#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>ReadOnly <span class="operator">|</span> <span class="type"><a href="./qiodevice.htm#QIODevice" translate="no">QIODevice</a></span><span class="operator">::</span>Text))
        <span class="keyword">return</span>;

    <span class="type"><a href="./qtextstream.htm" translate="no">QTextStream</a></span> in(<span class="operator">&amp;</span>file);
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> line <span class="operator">=</span> in<span class="operator">.</span>readLine();
    <span class="keyword">while</span> (<span class="operator">!</span>line<span class="operator">.</span>isNull()) {
        process_line(line);
        line <span class="operator">=</span> in<span class="operator">.</span>readLine();
    }</pre></div>
<a name="signals"></a>
<h3 id="signals">Signals<a class="plink" href="#signals" title="Direct link to this headline"></a></h3>
<p>Unlike other <a href="./qiodevice.htm" translate="no">QIODevice</a> implementations, such as <a href="./qtcpsocket.htm" translate="no">QTcpSocket</a>, QFile does not emit the <a href="./qiodevice.htm#aboutToClose" translate="no">aboutToClose</a>(), <a href="./qiodevice.htm#bytesWritten" translate="no">bytesWritten</a>(), or <a href="./qiodevice.htm#readyRead" translate="no">readyRead</a>() signals. This implementation detail means that QFile is not suitable for reading and writing certain types of files, such as device files on Unix platforms.</p>
<a name="platform-specific-issues"></a>
<h3 id="platform-specific-issues">Platform Specific Issues<a class="plink" href="#platform-specific-issues" title="Direct link to this headline"></a></h3>
<p>File permissions are handled differently on Unix-like systems and Windows. In a non <a href="./qiodevice.htm#isWritable" translate="no">writable</a> directory on Unix-like systems, files cannot be created. This is not always the case on Windows, where, for instance, the 'My Documents' directory usually is not writable, but it is still possible to create files in it.</p>
<p>Qt's understanding of file permissions is limited, which affects especially the <a href="./qfiledevice.htm#setPermissions" translate="no">QFile::setPermissions</a>() function. On Windows, Qt will set only the legacy read-only flag, and that only when none of the Write* flags are passed. Qt does not manipulate access control lists (ACLs), which makes this function mostly useless for NTFS volumes. It may still be of use for USB sticks that use VFAT file systems. POSIX ACLs are not manipulated, either.</p>
<p>On Android, some limitations apply when dealing with <a href="https://developer.android.com/guide/topics/providers/content-provider-basics#ContentURIs" translate="no">content URIs</a>:</p>
<ul>
<li>Access permissions might be needed by prompting the user through the <a href="./qfiledialog.htm" translate="no">QFileDialog</a> which implements Android's native file picker.</li>
<li>Aim to follow the <a href="https://developer.android.com/training/data-storage#scoped-storage" translate="no">Scoped storage</a> guidelines, such as using app specific directories instead of other public external directories. For more information, also see <a href="https://developer.android.com/training/data-storage/use-cases" translate="no">storage best practices</a>.</li>
<li>Due to the design of Qt APIs (e.g. QFile), it's not possible to fully integrate the latter APIs with Android's <a href="https://developer.android.com/reference/android/provider/MediaStore" translate="no">MediaStore</a> APIs.</li>
</ul>
</div>
<p><b>See also </b><a href="./qtextstream.htm" translate="no">QTextStream</a>, <a href="./qdatastream.htm" translate="no">QDataStream</a>, <a href="./qfileinfo.htm" translate="no">QFileInfo</a>, <a href="./qdir.htm" translate="no">QDir</a>, and <a href="./resources.htm" translate="no">The Qt Resource System</a>.</p>
<!-- @@@QFile -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$DecoderFn -->
<h3 class="fn" id="DecoderFn-typedef" translate="no"><a name="DecoderFn-typedef"></a>typedef QFile::<span class="name">DecoderFn</span><a class="plink" href="#DecoderFn-typedef" title="Direct link to this headline"></a></h3>
<p>This is a typedef for a pointer to a function with the following signature:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> myDecoderFunc(<span class="keyword">const</span> <span class="type"><a href="./qbytearray.htm" translate="no">QByteArray</a></span> <span class="operator">&amp;</span>localFileName);</pre></div>
<p><b>See also </b><a href="./qfile-obsolete.htm#setDecodingFunction" translate="no">setDecodingFunction</a>().</p>
<!-- @@@DecoderFn -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$decodeName[overload1]$$$decodeNameconstQByteArray& -->
<h3 class="fn" id="decodeName" translate="no"><a name="decodeName"></a><code translate="no">[static] </code><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QFile::<span class="name">decodeName</span>(const <span class="type"><a href="./qbytearray.htm" translate="no">QByteArray</a></span> &amp;<i>localFileName</i>)<a class="plink" href="#decodeName" title="Direct link to this headline"></a></h3>
<p>This does the reverse of <a href="./qfile.htm#encodeName" translate="no">QFile::encodeName</a>() using <i translate="no">localFileName</i>.</p>
<p><b>See also </b><a href="./qfile.htm#encodeName" translate="no">encodeName</a>().</p>
<!-- @@@decodeName -->
<!-- $$$decodeName$$$decodeNameconstchar* -->
<h3 class="fn" id="decodeName-1" translate="no"><a name="decodeName-1"></a><code translate="no">[static] </code><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QFile::<span class="name">decodeName</span>(const <span class="type">char</span> *<i>localFileName</i>)<a class="plink" href="#decodeName-1" title="Direct link to this headline"></a></h3>
<p>This is an overloaded function.</p>
<p>Returns the Unicode version of the given <i translate="no">localFileName</i>. See <a href="./qfile.htm#encodeName" translate="no">encodeName</a>() for details.</p>
<!-- @@@decodeName -->
<!-- $$$encodeName[overload1]$$$encodeNameconstQString& -->
<h3 class="fn" id="encodeName" translate="no"><a name="encodeName"></a><code translate="no">[static] </code><span class="type"><a href="./qbytearray.htm" translate="no">QByteArray</a></span> QFile::<span class="name">encodeName</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>fileName</i>)<a class="plink" href="#encodeName" title="Direct link to this headline"></a></h3>
<p>Converts <i translate="no">fileName</i> to the local 8-bit encoding determined by the user's locale. This is sufficient for file names that the user chooses. File names hard-coded into the application should only use 7-bit ASCII filename characters.</p>
<p><b>See also </b><a href="./qfile.htm#decodeName" translate="no">decodeName</a>().</p>
<!-- @@@encodeName -->
<!-- $$$symLinkTarget[overload1]$$$symLinkTargetconstQString& -->
<h3 class="fn" id="symLinkTarget" translate="no"><a name="symLinkTarget"></a><code translate="no">[static] </code><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QFile::<span class="name">symLinkTarget</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>fileName</i>)<a class="plink" href="#symLinkTarget" title="Direct link to this headline"></a></h3>
<p>Returns the absolute path of the file or directory referred to by the symlink (or shortcut on Windows) specified by <i translate="no">fileName</i>, or returns an empty string if the <i translate="no">fileName</i> does not correspond to a symbolic link.</p>
<p>This name may not represent an existing file; it is only a string. QFile::exists() returns <code translate="no">true</code> if the symlink points to an existing file.</p>
<p>This function was introduced in Qt 4.2.</p>
<!-- @@@symLinkTarget -->
<!-- $$$symLinkTarget$$$symLinkTarget -->
<h3 class="fn" id="symLinkTarget-1" translate="no"><a name="symLinkTarget-1"></a><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QFile::<span class="name">symLinkTarget</span>() const<a class="plink" href="#symLinkTarget-1" title="Direct link to this headline"></a></h3>
<p>This is an overloaded function.</p>
<p>Returns the absolute path of the file or directory a symlink (or shortcut on Windows) points to, or a an empty string if the object isn't a symbolic link.</p>
<p>This name may not represent an existing file; it is only a string. QFile::exists() returns <code translate="no">true</code> if the symlink points to an existing file.</p>
<p>This function was introduced in Qt 4.2.</p>
<p><b>See also </b><a href="./qfiledevice.htm#fileName" translate="no">fileName</a>() and setFileName().</p>
<!-- @@@symLinkTarget -->
</div>
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>