<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Use Case - Integrating JavaScript in QML</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/qtquick-usecase-integratingjs.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a>Use Case - Integrating JavaScript in QML</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Use Case - Integrating JavaScript in QML</h1>
<span class="subtitle"></span>
<!-- $$$qtquick-usecase-integratingjs.html-description -->
<div class="descr"> <a name="details"></a>
<p>JavaScript code can be easily integrated into QML to provide UI logic, imperative control, or other benefits.</p>
<a name="using-javascript-expressions-for-property-values"></a>
<h2 id="using-javascript-expressions-for-property-values">Using JavaScript Expressions for Property Values<a class="plink" href="#using-javascript-expressions-for-property-values" title="Direct link to this headline"></a></h2>
<p>JavaScript expressions can be used in QML as bindings. For example:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">Item {
    width: Math<span class="operator">.</span>random()
    height: width <span class="operator">&lt;</span> <span class="number">100</span> <span class="operator">?</span> <span class="number">100</span> : (width <span class="operator">+</span> <span class="number">50</span>) <span class="operator">/</span>  <span class="number">2</span>
}</pre></div>
<p>Note that function calls, like Math.random(), will not be revaluated unless their arguments change. So binding to Math.random() will be one random number and not revaluated, but if the width is changed in some other manner, the height binding will be reevaluated to take that into account.</p>
<a name="adding-javascript-functions-in-qml"></a>
<h2 id="adding-javascript-functions-in-qml">Adding JavaScript Functions in QML<a class="plink" href="#adding-javascript-functions-in-qml" title="Direct link to this headline"></a></h2>
<p>JavaScript functions can be declared on QML items, like in the below example. This allows you to call the method using the item id.</p>
<div class="pre"><pre class="qml prettyprint" translate="no">import QtQuick 2.12

<span class="type"><a href="./qml-qtquick-item.htm" translate="no">Item</a></span> {
    <span class="name">id</span>: <span class="name">container</span>
    <span class="name">width</span>: <span class="number">320</span>
    <span class="name">height</span>: <span class="number">480</span>

    <span class="keyword">function </span><span class="name">randomNumber</span>() {
        <span class="keyword">return</span> <span class="name">Math</span>.<span class="name">random</span>() <span class="operator">*</span> <span class="number">360</span>;
    }

    <span class="keyword">function </span><span class="name">getNumber</span>() {
        <span class="keyword">return</span> <span class="name">container</span>.<span class="name">randomNumber</span>();
    }

    <span class="type"><a href="./qml-qtquick-taphandler.htm" translate="no">TapHandler</a></span> {
        <span class="comment">// This line uses the JS function from the item</span>
        <span class="name">onTapped</span>: <span class="name">rectangle</span>.<span class="name">rotation</span> <span class="operator">=</span> <span class="name">container</span>.<span class="name">getNumber</span>();
    }

    <span class="type"><a href="./qml-qtquick-rectangle.htm" translate="no">Rectangle</a></span> {
        <span class="name">color</span>: <span class="string">"#272822"</span>
        <span class="name">width</span>: <span class="number">320</span>
        <span class="name">height</span>: <span class="number">480</span>
    }

    <span class="type"><a href="./qml-qtquick-rectangle.htm" translate="no">Rectangle</a></span> {
        <span class="name">id</span>: <span class="name">rectangle</span>
        <span class="name">anchors</span>.centerIn: <span class="name">parent</span>
        <span class="name">width</span>: <span class="number">160</span>
        <span class="name">height</span>: <span class="number">160</span>
        <span class="name">color</span>: <span class="string">"green"</span>
        Behavior on <span class="name">rotation</span> { <span class="type"><a href="./qml-qtquick-rotationanimation.htm" translate="no">RotationAnimation</a></span> { <span class="name">direction</span>: <span class="name">RotationAnimation</span>.<span class="name">Clockwise</span> } }
    }

}</pre></div>
<a name="using-javascript-files"></a>
<h2 id="using-javascript-files">Using JavaScript Files<a class="plink" href="#using-javascript-files" title="Direct link to this headline"></a></h2>
<p>JavaScript files can be used for abstracting out logic from QML files. To do this, first place your functions inside a .js file like in the example shown.</p>
<div class="pre"><pre class="js prettyprint"><span class="comment">// myscript.js</span>
<span class="keyword">function </span><span class="name">getRandom</span>(previousValue) {
    <span class="keyword">return</span> <span class="name">Math</span>.<span class="name">floor</span>(<span class="name">previousValue</span> <span class="operator">+</span> <span class="name">Math</span>.<span class="name">random</span>() <span class="operator">*</span> <span class="number">90</span>) <span class="operator">%</span> <span class="number">360</span>;
}</pre></div>
<p>Then import the file into any .qml file that needs to use the functions, like the example QML file below.</p>
<div class="pre"><pre class="qml prettyprint" translate="no">import QtQuick 2.12
import "myscript.js" as Logic

<span class="type"><a href="./qml-qtquick-item.htm" translate="no">Item</a></span> {
    <span class="name">width</span>: <span class="number">320</span>
    <span class="name">height</span>: <span class="number">480</span>

    <span class="type"><a href="./qml-qtquick-rectangle.htm" translate="no">Rectangle</a></span> {
        <span class="name">color</span>: <span class="string">"#272822"</span>
        <span class="name">width</span>: <span class="number">320</span>
        <span class="name">height</span>: <span class="number">480</span>
    }

    <span class="type"><a href="./qml-qtquick-taphandler.htm" translate="no">TapHandler</a></span> {
        <span class="comment">// This line uses the JS function from the separate JS file</span>
        <span class="name">onTapped</span>: <span class="name">rectangle</span>.<span class="name">rotation</span> <span class="operator">=</span> <span class="name">Logic</span>.<span class="name">getRandom</span>(<span class="name">rectangle</span>.<span class="name">rotation</span>);
    }

    <span class="type"><a href="./qml-qtquick-rectangle.htm" translate="no">Rectangle</a></span> {
        <span class="name">id</span>: <span class="name">rectangle</span>
        <span class="name">anchors</span>.centerIn: <span class="name">parent</span>
        <span class="name">width</span>: <span class="number">160</span>
        <span class="name">height</span>: <span class="number">160</span>
        <span class="name">color</span>: <span class="string">"green"</span>
        Behavior on <span class="name">rotation</span> { <span class="type"><a href="./qml-qtquick-rotationanimation.htm" translate="no">RotationAnimation</a></span> { <span class="name">direction</span>: <span class="name">RotationAnimation</span>.<span class="name">Clockwise</span> } }
    }

}</pre></div>
<p class="centerAlign"><img alt="" src="./images/qml-uses-integratingjs.png"></p><p>For further details on the JavaScript engine used by QML, as well as the difference from browser JS, see the full documentation on <a href="./qtqml-javascript-expressions.htm" translate="no">JavaScript Expressions in QML Documents</a>.</p>
</div>
<!-- @@@qtquick-usecase-integratingjs.html -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>