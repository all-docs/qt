<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Obsolete Members for QByteArray | Qt Core</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/qbytearray-obsolete.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtcore-index.htm" translate="no">Qt Core</a></li>
                            <li><a href="./qtcore-module.htm" translate="no">C++ Classes</a></li>
                            <li><a>QByteArray</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title" translate="no">Obsolete Members for QByteArray</h1>
<p><b>The following members of class <a href="./qbytearray.htm" translate="no">QByteArray</a> are obsolete.</b> They are provided to keep old source code working. We strongly advise against using them in new code.</p>
<h2>Public Functions</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft topAlign rightAlign"> <code translate="no">(obsolete) </code>QByteArray &amp;</td><td class="memItemRight bottomAlign"><b><a href="./qbytearray-obsolete.htm#append-5" translate="no">append</a></b>(const QString &amp;<i>str</i>)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code translate="no">(obsolete) </code>int </td><td class="memItemRight bottomAlign"><b><a href="./qbytearray-obsolete.htm#indexOf-3" translate="no">indexOf</a></b>(const QString &amp;<i>str</i>, int <i>from</i> = 0) const</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code translate="no">(obsolete) </code>QByteArray &amp;</td><td class="memItemRight bottomAlign"><b><a href="./qbytearray-obsolete.htm#insert-5" translate="no">insert</a></b>(int <i>i</i>, const QString &amp;<i>str</i>)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code translate="no">(obsolete) </code>int </td><td class="memItemRight bottomAlign"><b><a href="./qbytearray-obsolete.htm#lastIndexOf-3" translate="no">lastIndexOf</a></b>(const QString &amp;<i>str</i>, int <i>from</i> = -1) const</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code translate="no">(obsolete) </code>QByteArray &amp;</td><td class="memItemRight bottomAlign"><b><a href="./qbytearray-obsolete.htm#replace-11" translate="no">replace</a></b>(const QString &amp;<i>before</i>, const char *<i>after</i>)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code translate="no">(obsolete) </code>QByteArray &amp;</td><td class="memItemRight bottomAlign"><b><a href="./qbytearray-obsolete.htm#replace-12" translate="no">replace</a></b>(char <i>before</i>, const QString &amp;<i>after</i>)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code translate="no">(obsolete) </code>QByteArray &amp;</td><td class="memItemRight bottomAlign"><b><a href="./qbytearray-obsolete.htm#replace-13" translate="no">replace</a></b>(const QString &amp;<i>before</i>, const QByteArray &amp;<i>after</i>)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code translate="no">(obsolete) </code>QByteArray &amp;</td><td class="memItemRight bottomAlign"><b><a href="./qbytearray-obsolete.htm#operator-2b-eq-3" translate="no">operator+=</a></b>(const QString &amp;<i>str</i>)</td></tr>
</tbody></table></div>
<h2>Related Non-Members</h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft topAlign rightAlign"> <code translate="no">(obsolete) </code>int </td><td class="memItemRight bottomAlign"><b><a href="./qbytearray-obsolete.htm#qsnprintf" translate="no">qsnprintf</a></b>(char *<i>str</i>, size_t <i>n</i>, const char *<i>fmt</i>, <i>...</i>)</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> <code translate="no">(obsolete) </code>int </td><td class="memItemRight bottomAlign"><b><a href="./qbytearray-obsolete.htm#qvsnprintf" translate="no">qvsnprintf</a></b>(char *<i>str</i>, size_t <i>n</i>, const char *<i>fmt</i>, va_list <i>ap</i>)</td></tr>
</tbody></table></div>
<h2>Member Function Documentation</h2>
<!-- $$$ -->
<div class="fngroup">
<h3 class="fn fngroupitem" id="operator-const-char--2a" translate="no"><a name="operator-const-char--2a"></a>const <span class="type">char</span> *QByteArray::<span class="name">operator const char *</span>() const<a class="plink" href="#operator-const-char--2a" title="Direct link to this headline"></a></h3><h3 class="fn fngroupitem" id="operator-const-void--2a" translate="no"><a name="operator-const-void--2a"></a>const <span class="type">void</span> *QByteArray::<span class="name">operator const void *</span>() const<a class="plink" href="#operator-const-void--2a" title="Direct link to this headline"></a></h3></div>
<p>This function is obsolete. It is provided to keep old source code working. We strongly advise against using it in new code.</p>
<p>Use <a href="./qbytearray.htm#constData" translate="no">constData</a>() instead.</p>
<p>Returns a pointer to the data stored in the byte array. The pointer can be used to access the bytes that compose the array. The data is '\0'-terminated. The pointer remains valid as long as the array isn't reallocated or destroyed.</p>
<p>This operator is mostly useful to pass a byte array to a function that accepts a <code translate="no">const char *</code>.</p>
<p>You can disable this operator by defining <code translate="no">QT_NO_CAST_FROM_BYTEARRAY</code> when you compile your applications.</p>
<p>Note: A <a href="./qbytearray.htm" translate="no">QByteArray</a> can store any byte values including '\0's, but most functions that take <code translate="no">char *</code> arguments assume that the data ends at the first '\0' they encounter.</p>
<p><b>See also </b><a href="./qbytearray.htm#constData" translate="no">constData</a>().</p>
<!-- @@@ -->
<!-- $$$append$$$appendconstQString& -->
<h3 class="fn" id="append-5" translate="no"><a name="append-5"></a><span class="type"><a href="./qbytearray.htm#QByteArray" translate="no">QByteArray</a></span> &amp;QByteArray::<span class="name">append</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>str</i>)<a class="plink" href="#append-5" title="Direct link to this headline"></a></h3>
<p>This function is obsolete. It is provided to keep old source code working. We strongly advise against using it in new code.</p>
<p>This is an overloaded function.</p>
<p>Appends the string <i translate="no">str</i> to this byte array. The Unicode data is converted into 8-bit characters using <a href="./qstring.htm#toUtf8" translate="no">QString::toUtf8</a>().</p>
<p>You can disable this function by defining <code translate="no">QT_NO_CAST_TO_ASCII</code> when you compile your applications. You then need to call <a href="./qstring.htm#toUtf8" translate="no">QString::toUtf8</a>() (or <a href="./qstring.htm#toLatin1" translate="no">QString::toLatin1</a>() or <a href="./qstring.htm#toLocal8Bit" translate="no">QString::toLocal8Bit</a>()) explicitly if you want to convert the data to <code translate="no">const char *</code>.</p>
<!-- @@@append -->
<!-- $$$indexOf$$$indexOfconstQString&int -->
<h3 class="fn" id="indexOf-3" translate="no"><a name="indexOf-3"></a><span class="type">int</span> QByteArray::<span class="name">indexOf</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>str</i>, <span class="type">int</span> <i>from</i> = 0) const<a class="plink" href="#indexOf-3" title="Direct link to this headline"></a></h3>
<p>This function is obsolete. It is provided to keep old source code working. We strongly advise against using it in new code.</p>
<p>This is an overloaded function.</p>
<p>Returns the index position of the first occurrence of the string <i translate="no">str</i> in the byte array, searching forward from index position <i translate="no">from</i>. Returns -1 if <i translate="no">str</i> could not be found.</p>
<p>The Unicode data is converted into 8-bit characters using <a href="./qstring.htm#toUtf8" translate="no">QString::toUtf8</a>().</p>
<p>You can disable this function by defining <code translate="no">QT_NO_CAST_TO_ASCII</code> when you compile your applications. You then need to call <a href="./qstring.htm#toUtf8" translate="no">QString::toUtf8</a>() (or <a href="./qstring.htm#toLatin1" translate="no">QString::toLatin1</a>() or <a href="./qstring.htm#toLocal8Bit" translate="no">QString::toLocal8Bit</a>()) explicitly if you want to convert the data to <code translate="no">const char *</code>.</p>
<!-- @@@indexOf -->
<!-- $$$insert$$$insertintconstQString& -->
<h3 class="fn" id="insert-5" translate="no"><a name="insert-5"></a><span class="type"><a href="./qbytearray.htm#QByteArray" translate="no">QByteArray</a></span> &amp;QByteArray::<span class="name">insert</span>(<span class="type">int</span> <i>i</i>, const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>str</i>)<a class="plink" href="#insert-5" title="Direct link to this headline"></a></h3>
<p>This function is obsolete. It is provided to keep old source code working. We strongly advise against using it in new code.</p>
<p>This is an overloaded function.</p>
<p>Inserts the string <i translate="no">str</i> at index position <i translate="no">i</i> in the byte array. The Unicode data is converted into 8-bit characters using <a href="./qstring.htm#toUtf8" translate="no">QString::toUtf8</a>().</p>
<p>If <i translate="no">i</i> is greater than <a href="./qbytearray.htm#size" translate="no">size</a>(), the array is first extended using <a href="./qbytearray.htm#resize" translate="no">resize</a>().</p>
<p>You can disable this function by defining <code translate="no">QT_NO_CAST_TO_ASCII</code> when you compile your applications. You then need to call <a href="./qstring.htm#toUtf8" translate="no">QString::toUtf8</a>() (or <a href="./qstring.htm#toLatin1" translate="no">QString::toLatin1</a>() or <a href="./qstring.htm#toLocal8Bit" translate="no">QString::toLocal8Bit</a>()) explicitly if you want to convert the data to <code translate="no">const char *</code>.</p>
<!-- @@@insert -->
<!-- $$$lastIndexOf$$$lastIndexOfconstQString&int -->
<h3 class="fn" id="lastIndexOf-3" translate="no"><a name="lastIndexOf-3"></a><span class="type">int</span> QByteArray::<span class="name">lastIndexOf</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>str</i>, <span class="type">int</span> <i>from</i> = -1) const<a class="plink" href="#lastIndexOf-3" title="Direct link to this headline"></a></h3>
<p>This function is obsolete. It is provided to keep old source code working. We strongly advise against using it in new code.</p>
<p>This is an overloaded function.</p>
<p>Returns the index position of the last occurrence of the string <i translate="no">str</i> in the byte array, searching backward from index position <i translate="no">from</i>. If <i translate="no">from</i> is -1 (the default), the search starts at the last (<a href="./qbytearray.htm#size" translate="no">size</a>() - 1) byte. Returns -1 if <i translate="no">str</i> could not be found.</p>
<p>The Unicode data is converted into 8-bit characters using <a href="./qstring.htm#toUtf8" translate="no">QString::toUtf8</a>().</p>
<p>You can disable this function by defining <code translate="no">QT_NO_CAST_TO_ASCII</code> when you compile your applications. You then need to call <a href="./qstring.htm#toUtf8" translate="no">QString::toUtf8</a>() (or <a href="./qstring.htm#toLatin1" translate="no">QString::toLatin1</a>() or <a href="./qstring.htm#toLocal8Bit" translate="no">QString::toLocal8Bit</a>()) explicitly if you want to convert the data to <code translate="no">const char *</code>.</p>
<!-- @@@lastIndexOf -->
<!-- $$$replace$$$replaceconstQString&constchar* -->
<h3 class="fn" id="replace-11" translate="no"><a name="replace-11"></a><span class="type"><a href="./qbytearray.htm#QByteArray" translate="no">QByteArray</a></span> &amp;QByteArray::<span class="name">replace</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>before</i>, const <span class="type">char</span> *<i>after</i>)<a class="plink" href="#replace-11" title="Direct link to this headline"></a></h3>
<p>This function is obsolete. It is provided to keep old source code working. We strongly advise against using it in new code.</p>
<p>This is an overloaded function.</p>
<p>Replaces every occurrence of the string <i translate="no">before</i> with the string <i translate="no">after</i>.</p>
<!-- @@@replace -->
<!-- $$$replace$$$replacecharconstQString& -->
<h3 class="fn" id="replace-12" translate="no"><a name="replace-12"></a><span class="type"><a href="./qbytearray.htm#QByteArray" translate="no">QByteArray</a></span> &amp;QByteArray::<span class="name">replace</span>(<span class="type">char</span> <i>before</i>, const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>after</i>)<a class="plink" href="#replace-12" title="Direct link to this headline"></a></h3>
<p>This function is obsolete. It is provided to keep old source code working. We strongly advise against using it in new code.</p>
<p>This is an overloaded function.</p>
<p>Replaces every occurrence of the character <i translate="no">before</i> with the string <i translate="no">after</i>. The Unicode data is converted into 8-bit characters using <a href="./qstring.htm#toUtf8" translate="no">QString::toUtf8</a>().</p>
<p>You can disable this function by defining <code translate="no">QT_NO_CAST_TO_ASCII</code> when you compile your applications. You then need to call <a href="./qstring.htm#toUtf8" translate="no">QString::toUtf8</a>() (or <a href="./qstring.htm#toLatin1" translate="no">QString::toLatin1</a>() or <a href="./qstring.htm#toLocal8Bit" translate="no">QString::toLocal8Bit</a>()) explicitly if you want to convert the data to <code translate="no">const char *</code>.</p>
<!-- @@@replace -->
<!-- $$$replace$$$replaceconstQString&constQByteArray& -->
<h3 class="fn" id="replace-13" translate="no"><a name="replace-13"></a><span class="type"><a href="./qbytearray.htm#QByteArray" translate="no">QByteArray</a></span> &amp;QByteArray::<span class="name">replace</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>before</i>, const <span class="type"><a href="./qbytearray.htm#QByteArray" translate="no">QByteArray</a></span> &amp;<i>after</i>)<a class="plink" href="#replace-13" title="Direct link to this headline"></a></h3>
<p>This function is obsolete. It is provided to keep old source code working. We strongly advise against using it in new code.</p>
<p>This is an overloaded function.</p>
<p>Replaces every occurrence of the string <i translate="no">before</i> with the byte array <i translate="no">after</i>. The Unicode data is converted into 8-bit characters using <a href="./qstring.htm#toUtf8" translate="no">QString::toUtf8</a>().</p>
<p>You can disable this function by defining <code translate="no">QT_NO_CAST_TO_ASCII</code> when you compile your applications. You then need to call <a href="./qstring.htm#toUtf8" translate="no">QString::toUtf8</a>() (or <a href="./qstring.htm#toLatin1" translate="no">QString::toLatin1</a>() or <a href="./qstring.htm#toLocal8Bit" translate="no">QString::toLocal8Bit</a>()) explicitly if you want to convert the data to <code translate="no">const char *</code>.</p>
<!-- @@@replace -->
<!-- $$$operator+=$$$operator+=constQString& -->
<h3 class="fn" id="operator-2b-eq-3" translate="no"><a name="operator-2b-eq-3"></a><span class="type"><a href="./qbytearray.htm#QByteArray" translate="no">QByteArray</a></span> &amp;QByteArray::<span class="name">operator+=</span>(const <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> &amp;<i>str</i>)<a class="plink" href="#operator-2b-eq-3" title="Direct link to this headline"></a></h3>
<p>This function is obsolete. It is provided to keep old source code working. We strongly advise against using it in new code.</p>
<p>This is an overloaded function.</p>
<p>Appends the string <i translate="no">str</i> onto the end of this byte array and returns a reference to this byte array. The Unicode data is converted into 8-bit characters using <a href="./qstring.htm#toUtf8" translate="no">QString::toUtf8</a>().</p>
<p>You can disable this function by defining <code translate="no">QT_NO_CAST_TO_ASCII</code> when you compile your applications. You then need to call <a href="./qstring.htm#toUtf8" translate="no">QString::toUtf8</a>() (or <a href="./qstring.htm#toLatin1" translate="no">QString::toLatin1</a>() or <a href="./qstring.htm#toLocal8Bit" translate="no">QString::toLocal8Bit</a>()) explicitly if you want to convert the data to <code translate="no">const char *</code>.</p>
<!-- @@@operator+= -->
<h2>Related Non-Members</h2>
<!-- $$$qsnprintf[overload1]$$$qsnprintfchar*size_tconstchar*... -->
<h3 class="fn" id="qsnprintf" translate="no"><a name="qsnprintf"></a><span class="type">int</span> <span class="name">qsnprintf</span>(<span class="type">char</span> *<i>str</i>, <span class="type">size_t</span> <i>n</i>, const <span class="type">char</span> *<i>fmt</i>, <i>...</i>)<a class="plink" href="#qsnprintf" title="Direct link to this headline"></a></h3>
<p>This function is obsolete. It is provided to keep old source code working. We strongly advise against using it in new code.</p>
<a name="bytearray-qsnprintf"></a><p>Use C++11's <code translate="no">std::snprintf()</code> from <code translate="no">&lt;cstdio&gt;</code> instead.</p>
<p>A portable snprintf() function, calls qvsnprintf.</p>
<p><i translate="no">fmt</i> is the <code translate="no">printf()</code> format string. The result is put into <i translate="no">str</i>, which is a buffer of at least <i translate="no">n</i> bytes.</p>
<div class="admonition warning">
<p><b>Warning: </b>Call this function only when you know what you are doing since it shows different behavior on certain platforms. Use <a href="./qstring.htm#asprintf" translate="no">QString::asprintf</a>() to format a string instead.</p>
</div>
<p><b>See also </b><a href="./qbytearray-obsolete.htm#qvsnprintf" translate="no">qvsnprintf</a>() and <a href="./qstring.htm#asprintf" translate="no">QString::asprintf</a>().</p>
<!-- @@@qsnprintf -->
<!-- $$$qvsnprintf[overload1]$$$qvsnprintfchar*size_tconstchar*va_list -->
<h3 class="fn" id="qvsnprintf" translate="no"><a name="qvsnprintf"></a><span class="type">int</span> <span class="name">qvsnprintf</span>(<span class="type">char</span> *<i>str</i>, <span class="type">size_t</span> <i>n</i>, const <span class="type">char</span> *<i>fmt</i>, <span class="type">va_list</span> <i>ap</i>)<a class="plink" href="#qvsnprintf" title="Direct link to this headline"></a></h3>
<p>This function is obsolete. It is provided to keep old source code working. We strongly advise against using it in new code.</p>
<p>Use C++11's <code translate="no">std::vsnprintf()</code> from <code translate="no">&lt;cstdio&gt;</code> instead.</p>
<p>A portable <code translate="no">vsnprintf()</code> function. Will call <code translate="no">::vsnprintf()</code>, <code translate="no">::_vsnprintf()</code>, or <code translate="no">::vsnprintf_s</code> depending on the system, or fall back to an internal version.</p>
<p><i translate="no">fmt</i> is the <code translate="no">printf()</code> format string. The result is put into <i translate="no">str</i>, which is a buffer of at least <i translate="no">n</i> bytes.</p>
<p>The caller is responsible to call <code translate="no">va_end()</code> on <i translate="no">ap</i>.</p>
<div class="admonition warning">
<p><b>Warning: </b>Since vsnprintf() shows different behavior on certain platforms, you should not rely on the return value or on the fact that you will always get a 0 terminated string back.</p>
</div>
<p>Ideally, you should never call this function but use <a href="./qstring.htm#asprintf" translate="no">QString::asprintf</a>() instead.</p>
<p><b>See also </b><a href="./qbytearray-obsolete.htm#qsnprintf" translate="no">qsnprintf</a>() and <a href="./qstring.htm#asprintf" translate="no">QString::asprintf</a>().</p>
<!-- @@@qvsnprintf -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>