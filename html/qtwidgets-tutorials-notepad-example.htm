<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Getting Started Programming with Qt Widgets | Qt Widgets</title>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtwidgets-index.htm" translate="no">Qt Widgets</a></li>
                            <li><a>Getting Started Programming with Qt Widgets</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Getting Started Programming with Qt Widgets</h1>
<span class="subtitle"></span>
<!-- $$$tutorials/notepad-brief -->
<p>A tutorial for Qt Widgets based on a notepad application.</p>
<!-- @@@tutorials/notepad -->
<!-- $$$tutorials/notepad-description -->
<div class="descr"> <a name="details"></a>
<p>In this topic, we teach basic Qt knowledge by implementing a simple Notepad application using C++ and the <a href="./qtwidgets-index.htm" translate="no">Qt Widgets</a> module. The application is a small text editor which allows you to create a text file, save it, print it, or reopen and edit it again. You can also set the font to be used.</p>
<p class="centerAlign"><img alt="&quot;Notepad application&quot;" src="./images/notepad1.png"></p><p>You can find the final Notepad source files in the qtdoc repository in the tutorials/notepad directory. You can either fetch the Qt 5 sources from Qt Project or install them as part of Qt 5. The application is also available in the example list of Qt Creator's Welcome mode.</p>
<a name="creating-the-notepad-project"></a>
<h4 id="creating-the-notepad-project">Creating the Notepad Project<a class="plink" href="#creating-the-notepad-project" title="Direct link to this headline"></a></h4>
<p>Setting up a new project in Qt Creator is aided by a wizard that guides you step-by-step through the project creation process. The wizard prompts you to enter the settings needed for that particular type of project and creates the project for you.</p>
<p class="centerAlign"><img alt="&quot;Qt Creator New File or Project dialog&quot;" src="./images/notepad2.png"></p><p>To create the Notepad project, select <b>File</b> &gt; <b>New File or Project</b> &gt; <b>Applications</b> &gt; <b>Qt Widgets Application</b> &gt; <b>Choose</b>, and follow the instructions of the wizard. In the <b>Class Information</b> dialog, type <b>Notepad</b> as the class name and select <b>QMainWindow</b> as the base class.</p>
<p class="centerAlign"><img alt="&quot;Class Information Dialog&quot;" src="./images/notepad3.png"></p><p>The <b>Qt Widgets Application</b> wizard creates a project that contains a main source file and a set of files that specify a user interface (Notepad widget):</p>
<ul>
<li>notepad.pro - the project file.</li>
<li>main.cpp - the main source file for the application.</li>
<li>notepad.cpp - the source file of the notepad class of the Notepad widget.</li>
<li>notepad.h - the header file of the notepad class for the Notepad widget.</li>
<li>notepad.ui - the UI form for the Notepad widget.</li>
</ul>
<p>The .cpp, .h, and .ui files come with the necessary boiler plate code for you to be able to build and run the project. The .pro file is complete. We will take a closer look at the file contents in the following sections.</p>
<p><b>Learn More</b></p>
<div class="table"><table class="generic">
<thead><tr class="qt-style"><th>About</th><th>Here</th></tr></thead>
<tbody><tr class="odd" valign="top"><td>Using Qt Creator</td><td><a href="https://doc.qt.io/qtcreator/index.html" translate="no">Qt Creator</a></td></tr>
<tr class="even" valign="top"><td>Creating other kind of applications with Qt Creator</td><td><a href="https://doc.qt.io/qtcreator/creator-tutorials.html" translate="no">Qt Creator Tutorials</a></td></tr>
</tbody></table></div>
<a name="main-source-file"></a>
<h4 id="main-source-file">Main Source File<a class="plink" href="#main-source-file" title="Direct link to this headline"></a></h4>
<p>The wizard generates the following code in the main.cpp file:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="preprocessor">#include "notepad.h"</span>
<span class="preprocessor">#include &lt;QApplication&gt;</span>

<span class="type">int</span> main(<span class="type">int</span> argc<span class="operator">,</span> <span class="type">char</span> <span class="operator">*</span>argv<span class="operator">[</span><span class="operator">]</span>)
{
    <span class="type"><a href="./qapplication.htm" translate="no">QApplication</a></span> EditorApp(argc<span class="operator">,</span> argv);
    Notepad Editor;
    Editor<span class="operator">.</span>show();

    <span class="keyword">return</span> EditorApp<span class="operator">.</span>exec();
}</pre></div>
<p>We will go through the code line by line. The following lines include the header files for the Notepad widget and <a href="./qapplication.htm" translate="no">QApplication</a>. All Qt classes have a header file named after them.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="preprocessor">#include "notepad.h"</span>
<span class="preprocessor">#include &lt;QApplication&gt;</span></pre></div>
<p>The following line defines the main function that is the entry point for all C and C++ based applications:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type">int</span> main(<span class="type">int</span> argc<span class="operator">,</span> <span class="type">char</span> <span class="operator">*</span>argv<span class="operator">[</span><span class="operator">]</span>)</pre></div>
<p>The following line creates a <a href="./qapplication.htm" translate="no">QApplication</a> object. This object manages application-wide resources and is necessary to run any Qt program that uses Qt Widgets. It constructs an application object with <code translate="no">argc</code> command line arguments run in <code translate="no">argv</code>. (For GUI applications that do not use Qt Widgets, you can use <a href="./qguiapplication.htm" translate="no">QGuiApplication</a> instead.)</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qapplication.htm" translate="no">QApplication</a></span> EditorApp(argc<span class="operator">,</span> argv);</pre></div>
<p>The following line creates the Notepad object. This is the object for which the wizard created the class and the UI file. The user interface contains visual elements that are called <code translate="no">widgets</code> in Qt. Examples of widgets are text edits, scroll bars, labels, and radio buttons. A widget can also be a container for other widgets; a dialog or a main application window, for example.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    Notepad Editor;</pre></div>
<p>The following line shows the Notepad widget on the screen in its own window. Widgets can also function as containers. An example of this is <a href="./qmainwindow.htm" translate="no">QMainWindow</a> which often contains several types of widgets. Widgets are not visible by default; the function <a href="./qwidget.htm#show" translate="no">show()</a> makes the widget visible.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    Editor<span class="operator">.</span>show();</pre></div>
<p>The following line makes the <a href="./qapplication.htm" translate="no">QApplication</a> enter its event loop. When a Qt application is running, events are generated and sent to the widgets of the application. Examples of events are mouse presses and key strokes.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="keyword">return</span> EditorApp<span class="operator">.</span>exec();</pre></div>
<p><b>Learn More</b></p>
<div class="table"><table class="generic">
<thead><tr class="qt-style"><th>About</th><th>Here</th></tr></thead>
<tbody><tr class="odd" valign="top"><td>Widgets and Window Geometry</td><td><a href="./application-windows.htm" translate="no">Window and Dialog Widgets</a></td></tr>
<tr class="even" valign="top"><td>Events and event handling</td><td><a href="./eventsandfilters.htm" translate="no">The Event System</a></td></tr>
</tbody></table></div>
<a name="designing-a-ui"></a>
<h4 id="designing-a-ui">Designing a UI<a class="plink" href="#designing-a-ui" title="Direct link to this headline"></a></h4>
<p>The wizard generates a user interface definition in XML format: notepad.ui. When you open the notepad.ui file in Qt Creator, it automatically opens in the integrated Qt Designer.</p>
<p>When you build the application, Qt Creator launches the Qt <a href="./uic.htm" translate="no">User Interface Compiler (uic)</a> that reads the .ui file and creates a corresponding C++ header file, ui_notepad.h.</p>
<a name="using-qt-designer"></a>
<h5 id="using-qt-designer">Using Qt Designer<a class="plink" href="#using-qt-designer" title="Direct link to this headline"></a></h5>
<p>The wizard creates an application that uses a <a href="./qmainwindow.htm" translate="no">QMainWindow</a>. It has its own layout to which you can add a menu bar, dock widgets, toolbars, and a status bar. The center area can be occupied by any kind of widget. The wizard places the Notepad widget there.</p>
<p>To add widgets in Qt Designer:</p>
<ol class="1" type="1"><li>In the Qt Creator <b>Editor</b> mode, double-click the notepad.ui file in the <b>Projects</b> view to launch the file in the integrated Qt Designer.</li>
<li>Drag and drop widgets Text Edit (<a href="./qtextedit.htm" translate="no">QTextEdit</a>) to the form.</li>
<li>Press <b>Ctrl+A</b> (or <b>Cmd+A</b>) to select the widgets and click <b>Lay out Vertically</b> (or press <b>Ctrl+L</b>) to apply a vertical layout (<a href="./qvboxlayout.htm" translate="no">QVBoxLayout</a>).</li>
<li>Press <b>Ctrl+S</b> (or <b>Cmd+S</b>) to save your changes.</li>
</ol>
<p>The UI now looks as follows in Qt Designer:</p>
<p class="centerAlign"><img alt="" src="./images/notepad4.png"></p><p>You can view the generated XML file in the code editor:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;ui version="4.0"&gt;
 &lt;class&gt;Notepad&lt;/class&gt;
 &lt;widget class="QMainWindow" name="Notepad"&gt;
  &lt;property name="geometry"&gt;
   &lt;rect&gt;
    &lt;x&gt;0&lt;/x&gt;
    &lt;y&gt;0&lt;/y&gt;
    &lt;width&gt;800&lt;/width&gt;
    &lt;height&gt;400&lt;/height&gt;
   &lt;/rect&gt;
  &lt;/property&gt;
  &lt;property name="windowTitle"&gt;
   &lt;string&gt;Notepad&lt;/string&gt;
  &lt;/property&gt;
  &lt;widget class="QWidget" name="centralWidget"&gt;
   &lt;layout class="QVBoxLayout" name="verticalLayout"&gt;
    &lt;item&gt;
     &lt;widget class="QTextEdit" name="textEdit"/&gt;
    &lt;/item&gt;
   &lt;/layout&gt;
  &lt;/widget&gt;
  &lt;widget class="QMenuBar" name="menuBar"&gt;
    ...</pre></div>
<p>The following line contains the XML declaration, which specifies the XML version and character encoding used in the document:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="operator">&lt;</span><span class="operator">?</span>xml version<span class="operator">=</span><span class="string">"1.0"</span> encoding<span class="operator">=</span><span class="string">"UTF-8"</span><span class="operator">?</span><span class="operator">&gt;</span></pre></div>
<p>The rest of the file specifies an <code translate="no">ui</code> element that defines a Notepad widget:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="operator">&lt;</span>ui version<span class="operator">=</span><span class="string">"4.0"</span><span class="operator">&gt;</span></pre></div>
<p>The UI file is used together with the header and source file of the Notepad class. We will look at the rest of the UI file in the later sections.</p>
<a name="notepad-header-file"></a>
<h5 id="notepad-header-file">Notepad Header File<a class="plink" href="#notepad-header-file" title="Direct link to this headline"></a></h5>
<p>The wizard generated a header file for the Notepad class that has the necessary #includes, a constructor, a destructor, and the Ui object. The file looks as follows:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="preprocessor">#include &lt;QMainWindow&gt;</span>

<span class="keyword">namespace</span> Ui {
<span class="keyword">class</span> Notepad;
}


<span class="keyword">class</span> Notepad : <span class="keyword">public</span> <span class="type"><a href="./qmainwindow.htm" translate="no">QMainWindow</a></span>
{
    Q_OBJECT

<span class="keyword">public</span>:
    <span class="keyword">explicit</span> Notepad(<span class="type"><a href="./qwidget.htm" translate="no">QWidget</a></span> <span class="operator">*</span>parent <span class="operator">=</span> nullptr);
    <span class="operator">~</span>Notepad();

<span class="keyword">private</span> <span class="keyword">slots</span>:
    <span class="type">void</span> newDocument();

    <span class="type">void</span> open();

    <span class="type">void</span> save();

    <span class="type">void</span> saveAs();

    <span class="type">void</span> print();

    <span class="type">void</span> exit();

    <span class="type">void</span> copy();

    <span class="type">void</span> cut();

    <span class="type">void</span> paste();

    <span class="type">void</span> undo();

    <span class="type">void</span> redo();

    <span class="type">void</span> selectFont();

    <span class="type">void</span> setFontBold(bool bold);

    <span class="type">void</span> setFontUnderline(bool underline);

    <span class="type">void</span> setFontItalic(bool italic);

    <span class="type">void</span> about();

<span class="keyword">private</span>:
    Ui<span class="operator">::</span>Notepad <span class="operator">*</span>ui;
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> currentFile;
};</pre></div>
<p>The following line includes <a href="./qmainwindow.htm" translate="no">QMainWindow</a> that provides a main application window:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="preprocessor">#include &lt;QMainWindow&gt;</span></pre></div>
<p>The following lines declare the Notepad class in the Ui namespace, which is the standard namespace for the UI classes generated from .ui files by the <code translate="no">uic</code> tool:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="keyword">namespace</span> Ui {
<span class="keyword">class</span> Notepad;
}</pre></div>
<p>The class declaration contains the <code translate="no">Q_OBJECT</code> macro. It must come first in the class definition, and declares our class as a <a href="./qobject.htm" translate="no">QObject</a>. Naturally, it must also inherit from <a href="./qobject.htm" translate="no">QObject</a>. A <a href="./qobject.htm" translate="no">QObject</a> adds several abilities to a normal C++ class. Notably, the class name and slot names can be queried at runtime. It is also possible to query a slot's parameter types and invoke it.</p>
<div class="pre"><pre class="cpp" translate="no"><span class="keyword">class</span> Notepad : <span class="keyword">public</span> <span class="type"><a href="./qmainwindow.htm" translate="no">QMainWindow</a></span>
{
    Q_OBJECT</pre></div>
<p>The following lines declare a constructor that has a default argument called <code translate="no">parent</code>. The value 0 indicates that the widget has no parent (it is a top-level widget).</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="keyword">public</span>:
    <span class="keyword">explicit</span> Notepad(<span class="type"><a href="./qwidget.htm" translate="no">QWidget</a></span> <span class="operator">*</span>parent <span class="operator">=</span> nullptr);</pre></div>
<p>The following line declares a virtual destructor to free the resources that were acquired by the object during its life-cycle. According to the C++ naming convention, destructors have the same name as the class they are associated with, prefixed with a tilde (~). In <a href="./qobject.htm" translate="no">QObject</a>, destructors are virtual to ensure that the destructors of derived classes are invoked properly when an object is deleted through a pointer-to-base-class.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="operator">~</span>Notepad();</pre></div>
<p>The following lines declare a member variable which is a pointer to the Notepad UI class. A member variable is associated with a specific class, and accessible for all its methods.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="keyword">private</span>:
    Ui<span class="operator">::</span>Notepad <span class="operator">*</span>ui;
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> currentFile;</pre></div>
<a name="notepad-source-file"></a>
<h5 id="notepad-source-file">Notepad Source File<a class="plink" href="#notepad-source-file" title="Direct link to this headline"></a></h5>
<p>The source file that the wizard generated for the Notepad class looks as follows:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="preprocessor">#include "notepad.h"</span>
<span class="preprocessor">#include "ui_notepad.h"</span>

Notepad<span class="operator">::</span>Notepad(<span class="type"><a href="./qwidget.htm" translate="no">QWidget</a></span> <span class="operator">*</span>parent) :
    <span class="type"><a href="./qmainwindow.htm" translate="no">QMainWindow</a></span>(parent)<span class="operator">,</span>
    ui(<span class="keyword">new</span> Ui<span class="operator">::</span>Notepad)
{
    ui<span class="operator">-</span><span class="operator">&gt;</span>setupUi(<span class="keyword">this</span>);
    <span class="keyword">this</span><span class="operator">-</span><span class="operator">&gt;</span>setCentralWidget(ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit);

    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionNew<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>newDocument);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionOpen<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>open);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionSave<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>save);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionSave_as<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>saveAs);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionPrint<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>print);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionExit<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>exit);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionCopy<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>copy);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionCut<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>cut);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionPaste<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>paste);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionUndo<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>undo);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionRedo<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>redo);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionFont<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>selectFont);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionBold<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>setFontBold);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionUnderline<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>setFontUnderline);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionItalic<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>setFontItalic);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionAbout<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>about);

<span class="comment">// Disable menu actions for unavailable features</span>
<span class="preprocessor">#if !defined(QT_PRINTSUPPORT_LIB) || !QT_CONFIG(printer)</span>
    ui<span class="operator">-</span><span class="operator">&gt;</span>actionPrint<span class="operator">-</span><span class="operator">&gt;</span>setEnabled(<span class="keyword">false</span>);
<span class="preprocessor">#endif</span>

<span class="preprocessor">#if !QT_CONFIG(clipboard)</span>
    ui<span class="operator">-</span><span class="operator">&gt;</span>actionCut<span class="operator">-</span><span class="operator">&gt;</span>setEnabled(<span class="keyword">false</span>);
    ui<span class="operator">-</span><span class="operator">&gt;</span>actionCopy<span class="operator">-</span><span class="operator">&gt;</span>setEnabled(<span class="keyword">false</span>);
    ui<span class="operator">-</span><span class="operator">&gt;</span>actionPaste<span class="operator">-</span><span class="operator">&gt;</span>setEnabled(<span class="keyword">false</span>);
<span class="preprocessor">#endif</span>
}

Notepad<span class="operator">::</span><span class="operator">~</span>Notepad()
{
    <span class="keyword">delete</span> ui;
}

<span class="type">void</span> Notepad<span class="operator">::</span>newDocument()
{
    currentFile<span class="operator">.</span>clear();
    ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>setText(<span class="type"><a href="./qstring.htm" translate="no">QString</a></span>());
}

<span class="type">void</span> Notepad<span class="operator">::</span>open()
{
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> fileName <span class="operator">=</span> <span class="type"><a href="./qfiledialog.htm" translate="no">QFileDialog</a></span><span class="operator">::</span>getOpenFileName(<span class="keyword">this</span><span class="operator">,</span> <span class="string">"Open the file"</span>);
    <span class="type"><a href="./qfile.htm" translate="no">QFile</a></span> file(fileName);
    currentFile <span class="operator">=</span> fileName;
    <span class="keyword">if</span> (<span class="operator">!</span>file<span class="operator">.</span>open(<span class="type"><a href="./qiodevice.htm" translate="no">QIODevice</a></span><span class="operator">::</span>ReadOnly <span class="operator">|</span> <span class="type"><a href="./qfile.htm" translate="no">QFile</a></span><span class="operator">::</span>Text)) {
        <span class="type"><a href="./qmessagebox.htm" translate="no">QMessageBox</a></span><span class="operator">::</span>warning(<span class="keyword">this</span><span class="operator">,</span> <span class="string">"Warning"</span><span class="operator">,</span> <span class="string">"Cannot open file: "</span> <span class="operator">+</span> file<span class="operator">.</span>errorString());
        <span class="keyword">return</span>;
    }
    setWindowTitle(fileName);
    <span class="type"><a href="./qtextstream.htm" translate="no">QTextStream</a></span> in(<span class="operator">&amp;</span>file);
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> text <span class="operator">=</span> in<span class="operator">.</span>readAll();
    ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>setText(text);
    file<span class="operator">.</span>close();
}

<span class="type">void</span> Notepad<span class="operator">::</span>save()
{
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> fileName;
    <span class="comment">// If we don't have a filename from before, get one.</span>
    <span class="keyword">if</span> (currentFile<span class="operator">.</span>isEmpty()) {
        fileName <span class="operator">=</span> <span class="type"><a href="./qfiledialog.htm" translate="no">QFileDialog</a></span><span class="operator">::</span>getSaveFileName(<span class="keyword">this</span><span class="operator">,</span> <span class="string">"Save"</span>);
        currentFile <span class="operator">=</span> fileName;
    } <span class="keyword">else</span> {
        fileName <span class="operator">=</span> currentFile;
    }
    <span class="type"><a href="./qfile.htm" translate="no">QFile</a></span> file(fileName);
    <span class="keyword">if</span> (<span class="operator">!</span>file<span class="operator">.</span>open(<span class="type"><a href="./qiodevice.htm" translate="no">QIODevice</a></span><span class="operator">::</span>WriteOnly <span class="operator">|</span> <span class="type"><a href="./qfile.htm" translate="no">QFile</a></span><span class="operator">::</span>Text)) {
        <span class="type"><a href="./qmessagebox.htm" translate="no">QMessageBox</a></span><span class="operator">::</span>warning(<span class="keyword">this</span><span class="operator">,</span> <span class="string">"Warning"</span><span class="operator">,</span> <span class="string">"Cannot save file: "</span> <span class="operator">+</span> file<span class="operator">.</span>errorString());
        <span class="keyword">return</span>;
    }
    setWindowTitle(fileName);
    <span class="type"><a href="./qtextstream.htm" translate="no">QTextStream</a></span> out(<span class="operator">&amp;</span>file);
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> text <span class="operator">=</span> ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>toPlainText();
    out <span class="operator">&lt;</span><span class="operator">&lt;</span> text;
    file<span class="operator">.</span>close();
}

<span class="type">void</span> Notepad<span class="operator">::</span>saveAs()
{
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> fileName <span class="operator">=</span> <span class="type"><a href="./qfiledialog.htm" translate="no">QFileDialog</a></span><span class="operator">::</span>getSaveFileName(<span class="keyword">this</span><span class="operator">,</span> <span class="string">"Save as"</span>);
    <span class="type"><a href="./qfile.htm" translate="no">QFile</a></span> file(fileName);

    <span class="keyword">if</span> (<span class="operator">!</span>file<span class="operator">.</span>open(<span class="type"><a href="./qfile.htm" translate="no">QFile</a></span><span class="operator">::</span>WriteOnly <span class="operator">|</span> <span class="type"><a href="./qfile.htm" translate="no">QFile</a></span><span class="operator">::</span>Text)) {
        <span class="type"><a href="./qmessagebox.htm" translate="no">QMessageBox</a></span><span class="operator">::</span>warning(<span class="keyword">this</span><span class="operator">,</span> <span class="string">"Warning"</span><span class="operator">,</span> <span class="string">"Cannot save file: "</span> <span class="operator">+</span> file<span class="operator">.</span>errorString());
        <span class="keyword">return</span>;
    }
    currentFile <span class="operator">=</span> fileName;
    setWindowTitle(fileName);
    <span class="type"><a href="./qtextstream.htm" translate="no">QTextStream</a></span> out(<span class="operator">&amp;</span>file);
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> text <span class="operator">=</span> ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>toPlainText();
    out <span class="operator">&lt;</span><span class="operator">&lt;</span> text;
    file<span class="operator">.</span>close();
}

<span class="type">void</span> Notepad<span class="operator">::</span>print()
{
<span class="preprocessor">#if defined(QT_PRINTSUPPORT_LIB) &amp;&amp; QT_CONFIG(printer)</span>
    <span class="type">QPrinter</span> printDev;
<span class="preprocessor">#if QT_CONFIG(printdialog)</span>
    <span class="type">QPrintDialog</span> dialog(<span class="operator">&amp;</span>printDev<span class="operator">,</span> <span class="keyword">this</span>);
    <span class="keyword">if</span> (dialog<span class="operator">.</span>exec() <span class="operator">=</span><span class="operator">=</span> <span class="type"><a href="./qdialog.htm" translate="no">QDialog</a></span><span class="operator">::</span>Rejected)
        <span class="keyword">return</span>;
<span class="preprocessor">#endif // QT_CONFIG(printdialog)</span>
    ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>print(<span class="operator">&amp;</span>printDev);
<span class="preprocessor">#endif // QT_CONFIG(printer)</span>
}

<span class="type">void</span> Notepad<span class="operator">::</span>exit()
{
    <span class="type"><a href="./qcoreapplication.htm" translate="no">QCoreApplication</a></span><span class="operator">::</span>quit();
}

<span class="type">void</span> Notepad<span class="operator">::</span>copy()
{
<span class="preprocessor">#if QT_CONFIG(clipboard)</span>
    ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>copy();
<span class="preprocessor">#endif</span>
}

<span class="type">void</span> Notepad<span class="operator">::</span>cut()
{
<span class="preprocessor">#if QT_CONFIG(clipboard)</span>
    ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>cut();
<span class="preprocessor">#endif</span>
}

<span class="type">void</span> Notepad<span class="operator">::</span>paste()
{
<span class="preprocessor">#if QT_CONFIG(clipboard)</span>
    ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>paste();
<span class="preprocessor">#endif</span>
}

<span class="type">void</span> Notepad<span class="operator">::</span>undo()
{
     ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>undo();
}

<span class="type">void</span> Notepad<span class="operator">::</span>redo()
{
    ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>redo();
}

<span class="type">void</span> Notepad<span class="operator">::</span>selectFont()
{
    bool fontSelected;
    <span class="type"><a href="./qfont.htm" translate="no">QFont</a></span> font <span class="operator">=</span> <span class="type"><a href="./qfontdialog.htm" translate="no">QFontDialog</a></span><span class="operator">::</span>getFont(<span class="operator">&amp;</span>fontSelected<span class="operator">,</span> <span class="keyword">this</span>);
    <span class="keyword">if</span> (fontSelected)
        ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>setFont(font);
}</pre></div>
<p>The following lines include the Notepad class header file that was generated by the wizard and the UI header file that was generated by the <code translate="no">uic</code> tool:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="preprocessor">#include "notepad.h"</span>
<span class="preprocessor">#include "ui_notepad.h"</span></pre></div>
<p>The following line defines the <code translate="no">Notepad</code> constructor:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">Notepad<span class="operator">::</span>Notepad(<span class="type"><a href="./qwidget.htm" translate="no">QWidget</a></span> <span class="operator">*</span>parent) :</pre></div>
<p>The following line calls the <a href="./qmainwindow.htm" translate="no">QMainWindow</a> constructor, which is the base class for the Notepad class:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qmainwindow.htm" translate="no">QMainWindow</a></span>(parent)<span class="operator">,</span></pre></div>
<p>The following line creates the UI class instance and assigns it to the <code translate="no">ui</code> member:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    ui(<span class="keyword">new</span> Ui<span class="operator">::</span>Notepad)</pre></div>
<p>The following line sets up the UI:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    ui<span class="operator">-</span><span class="operator">&gt;</span>setupUi(<span class="keyword">this</span>);</pre></div>
<p>In the destructor, we delete the <code translate="no">ui</code>:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">Notepad<span class="operator">::</span><span class="operator">~</span>Notepad()
{
    <span class="keyword">delete</span> ui;
}</pre></div>
<p>In order to have the text edit field occupy the whole screen, we add <code translate="no">setCentralWidget</code> to the main window.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">Notepad<span class="operator">::</span>Notepad(<span class="type"><a href="./qwidget.htm" translate="no">QWidget</a></span> <span class="operator">*</span>parent) :
    <span class="type"><a href="./qmainwindow.htm" translate="no">QMainWindow</a></span>(parent)<span class="operator">,</span>
    ui(<span class="keyword">new</span> Ui<span class="operator">::</span>Notepad)
{
    ui<span class="operator">-</span><span class="operator">&gt;</span>setupUi(<span class="keyword">this</span>);
    <span class="keyword">this</span><span class="operator">-</span><span class="operator">&gt;</span>setCentralWidget(ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit);

    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionNew<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>newDocument);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionOpen<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>open);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionSave<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>save);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionSave_as<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>saveAs);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionPrint<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>print);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionExit<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>exit);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionCopy<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>copy);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionCut<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>cut);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionPaste<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>paste);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionUndo<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>undo);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionRedo<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>redo);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionFont<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>selectFont);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionBold<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>setFontBold);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionUnderline<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>setFontUnderline);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionItalic<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>setFontItalic);
    connect(ui<span class="operator">-</span><span class="operator">&gt;</span>actionAbout<span class="operator">,</span> <span class="operator">&amp;</span><span class="type"><a href="./qaction.htm" translate="no">QAction</a></span><span class="operator">::</span>triggered<span class="operator">,</span> <span class="keyword">this</span><span class="operator">,</span> <span class="operator">&amp;</span>Notepad<span class="operator">::</span>about);

<span class="comment">// Disable menu actions for unavailable features</span>
<span class="preprocessor">#if !defined(QT_PRINTSUPPORT_LIB) || !QT_CONFIG(printer)</span>
    ui<span class="operator">-</span><span class="operator">&gt;</span>actionPrint<span class="operator">-</span><span class="operator">&gt;</span>setEnabled(<span class="keyword">false</span>);
<span class="preprocessor">#endif</span>

<span class="preprocessor">#if !QT_CONFIG(clipboard)</span>
    ui<span class="operator">-</span><span class="operator">&gt;</span>actionCut<span class="operator">-</span><span class="operator">&gt;</span>setEnabled(<span class="keyword">false</span>);
    ui<span class="operator">-</span><span class="operator">&gt;</span>actionCopy<span class="operator">-</span><span class="operator">&gt;</span>setEnabled(<span class="keyword">false</span>);
    ui<span class="operator">-</span><span class="operator">&gt;</span>actionPaste<span class="operator">-</span><span class="operator">&gt;</span>setEnabled(<span class="keyword">false</span>);
<span class="preprocessor">#endif</span>
}</pre></div>
<a name="project-file"></a>
<h5 id="project-file">Project File<a class="plink" href="#project-file" title="Direct link to this headline"></a></h5>
<p>The wizard generates the following project file, <code translate="no">notepad.pro</code>, for us:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">TEMPLATE = app
TARGET = notepad

QT += widgets

qtHaveModule(printsupport): QT += printsupport
requires(qtConfig(fontdialog))

SOURCES += \
    main.cpp\
    notepad.cpp

HEADERS += notepad.h

FORMS += notepad.ui

RESOURCES += \
    notepad.qrc

# install
target.path = $$[QT_INSTALL_EXAMPLES]/widgets/tutorials/notepad
INSTALLS += target</pre></div>
<p>The project file specifies the application name and the <code translate="no">qmake</code> template to use for generating the project, as well as the source, header, and UI files included in the project.</p>
<p>You could also use <code translate="no">qmake</code>'s <code translate="no">-project</code> option to generate the .pro file. Although, in that case, you have to remember to add the line <code translate="no">QT += widgets</code> to the generated file in order to link against the Qt Widgets Module.</p>
<p><b>Learn More</b></p>
<div class="table"><table class="generic">
<thead><tr class="qt-style"><th>About</th><th>Here</th></tr></thead>
<tbody><tr class="odd" valign="top"><td>Using Qt Designer</td><td><a href="./qtdesigner-manual.htm" translate="no">Qt Designer Manual</a></td></tr>
<tr class="even" valign="top"><td>Layouts</td><td><a href="./layout.htm" translate="no">Layout Management</a>, <a href="./graphicsview.htm#widgets-and-layouts" translate="no">Widgets and Layouts</a>, <a href="./layout.htm#layout-examples" translate="no">Layout Examples</a></td></tr>
<tr class="odd" valign="top"><td>The widgets that come with Qt</td><td><a href="./gallery.htm" translate="no">Qt Widget Gallery</a></td></tr>
<tr class="even" valign="top"><td>Main windows and main window classes</td><td><a href="./mainwindow.htm" translate="no">Application Main Window</a>, <a href="./examples-mainwindow.htm" translate="no">Main Window Examples</a></td></tr>
<tr class="odd" valign="top"><td>QObjects and the Qt Object model (This is essential to understand Qt)</td><td><a href="./object.htm" translate="no">Object Model</a></td></tr>
<tr class="even" valign="top"><td>qmake and the Qt build system</td><td><a href="./qmake-manual.htm" translate="no">qmake Manual</a></td></tr>
</tbody></table></div>
<a name="adding-user-interaction"></a>
<h4 id="adding-user-interaction">Adding User Interaction<a class="plink" href="#adding-user-interaction" title="Direct link to this headline"></a></h4>
<p>To add functionality to the editor, we start by adding menu items and buttons on a toolbar.</p>
<p>Click on "Type Here", and add the options New, Open, Save, Save as, Print and Exit. This creates 5 lines in the Action Editor below. To connect the actions to slots, right-click an action and select Go to slot &gt; triggered(), and complete the code for that given slot.</p>
<p>If we also want to add the actions to a toolbar, we can assign an icon to each <a href="./qaction.htm" translate="no">QAction</a>, and then drag the <a href="./qaction.htm" translate="no">QAction</a> to the toolbar. You assign an icon by entering an icon name in the Icon property of the action concerned. When the <a href="./qaction.htm" translate="no">QAction</a> has been dragged to the toolbar, clicking the icon will launch the associated slot.</p>
<p>Complete the method <code translate="no">newDocument()</code>:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type">void</span> Notepad<span class="operator">::</span>newDocument()
{
    currentFile<span class="operator">.</span>clear();
    ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>setText(<span class="type"><a href="./qstring.htm" translate="no">QString</a></span>());
}</pre></div>
<p><code translate="no">current_file</code> is a global variable containing the file presently being edited. It is defined in the private part of notepad.h:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="keyword">private</span>:
    Ui<span class="operator">::</span>Notepad <span class="operator">*</span>ui;
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> currentFile;</pre></div>
<p><code translate="no">clear()</code> clears the text buffer.</p>
<a name="opening-a-file"></a>
<h5 id="opening-a-file">Opening a file<a class="plink" href="#opening-a-file" title="Direct link to this headline"></a></h5>
<p>In <code translate="no">notepad.ui</code>, right click on <code translate="no">actionOpen</code> and select <code translate="no">Go to slot</code></p>
<p>Complete method <code translate="no">open()</code>.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type">void</span> Notepad<span class="operator">::</span>open()
{
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> fileName <span class="operator">=</span> <span class="type"><a href="./qfiledialog.htm" translate="no">QFileDialog</a></span><span class="operator">::</span>getOpenFileName(<span class="keyword">this</span><span class="operator">,</span> <span class="string">"Open the file"</span>);
    <span class="type"><a href="./qfile.htm" translate="no">QFile</a></span> file(fileName);
    currentFile <span class="operator">=</span> fileName;
    <span class="keyword">if</span> (<span class="operator">!</span>file<span class="operator">.</span>open(<span class="type"><a href="./qiodevice.htm" translate="no">QIODevice</a></span><span class="operator">::</span>ReadOnly <span class="operator">|</span> <span class="type"><a href="./qfile.htm" translate="no">QFile</a></span><span class="operator">::</span>Text)) {
        <span class="type"><a href="./qmessagebox.htm" translate="no">QMessageBox</a></span><span class="operator">::</span>warning(<span class="keyword">this</span><span class="operator">,</span> <span class="string">"Warning"</span><span class="operator">,</span> <span class="string">"Cannot open file: "</span> <span class="operator">+</span> file<span class="operator">.</span>errorString());
        <span class="keyword">return</span>;
    }
    setWindowTitle(fileName);
    <span class="type"><a href="./qtextstream.htm" translate="no">QTextStream</a></span> in(<span class="operator">&amp;</span>file);
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> text <span class="operator">=</span> in<span class="operator">.</span>readAll();
    ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>setText(text);
    file<span class="operator">.</span>close();
}</pre></div>
<p><code translate="no">QFileDialog::getOpenFileName</code> opens a dialog enabling you to select a file. <a href="./qfile.htm" translate="no">QFile</a> object <code translate="no">myfile</code> has the selected <code translate="no">file_name</code> as parameter. We store the selected file also into the global variable <code translate="no">current_file</code> for later purposes. We open the file with <code translate="no">file.open</code> as a readonly text file. If it cannot be opened, a warning is issued, and the program stops.</p>
<p>We define a <a href="./qtextstream.htm" translate="no">QTextStream</a> <code translate="no">instream</code> for parameter <code translate="no">myfile</code>. The contents of file <code translate="no">myfile</code> is copied into <a href="./qstring.htm" translate="no">QString</a> <i translate="no">text</i>. <code translate="no">setText(text)</code> fille the buffer of our editor with <code translate="no">text</code>.</p>
<p><code translate="no">section2</code> Saving a file</p>
<p>We create the method for saving a file in the same way as for <a href="./qtwidgets-tutorials-notepad-example.htm#opening-a-file" translate="no">Opening a file</a>, by right clicking on <code translate="no">actionSave</code>, and selecting <code translate="no">Go to Slot</code>.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type">void</span> Notepad<span class="operator">::</span>save()
{
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> fileName;
    <span class="comment">// If we don't have a filename from before, get one.</span>
    <span class="keyword">if</span> (currentFile<span class="operator">.</span>isEmpty()) {
        fileName <span class="operator">=</span> <span class="type"><a href="./qfiledialog.htm" translate="no">QFileDialog</a></span><span class="operator">::</span>getSaveFileName(<span class="keyword">this</span><span class="operator">,</span> <span class="string">"Save"</span>);
        currentFile <span class="operator">=</span> fileName;
    } <span class="keyword">else</span> {
        fileName <span class="operator">=</span> currentFile;
    }
    <span class="type"><a href="./qfile.htm" translate="no">QFile</a></span> file(fileName);
    <span class="keyword">if</span> (<span class="operator">!</span>file<span class="operator">.</span>open(<span class="type"><a href="./qiodevice.htm" translate="no">QIODevice</a></span><span class="operator">::</span>WriteOnly <span class="operator">|</span> <span class="type"><a href="./qfile.htm" translate="no">QFile</a></span><span class="operator">::</span>Text)) {
        <span class="type"><a href="./qmessagebox.htm" translate="no">QMessageBox</a></span><span class="operator">::</span>warning(<span class="keyword">this</span><span class="operator">,</span> <span class="string">"Warning"</span><span class="operator">,</span> <span class="string">"Cannot save file: "</span> <span class="operator">+</span> file<span class="operator">.</span>errorString());
        <span class="keyword">return</span>;
    }
    setWindowTitle(fileName);
    <span class="type"><a href="./qtextstream.htm" translate="no">QTextStream</a></span> out(<span class="operator">&amp;</span>file);
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> text <span class="operator">=</span> ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>toPlainText();
    out <span class="operator">&lt;</span><span class="operator">&lt;</span> text;
    file<span class="operator">.</span>close();
}</pre></div>
<p><a href="./qfile.htm" translate="no">QFile</a> object <code translate="no">myfile</code> is linked to global variable <code translate="no">current_file</code>, the variable that contains the file we were working with. If we cannot open <code translate="no">myfile</code>, an error message is issued and the method stops. We create a <a href="./qtextstream.htm" translate="no">QTextStream</a> <code translate="no">outstream</code>. The contents of the editor buffer is converted to plain text, and then written to <code translate="no">outstream</code>.</p>
<a name="saving-a-file-with-save-as"></a>
<h5 id="saving-a-file-with-save-as">Saving a file with <code translate="no">Save as</code><a class="plink" href="#saving-a-file-with-save-as" title="Direct link to this headline"></a></h5>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type">void</span> Notepad<span class="operator">::</span>saveAs()
{
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> fileName <span class="operator">=</span> <span class="type"><a href="./qfiledialog.htm" translate="no">QFileDialog</a></span><span class="operator">::</span>getSaveFileName(<span class="keyword">this</span><span class="operator">,</span> <span class="string">"Save as"</span>);
    <span class="type"><a href="./qfile.htm" translate="no">QFile</a></span> file(fileName);

    <span class="keyword">if</span> (<span class="operator">!</span>file<span class="operator">.</span>open(<span class="type"><a href="./qfile.htm" translate="no">QFile</a></span><span class="operator">::</span>WriteOnly <span class="operator">|</span> <span class="type"><a href="./qfile.htm" translate="no">QFile</a></span><span class="operator">::</span>Text)) {
        <span class="type"><a href="./qmessagebox.htm" translate="no">QMessageBox</a></span><span class="operator">::</span>warning(<span class="keyword">this</span><span class="operator">,</span> <span class="string">"Warning"</span><span class="operator">,</span> <span class="string">"Cannot save file: "</span> <span class="operator">+</span> file<span class="operator">.</span>errorString());
        <span class="keyword">return</span>;
    }
    currentFile <span class="operator">=</span> fileName;
    setWindowTitle(fileName);
    <span class="type"><a href="./qtextstream.htm" translate="no">QTextStream</a></span> out(<span class="operator">&amp;</span>file);
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> text <span class="operator">=</span> ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>toPlainText();
    out <span class="operator">&lt;</span><span class="operator">&lt;</span> text;
    file<span class="operator">.</span>close();
}</pre></div>
<p>This is the same procedure as for <code translate="no">Saving a file</code>, the only difference being that here you need to enter a new file name for the file to be created.</p>
<a name="print-a-file"></a>
<h5 id="print-a-file">Print a File<a class="plink" href="#print-a-file" title="Direct link to this headline"></a></h5>
<p>If you want to use print functionalities, you need to add <code translate="no">printsupport</code> to the project file:</p>
<div class="pre"><pre class="cpp plain" translate="no">QT       += printsupport</pre></div>
<p>We declare a QPrinter object called <code translate="no">printer</code>. We launch a printer dialog box and store the selected printer in object <code translate="no">printer</code>. If we clicked on <code translate="no">Cancel</code> and did not select a printer, the methods returns. The actual printer command is given with <i translate="no">ui-&gt;textEdit-&gt;print</i> with our QPrinter object as parameter.</p>
<a name="select-a-font"></a>
<h5 id="select-a-font">Select a Font<a class="plink" href="#select-a-font" title="Direct link to this headline"></a></h5>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="type">void</span> Notepad<span class="operator">::</span>selectFont()
{
    bool fontSelected;
    <span class="type"><a href="./qfont.htm" translate="no">QFont</a></span> font <span class="operator">=</span> <span class="type"><a href="./qfontdialog.htm" translate="no">QFontDialog</a></span><span class="operator">::</span>getFont(<span class="operator">&amp;</span>fontSelected<span class="operator">,</span> <span class="keyword">this</span>);
    <span class="keyword">if</span> (fontSelected)
        ui<span class="operator">-</span><span class="operator">&gt;</span>textEdit<span class="operator">-</span><span class="operator">&gt;</span>setFont(font);
}</pre></div>
<p>We declare a boolean indicating if we did select a font with <a href="./qfontdialog.htm" translate="no">QFontDialog</a>. If so, we set the font with <code translate="no">ui-&gt;textEdit-&gt;setFont(myfont)</code>.</p>
<a name="copy-cut-paste-undo-and-redo"></a>
<h5 id="copy-cut-paste-undo-and-redo">Copy, Cut, Paste, Undo, and Redo<a class="plink" href="#copy-cut-paste-undo-and-redo" title="Direct link to this headline"></a></h5>
<p>If you select some text, and want to copy it to the clipboard, you call the appropriate method of ui-&gt;textEdit. The same counts for cut, paste, undo, and redo.</p>
<p>This table shows the method name to use.</p>
<div class="table"><table class="generic">
<thead><tr class="qt-style"><th>Task</th><th>Method called</th></tr></thead>
<tbody><tr class="odd" valign="top"><td>Copy</td><td>ui-&gt;textEdit-&gt;copy()</td></tr>
<tr class="even" valign="top"><td>Cut</td><td>ui-&gt;textEdit-&gt;cut()</td></tr>
<tr class="odd" valign="top"><td>Paste</td><td>ui-&gt;textEdit-&gt;paste()</td></tr>
<tr class="even" valign="top"><td>Undo</td><td>ui-&gt;textEdit-&gt;undo()</td></tr>
<tr class="odd" valign="top"><td>Redo</td><td>ui-&gt;textEdit-&gt;redo()</td></tr>
</tbody></table></div>
<p><b>Learn More</b></p>
<div class="table"><table class="generic">
<thead><tr class="qt-style"><th>About</th><th>Here</th></tr></thead>
<tbody><tr class="odd" valign="top"><td>MDI applications</td><td><a href="./qmdiarea.htm" translate="no">QMdiArea</a>, <a href="./qtwidgets-mainwindows-mdi-example.htm" translate="no">MDI Example</a></td></tr>
<tr class="even" valign="top"><td>Files and I/O devices</td><td><a href="./qfile.htm" translate="no">QFile</a>, <a href="./qiodevice.htm" translate="no">QIODevice</a></td></tr>
<tr class="odd" valign="top"><td>tr() and internationalization</td><td><a href="./qtlinguist-index.htm" translate="no">Qt Linguist Manual</a>, <a href="./i18n-source-translation.htm" translate="no">Writing Source Code for Translation</a>, <a href="./internationalization.htm" translate="no">Internationalization with Qt</a></td></tr>
</tbody></table></div>
<a name="building-and-running-notepad"></a>
<h4 id="building-and-running-notepad">Building and Running Notepad<a class="plink" href="#building-and-running-notepad" title="Direct link to this headline"></a></h4>
<p>Now that you have all the necessary files, select <b>Build</b> &gt; <b>Build Project Notepad</b> to build and run the application. Qt Creator uses <code translate="no">qmake</code> and <code translate="no">make</code> to create an executable in the directory specified in the build settings of the project and runs it.</p>
<a name="building-and-running-from-the-command-line"></a>
<h5 id="building-and-running-from-the-command-line">Building and Running from the Command Line<a class="plink" href="#building-and-running-from-the-command-line" title="Direct link to this headline"></a></h5>
<p>To build the application from the command line, switch to the directory in which you have the <code translate="no">.cpp</code> file of the application and add the project file (suffixed .pro) described earlier. The following shell commands then build the application:</p>
<div class="pre"><pre class="cpp plain" translate="no">qmake
make (or nmake on Windows)</pre></div>
<p>The commands create an executable in the project directory. The <code translate="no">qmake</code> tool reads the project file and produces a <code translate="no">Makefile</code> with instructions on how to build the application. The <code translate="no">make</code> tool (or the <code translate="no">nmake</code> tool) then reads the <code translate="no">Makefile</code> and produces the executable binary.</p>
<p><a href="https://code.qt.io/cgit/qt/qtbase.git/tree/examples/widgets/tutorials/notepad?h=5.15" translate="no">Example project @ code.qt.io</a></p>
</div>
<!-- @@@tutorials/notepad -->
</div>
<p class="copy-notice">
<acronym title="Copyright"></acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>