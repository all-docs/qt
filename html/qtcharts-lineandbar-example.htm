<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Line and BarChart Example | Qt Charts</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/qtcharts-lineandbar-example.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtcharts-index.htm" translate="no">Qt Charts</a></li>
                            <li><a href="./qtcharts-examples.htm" translate="no">Qt Charts Examples</a></li>
                            <li class="last"><a>Line and BarChart Example</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Line and BarChart Example</h1>
<span class="subtitle"></span>
<!-- $$$lineandbar-brief -->
<p>The example shows how to combine different charts and set the axes.</p>
<!-- @@@lineandbar -->
<!-- $$$lineandbar-description -->
<div class="descr"> <a name="details"></a>
<p>In the example we combine a linechart with a barchart and use the category axis as a common axis for both.</p>
<p class="centerAlign"><img alt="" src="./images/examples_lineandbar.png"></p><a name="running-the-example"></a>
<h4 id="running-the-example">Running the Example<a class="plink" href="#running-the-example" title="Direct link to this headline"></a></h4>
<p>To run the example from <a href="http://doc.qt.io/qtcreator/index.html" translate="no">Qt Creator</a>, open the <b>Welcome</b> mode and select the example from <b>Examples</b>. For more information, visit <a href="https://doc.qt.io/qtcreator/creator-build-example-application.html" translate="no">Building and Running an Example</a>.</p>
<a name="combining-charts"></a>
<h4 id="combining-charts">Combining Charts<a class="plink" href="#combining-charts" title="Direct link to this headline"></a></h4>
<p>Here we create data for our bar series.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qbarset.htm" translate="no">QBarSet</a></span> <span class="operator">*</span>set0 <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="./qbarset.htm" translate="no">QBarSet</a></span>(<span class="string">"Jane"</span>);
    <span class="type"><a href="./qbarset.htm" translate="no">QBarSet</a></span> <span class="operator">*</span>set1 <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="./qbarset.htm" translate="no">QBarSet</a></span>(<span class="string">"John"</span>);
    <span class="type"><a href="./qbarset.htm" translate="no">QBarSet</a></span> <span class="operator">*</span>set2 <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="./qbarset.htm" translate="no">QBarSet</a></span>(<span class="string">"Axel"</span>);
    <span class="type"><a href="./qbarset.htm" translate="no">QBarSet</a></span> <span class="operator">*</span>set3 <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="./qbarset.htm" translate="no">QBarSet</a></span>(<span class="string">"Mary"</span>);
    <span class="type"><a href="./qbarset.htm" translate="no">QBarSet</a></span> <span class="operator">*</span>set4 <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="./qbarset.htm" translate="no">QBarSet</a></span>(<span class="string">"Sam"</span>);

    <span class="operator">*</span>set0 <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">1</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">2</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">3</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">4</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">5</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">6</span>;
    <span class="operator">*</span>set1 <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">5</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">0</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">0</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">4</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">0</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">7</span>;
    <span class="operator">*</span>set2 <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">3</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">5</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">8</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">13</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">8</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">5</span>;
    <span class="operator">*</span>set3 <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">5</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">6</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">7</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">3</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">4</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">5</span>;
    <span class="operator">*</span>set4 <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">9</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">7</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">5</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">3</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">1</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="number">2</span>;</pre></div>
<p>We create a bar series and append sets to it. The first values of each set are grouped together in the first category, the second values in the second category and so on.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qbarseries.htm" translate="no">QBarSeries</a></span> <span class="operator">*</span>barseries <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="./qbarseries.htm" translate="no">QBarSeries</a></span>();
    barseries<span class="operator">-</span><span class="operator">&gt;</span>append(set0);
    barseries<span class="operator">-</span><span class="operator">&gt;</span>append(set1);
    barseries<span class="operator">-</span><span class="operator">&gt;</span>append(set2);
    barseries<span class="operator">-</span><span class="operator">&gt;</span>append(set3);
    barseries<span class="operator">-</span><span class="operator">&gt;</span>append(set4);</pre></div>
<p>Then we create a line series and add data to it. To make the data match with the barchart, we use the index as an x-value for our line series, so that first point is at (0,value) second at (1,value) and so on.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qlineseries.htm" translate="no">QLineSeries</a></span> <span class="operator">*</span>lineseries <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="./qlineseries.htm" translate="no">QLineSeries</a></span>();
    lineseries<span class="operator">-</span><span class="operator">&gt;</span>setName(<span class="string">"trend"</span>);
    lineseries<span class="operator">-</span><span class="operator">&gt;</span>append(<span class="type"><a href="./qpoint.htm" translate="no">QPoint</a></span>(<span class="number">0</span><span class="operator">,</span> <span class="number">4</span>));
    lineseries<span class="operator">-</span><span class="operator">&gt;</span>append(<span class="type"><a href="./qpoint.htm" translate="no">QPoint</a></span>(<span class="number">1</span><span class="operator">,</span> <span class="number">15</span>));
    lineseries<span class="operator">-</span><span class="operator">&gt;</span>append(<span class="type"><a href="./qpoint.htm" translate="no">QPoint</a></span>(<span class="number">2</span><span class="operator">,</span> <span class="number">20</span>));
    lineseries<span class="operator">-</span><span class="operator">&gt;</span>append(<span class="type"><a href="./qpoint.htm" translate="no">QPoint</a></span>(<span class="number">3</span><span class="operator">,</span> <span class="number">4</span>));
    lineseries<span class="operator">-</span><span class="operator">&gt;</span>append(<span class="type"><a href="./qpoint.htm" translate="no">QPoint</a></span>(<span class="number">4</span><span class="operator">,</span> <span class="number">12</span>));
    lineseries<span class="operator">-</span><span class="operator">&gt;</span>append(<span class="type"><a href="./qpoint.htm" translate="no">QPoint</a></span>(<span class="number">5</span><span class="operator">,</span> <span class="number">17</span>));</pre></div>
<p>Here we create the chart and add both series to it.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qchart.htm" translate="no">QChart</a></span> <span class="operator">*</span>chart <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="./qchart.htm" translate="no">QChart</a></span>();
    chart<span class="operator">-</span><span class="operator">&gt;</span>addSeries(barseries);
    chart<span class="operator">-</span><span class="operator">&gt;</span>addSeries(lineseries);
    chart<span class="operator">-</span><span class="operator">&gt;</span>setTitle(<span class="string">"Line and barchart example"</span>);</pre></div>
<p>To make the chart show the series properly, we have to create custom axes for the series. If we don't create custom axes, then each series will get scaled to use the maximum area of the chart (like in single series case) and the result will be incorrect. With custom axes we set the range of both series to follow the same axis. For the x-axis we use the <a href="./qbarcategoryaxis.htm" translate="no">QBarCategoryAxis</a> and for the y-axis we use QValuesAxis.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qstringlist.htm" translate="no">QStringList</a></span> categories;
    categories <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="string">"Jan"</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="string">"Feb"</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="string">"Mar"</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="string">"Apr"</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="string">"May"</span> <span class="operator">&lt;</span><span class="operator">&lt;</span> <span class="string">"Jun"</span>;
    <span class="type"><a href="./qbarcategoryaxis.htm" translate="no">QBarCategoryAxis</a></span> <span class="operator">*</span>axisX <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="./qbarcategoryaxis.htm" translate="no">QBarCategoryAxis</a></span>();
    axisX<span class="operator">-</span><span class="operator">&gt;</span>append(categories);
    chart<span class="operator">-</span><span class="operator">&gt;</span>addAxis(axisX<span class="operator">,</span> <span class="type"><a href="./qt.htm" translate="no">Qt</a></span><span class="operator">::</span>AlignBottom);
    lineseries<span class="operator">-</span><span class="operator">&gt;</span>attachAxis(axisX);
    barseries<span class="operator">-</span><span class="operator">&gt;</span>attachAxis(axisX);
    axisX<span class="operator">-</span><span class="operator">&gt;</span>setRange(<span class="type"><a href="./qstring.htm" translate="no">QString</a></span>(<span class="string">"Jan"</span>)<span class="operator">,</span> <span class="type"><a href="./qstring.htm" translate="no">QString</a></span>(<span class="string">"Jun"</span>));

    <span class="type"><a href="./qvalueaxis.htm" translate="no">QValueAxis</a></span> <span class="operator">*</span>axisY <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="./qvalueaxis.htm" translate="no">QValueAxis</a></span>();
    chart<span class="operator">-</span><span class="operator">&gt;</span>addAxis(axisY<span class="operator">,</span> <span class="type"><a href="./qt.htm" translate="no">Qt</a></span><span class="operator">::</span>AlignLeft);
    lineseries<span class="operator">-</span><span class="operator">&gt;</span>attachAxis(axisY);
    barseries<span class="operator">-</span><span class="operator">&gt;</span>attachAxis(axisY);
    axisY<span class="operator">-</span><span class="operator">&gt;</span>setRange(<span class="number">0</span><span class="operator">,</span> <span class="number">20</span>);</pre></div>
<p>And we also want to show the legend.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    chart<span class="operator">-</span><span class="operator">&gt;</span>legend()<span class="operator">-</span><span class="operator">&gt;</span>setVisible(<span class="keyword">true</span>);
    chart<span class="operator">-</span><span class="operator">&gt;</span>legend()<span class="operator">-</span><span class="operator">&gt;</span>setAlignment(<span class="type"><a href="./qt.htm" translate="no">Qt</a></span><span class="operator">::</span>AlignBottom);</pre></div>
<p>Finally we add the chart onto a view.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qchartview.htm" translate="no">QChartView</a></span> <span class="operator">*</span>chartView <span class="operator">=</span> <span class="keyword">new</span> <span class="type"><a href="./qchartview.htm" translate="no">QChartView</a></span>(chart);
    chartView<span class="operator">-</span><span class="operator">&gt;</span>setRenderHint(<span class="type"><a href="./qpainter.htm" translate="no">QPainter</a></span><span class="operator">::</span>Antialiasing);</pre></div>
<p>Now it is ready to be shown in a window.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qmainwindow.htm" translate="no">QMainWindow</a></span> window;
    window<span class="operator">.</span>setCentralWidget(chartView);
    window<span class="operator">.</span>resize(<span class="number">440</span><span class="operator">,</span> <span class="number">300</span>);
    window<span class="operator">.</span>show();</pre></div>
<p><a href="https://code.qt.io/cgit/qt/qtcharts.git/tree/examples/charts/lineandbar?h=5.15" translate="no">Example project @ code.qt.io</a></p>
</div>
<!-- @@@lineandbar -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>