<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>QDesignerCustomWidgetInterface | Qt Designer Manual</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/qdesignercustomwidgetinterface.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtdesigner-manual.htm" translate="no">Qt Designer Manual</a></li>
                            <li><a href="./qtdesigner-module.htm" translate="no">C++ Classes</a></li>
                            <li><a>QDesignerCustomWidgetInterface</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title" translate="no">QDesignerCustomWidgetInterface Class</h1>
<!-- $$$QDesignerCustomWidgetInterface-brief -->
<p>The QDesignerCustomWidgetInterface class enables Qt Designer to access and construct custom widgets. <a href="#details">More...</a></p>
<!-- @@@QDesignerCustomWidgetInterface -->
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QDesignerCustomWidgetInterface&gt;</span>
</td></tr><tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += designer</td></tr></tbody></table></div><ul>
<li><a href="./qdesignercustomwidgetinterface-members.htm">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a>
<h2 id="public-functions">Public Functions<a class="plink" href="#public-functions" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> virtual </td><td class="memItemRight bottomAlign"><b><a href="./qdesignercustomwidgetinterface.htm#dtor.QDesignerCustomWidgetInterface" translate="no">~QDesignerCustomWidgetInterface</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QString </td><td class="memItemRight bottomAlign"><b><a href="./qdesignercustomwidgetinterface.htm#codeTemplate" translate="no">codeTemplate</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QWidget *</td><td class="memItemRight bottomAlign"><b><a href="./qdesignercustomwidgetinterface.htm#createWidget" translate="no">createWidget</a></b>(QWidget *<i>parent</i>) = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QString </td><td class="memItemRight bottomAlign"><b><a href="./qdesignercustomwidgetinterface.htm#domXml" translate="no">domXml</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QString </td><td class="memItemRight bottomAlign"><b><a href="./qdesignercustomwidgetinterface.htm#group" translate="no">group</a></b>() const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QIcon </td><td class="memItemRight bottomAlign"><b><a href="./qdesignercustomwidgetinterface.htm#icon" translate="no">icon</a></b>() const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QString </td><td class="memItemRight bottomAlign"><b><a href="./qdesignercustomwidgetinterface.htm#includeFile" translate="no">includeFile</a></b>() const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="./qdesignercustomwidgetinterface.htm#initialize" translate="no">initialize</a></b>(QDesignerFormEditorInterface *<i>formEditor</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="./qdesignercustomwidgetinterface.htm#isContainer" translate="no">isContainer</a></b>() const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="./qdesignercustomwidgetinterface.htm#isInitialized" translate="no">isInitialized</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QString </td><td class="memItemRight bottomAlign"><b><a href="./qdesignercustomwidgetinterface.htm#name" translate="no">name</a></b>() const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QString </td><td class="memItemRight bottomAlign"><b><a href="./qdesignercustomwidgetinterface.htm#toolTip" translate="no">toolTip</a></b>() const = 0</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QString </td><td class="memItemRight bottomAlign"><b><a href="./qdesignercustomwidgetinterface.htm#whatsThis" translate="no">whatsThis</a></b>() const = 0</td></tr>
</tbody></table></div>
<a name="macros"></a>
<h2 id="macros">Macros<a class="plink" href="#macros" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="./qdesignercustomwidgetinterface.htm#QDESIGNER_WIDGET_EXPORT" translate="no">QDESIGNER_WIDGET_EXPORT</a></b></td></tr>
</tbody></table></div>
<a name="details"></a>
<!-- $$$QDesignerCustomWidgetInterface-description -->
<div class="descr">
<h2 id="details">Detailed Description<a class="plink" href="#details" title="Direct link to this headline"></a></h2>
<p>QDesignerCustomWidgetInterface provides a custom widget with an interface. The class contains a set of functions that must be subclassed to return basic information about the widget, such as its class name and the name of its header file. Other functions must be implemented to initialize the plugin when it is loaded, and to construct instances of the custom widget for <i>Qt Designer</i> to use.</p>
<p>When implementing a custom widget you must subclass QDesignerCustomWidgetInterface to expose your widget to <i>Qt Designer</i>. For example, this is the declaration for the plugin used in the <a href="./qtdesigner-customwidgetplugin-example.htm" translate="no">Custom Widget Plugin example</a> that enables an analog clock custom widget to be used by <i>Qt Designer</i>:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="keyword">class</span> AnalogClockPlugin : <span class="keyword">public</span> <span class="type"><a href="./qobject.htm" translate="no">QObject</a></span><span class="operator">,</span> <span class="keyword">public</span> <span class="type"><a href="./qdesignercustomwidgetinterface.htm" translate="no">QDesignerCustomWidgetInterface</a></span>
{
    Q_OBJECT
    Q_PLUGIN_METADATA(IID <span class="string">"org.qt-project.Qt.QDesignerCustomWidgetInterface"</span>)
    Q_INTERFACES(<span class="type"><a href="./qdesignercustomwidgetinterface.htm" translate="no">QDesignerCustomWidgetInterface</a></span>)
<span class="keyword">public</span>:
    <span class="keyword">explicit</span> AnalogClockPlugin(<span class="type"><a href="./qobject.htm" translate="no">QObject</a></span> <span class="operator">*</span>parent <span class="operator">=</span> nullptr);

    bool isContainer() <span class="keyword">const</span> override;
    bool isInitialized() <span class="keyword">const</span> override;
    <span class="type">QIcon</span> icon() <span class="keyword">const</span> override;
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> domXml() <span class="keyword">const</span> override;
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> group() <span class="keyword">const</span> override;
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> includeFile() <span class="keyword">const</span> override;
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> name() <span class="keyword">const</span> override;
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> toolTip() <span class="keyword">const</span> override;
    <span class="type"><a href="./qstring.htm" translate="no">QString</a></span> whatsThis() <span class="keyword">const</span> override;
    <span class="type"><a href="./qwidget.htm" translate="no">QWidget</a></span> <span class="operator">*</span>createWidget(<span class="type"><a href="./qwidget.htm" translate="no">QWidget</a></span> <span class="operator">*</span>parent) override;
    <span class="type">void</span> initialize(<span class="type"><a href="./qdesignerformeditorinterface.htm" translate="no">QDesignerFormEditorInterface</a></span> <span class="operator">*</span>core) override;

<span class="keyword">private</span>:
    bool initialized <span class="operator">=</span> <span class="keyword">false</span>;
};</pre></div>
<p>Note that the only part of the class definition that is specific to this particular custom widget is the class name. In addition, since we are implementing an interface, we must ensure that it's made known to the meta object system using the <a href="./qobject.htm#Q_INTERFACES" translate="no">Q_INTERFACES</a>() macro. This enables <i>Qt Designer</i> to use the <a href="./qobject.htm#qobject_cast" translate="no">qobject_cast</a>() function to query for supported interfaces using nothing but a <a href="./qobject.htm" translate="no">QObject</a> pointer.</p>
<p>After <i>Qt Designer</i> loads a custom widget plugin, it calls the interface's <a href="./qdesignercustomwidgetinterface.htm#initialize" translate="no">initialize</a>() function to enable it to set up any resources that it may need. This function is called with a <a href="./qdesignerformeditorinterface.htm" translate="no">QDesignerFormEditorInterface</a> parameter that provides the plugin with a gateway to all of <i>Qt Designer</i>'s API.</p>
<p><i>Qt Designer</i> constructs instances of the custom widget by calling the plugin's <a href="./qdesignercustomwidgetinterface.htm#createWidget" translate="no">createWidget</a>() function with a suitable parent widget. Plugins must construct and return an instance of a custom widget with the specified parent widget.</p>
<p>Exporting your custom widget plugin to <i>Qt Designer</i> using the <a href="./qtplugin.htm#Q_PLUGIN_METADATA" translate="no">Q_PLUGIN_METADATA</a>() macro. For example, if a library called <code translate="no">libcustomwidgetplugin.so</code> (on Unix) or <code translate="no">libcustomwidget.dll</code> (on Windows) contains a widget class called <code translate="no">MyCustomWidget</code>, we can export it by adding the following line to the file containing the plugin header:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">Q_PLUGIN_METADATA(IID <span class="string">"org.qt-project.Qt.QDesignerCustomWidgetInterface"</span>)</pre></div>
<p>This macro ensures that <i>Qt Designer</i> can access and construct the custom widget. Without this macro, there is no way for <i>Qt Designer</i> to use it.</p>
<p>When implementing a custom widget plugin, you build it as a separate library. If you want to include several custom widget plugins in the same library, you must in addition subclass <a href="./qdesignercustomwidgetcollectioninterface.htm" translate="no">QDesignerCustomWidgetCollectionInterface</a>.</p>
<div class="admonition warning">
<p><b>Warning: </b>If your custom widget plugin contains <a href="./qvariant.htm" translate="no">QVariant</a> properties, be aware that only the following <a href="./qvariant-obsolete.htm#Type-enum" translate="no">types</a> are supported:</p>
</div>
<ul>
<li>QVariant::ByteArray</li>
<li>QVariant::Bool</li>
<li>QVariant::Color</li>
<li>QVariant::Cursor</li>
<li>QVariant::Date</li>
<li>QVariant::DateTime</li>
<li>QVariant::Double</li>
<li>QVariant::Int</li>
<li>QVariant::Point</li>
<li>QVariant::Rect</li>
<li>QVariant::Size</li>
<li>QVariant::SizePolicy</li>
<li>QVariant::String</li>
<li>QVariant::Time</li>
<li>QVariant::UInt</li>
</ul>
<p>For a complete example using the QDesignerCustomWidgetInterface class, see the <a href="./qtdesigner-customwidgetplugin-example.htm" translate="no">Custom Widget Example</a>. The example shows how to create a custom widget plugin for <i>Qt Designer</i>.</p>
</div>
<p><b>See also </b><a href="./qdesignercustomwidgetcollectioninterface.htm" translate="no">QDesignerCustomWidgetCollectionInterface</a> and <a href="./designer-creating-custom-widgets.htm" translate="no">Creating Custom Widgets for Qt Designer</a>.</p>
<!-- @@@QDesignerCustomWidgetInterface -->
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$~QDesignerCustomWidgetInterface[overload1]$$$~QDesignerCustomWidgetInterface -->
<h3 class="fn" id="dtor.QDesignerCustomWidgetInterface" translate="no"><a name="dtor.QDesignerCustomWidgetInterface"></a><code translate="no">[virtual] </code>QDesignerCustomWidgetInterface::<span class="name">~QDesignerCustomWidgetInterface</span>()<a class="plink" href="#dtor.QDesignerCustomWidgetInterface" title="Direct link to this headline"></a></h3>
<p>Destroys the custom widget interface.</p>
<!-- @@@~QDesignerCustomWidgetInterface -->
<!-- $$$codeTemplate[overload1]$$$codeTemplate -->
<h3 class="fn" id="codeTemplate" translate="no"><a name="codeTemplate"></a><code translate="no">[virtual] </code><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QDesignerCustomWidgetInterface::<span class="name">codeTemplate</span>() const<a class="plink" href="#codeTemplate" title="Direct link to this headline"></a></h3>
<p>This function is reserved for future use by <i>Qt Designer</i>.</p>
<!-- @@@codeTemplate -->
<!-- $$$createWidget[overload1]$$$createWidgetQWidget* -->
<h3 class="fn" id="createWidget" translate="no"><a name="createWidget"></a><code translate="no">[pure virtual] </code><span class="type"><a href="./qwidget.htm" translate="no">QWidget</a></span> *QDesignerCustomWidgetInterface::<span class="name">createWidget</span>(<span class="type"><a href="./qwidget.htm" translate="no">QWidget</a></span> *<i>parent</i>)<a class="plink" href="#createWidget" title="Direct link to this headline"></a></h3>
<p>Returns a new instance of the custom widget, with the given <i translate="no">parent</i>.</p>
<!-- @@@createWidget -->
<!-- $$$domXml[overload1]$$$domXml -->
<h3 class="fn" id="domXml" translate="no"><a name="domXml"></a><code translate="no">[virtual] </code><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QDesignerCustomWidgetInterface::<span class="name">domXml</span>() const<a class="plink" href="#domXml" title="Direct link to this headline"></a></h3>
<p>Returns the XML that is used to describe the custom widget's properties to <i>Qt Designer</i>.</p>
<!-- @@@domXml -->
<!-- $$$group[overload1]$$$group -->
<h3 class="fn" id="group" translate="no"><a name="group"></a><code translate="no">[pure virtual] </code><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QDesignerCustomWidgetInterface::<span class="name">group</span>() const<a class="plink" href="#group" title="Direct link to this headline"></a></h3>
<p>Returns the name of the group to which the custom widget belongs.</p>
<!-- @@@group -->
<!-- $$$icon[overload1]$$$icon -->
<h3 class="fn" id="icon" translate="no"><a name="icon"></a><code translate="no">[pure virtual] </code><span class="type">QIcon</span> QDesignerCustomWidgetInterface::<span class="name">icon</span>() const<a class="plink" href="#icon" title="Direct link to this headline"></a></h3>
<p>Returns the icon used to represent the custom widget in <i>Qt Designer</i>'s widget box.</p>
<!-- @@@icon -->
<!-- $$$includeFile[overload1]$$$includeFile -->
<h3 class="fn" id="includeFile" translate="no"><a name="includeFile"></a><code translate="no">[pure virtual] </code><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QDesignerCustomWidgetInterface::<span class="name">includeFile</span>() const<a class="plink" href="#includeFile" title="Direct link to this headline"></a></h3>
<p>Returns the path to the include file that <a href="./uic.htm" translate="no">uic</a> uses when creating code for the custom widget.</p>
<!-- @@@includeFile -->
<!-- $$$initialize[overload1]$$$initializeQDesignerFormEditorInterface* -->
<h3 class="fn" id="initialize" translate="no"><a name="initialize"></a><code translate="no">[virtual] </code><span class="type">void</span> QDesignerCustomWidgetInterface::<span class="name">initialize</span>(<span class="type"><a href="./qdesignerformeditorinterface.htm" translate="no">QDesignerFormEditorInterface</a></span> *<i>formEditor</i>)<a class="plink" href="#initialize" title="Direct link to this headline"></a></h3>
<p>Initializes the widget for use with the specified <i translate="no">formEditor</i> interface.</p>
<p><b>See also </b><a href="./qdesignercustomwidgetinterface.htm#isInitialized" translate="no">isInitialized</a>().</p>
<!-- @@@initialize -->
<!-- $$$isContainer[overload1]$$$isContainer -->
<h3 class="fn" id="isContainer" translate="no"><a name="isContainer"></a><code translate="no">[pure virtual] </code><span class="type">bool</span> QDesignerCustomWidgetInterface::<span class="name">isContainer</span>() const<a class="plink" href="#isContainer" title="Direct link to this headline"></a></h3>
<p>Returns true if the custom widget is intended to be used as a container; otherwise returns false.</p>
<p>Most custom widgets are not used to hold other widgets, so their implementations of this function will return false, but custom containers will return true to ensure that they behave correctly in <i>Qt Designer</i>.</p>
<!-- @@@isContainer -->
<!-- $$$isInitialized[overload1]$$$isInitialized -->
<h3 class="fn" id="isInitialized" translate="no"><a name="isInitialized"></a><code translate="no">[virtual] </code><span class="type">bool</span> QDesignerCustomWidgetInterface::<span class="name">isInitialized</span>() const<a class="plink" href="#isInitialized" title="Direct link to this headline"></a></h3>
<p>Returns true if the widget has been initialized; otherwise returns false.</p>
<p><b>See also </b><a href="./qdesignercustomwidgetinterface.htm#initialize" translate="no">initialize</a>().</p>
<!-- @@@isInitialized -->
<!-- $$$name[overload1]$$$name -->
<h3 class="fn" id="name" translate="no"><a name="name"></a><code translate="no">[pure virtual] </code><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QDesignerCustomWidgetInterface::<span class="name">name</span>() const<a class="plink" href="#name" title="Direct link to this headline"></a></h3>
<p>Returns the class name of the custom widget supplied by the interface.</p>
<p>The name returned <i>must</i> be identical to the class name used for the custom widget.</p>
<!-- @@@name -->
<!-- $$$toolTip[overload1]$$$toolTip -->
<h3 class="fn" id="toolTip" translate="no"><a name="toolTip"></a><code translate="no">[pure virtual] </code><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QDesignerCustomWidgetInterface::<span class="name">toolTip</span>() const<a class="plink" href="#toolTip" title="Direct link to this headline"></a></h3>
<p>Returns a short description of the widget that can be used by <i>Qt Designer</i> in a tool tip.</p>
<!-- @@@toolTip -->
<!-- $$$whatsThis[overload1]$$$whatsThis -->
<h3 class="fn" id="whatsThis" translate="no"><a name="whatsThis"></a><code translate="no">[pure virtual] </code><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QDesignerCustomWidgetInterface::<span class="name">whatsThis</span>() const<a class="plink" href="#whatsThis" title="Direct link to this headline"></a></h3>
<p>Returns a description of the widget that can be used by <i>Qt Designer</i> in "What's This?" help for the widget.</p>
<!-- @@@whatsThis -->
</div>
<div class="macros">
<h2>Macro Documentation</h2>
<!-- $$$QDESIGNER_WIDGET_EXPORT[overload1]$$$QDESIGNER_WIDGET_EXPORT -->
<h3 class="fn" id="QDESIGNER_WIDGET_EXPORT" translate="no"><a name="QDESIGNER_WIDGET_EXPORT"></a><span class="name">QDESIGNER_WIDGET_EXPORT</span><a class="plink" href="#QDESIGNER_WIDGET_EXPORT" title="Direct link to this headline"></a></h3>
<p>This macro is used when defining custom widgets to ensure that they are correctly exported from plugins for use with <i>Qt Designer</i>.</p>
<p>On some platforms, the symbols required by <i>Qt Designer</i> to create new widgets are removed from plugins by the build system, making them unusable. Using this macro ensures that the symbols are retained on those platforms, and has no side effects on other platforms.</p>
<p>For example, the <a href="./qtdesigner-worldtimeclockplugin-example.htm" translate="no">World Time Clock Plugin</a> example exports a custom widget class with the following declaration:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="keyword">class</span> QDESIGNER_WIDGET_EXPORT WorldTimeClock : <span class="keyword">public</span> <span class="type"><a href="./qwidget.htm" translate="no">QWidget</a></span>
{
    Q_OBJECT
    ...
};</pre></div>
<p>This function was introduced in Qt 4.1.</p>
<p><b>See also </b><a href="./designer-creating-custom-widgets.htm" translate="no">Creating Custom Widgets for Qt Designer</a>.</p>
<!-- @@@QDESIGNER_WIDGET_EXPORT -->
</div>
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>