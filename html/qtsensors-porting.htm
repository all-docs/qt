<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Porting Applications from QtMobility Sensors to Qt Sensors | Qt Sensors</title>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtsensors-index.htm" translate="no">Qt Sensors</a></li>
                            <li><a>Porting Applications from QtMobility Sensors to Qt Sensors</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Porting Applications from QtMobility Sensors to Qt Sensors</h1>
<span class="subtitle"></span>
<!-- $$$qtsensors-porting.html-description -->
<div class="descr"> <a name="details"></a>
<a name="overview"></a>
<h2 id="overview">Overview<a class="plink" href="#overview" title="Direct link to this headline"></a></h2>
<p>The initial release of Qt Sensors (5.0) is generally expected to be source compatible with QtMobility Sensors 1.2. This document attempts to explain where things need to be changed in order to port applications to Qt Sensors.</p>
<a name="qml"></a>
<h2 id="qml">QML<a class="plink" href="#qml" title="Direct link to this headline"></a></h2>
<p>In <code translate="no">QtMobility</code>, the C++ classes like <code translate="no">QAccelerometer</code> were directly used as QML types. In Qt Sensors, there are now separate classes for the QML types, which have no public C++ API.</p>
<p>The new QML types in Qt Sensors fix some issues the former QtMobility QML types had, for example:</p>
<ul>
<li>The reading types now have proper change notifications.</li>
<li><code translate="no">availableDataRates</code> and <code translate="no">outputRanges</code> of the <code translate="no">Sensor</code> type are now proper list types.</li>
<li>The <code translate="no">identifier</code> and <code translate="no">type</code> properties of <code translate="no">Sensor</code> can now be used.</li>
<li>The <code translate="no">lux</code> property of <code translate="no">LightSensorReading</code> has been renamed to <code translate="no">illuminance</code>.</li>
<li>The <code translate="no">QmlSensors</code> singleton now allows to query for sensor types.</li>
</ul>
<p>For more information, see the <a href="./qtsensors-qmlmodule.htm" translate="no">QML API</a> documentation.</p>
<a name="c"></a>
<h2 id="c">C++<a class="plink" href="#c" title="Direct link to this headline"></a></h2>
<p>The C++ API mainly remained the same as in QtMobility.</p>
<a name="includes"></a>
<h3 id="includes">Includes<a class="plink" href="#includes" title="Direct link to this headline"></a></h3>
<p>QtMobility Sensors installed headers into a <code translate="no">Qt</code> Sensors directory. This is also the directory that Qt Sensors uses. It is therefore expected that includes that worked with QtMobility Sensors should continue to work.</p>
<p>For example:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"> <span class="preprocessor">#include &lt;QAccelerometer&gt;</span>
 <span class="preprocessor">#include &lt;qaccelerometer.h&gt;</span>
 <span class="preprocessor">#include &lt;QtSensors/QAccelerometer&gt;</span>
 <span class="preprocessor">#include &lt;QtSensors/qaccelerometer.h&gt;</span>
</pre></div>
<a name="macros-and-namespace"></a>
<h3 id="macros-and-namespace">Macros and Namespace<a class="plink" href="#macros-and-namespace" title="Direct link to this headline"></a></h3>
<p>QtMobility Sensors was built in a <code translate="no">QtMobility</code> namespace. This was enabled by the use of various macros. Qt Sensors does not normally build into a namespace and the macros from QtMobility no longer exist.</p>
<ul>
<li>QTM_BEGIN_NAMESPACE</li>
<li>QTM_END_NAMESPACE</li>
<li>QTM_USE_NAMESPACE</li>
<li>QTM_PREPEND_NAMESPACE(x)</li>
</ul>
<p>Note that Qt can be configured to build into a namespace. If Qt is built in this way then Qt Sensors is also built into the nominated namespace. However, as this is optional, the macros for this are typically defined to do nothing.</p>
<ul>
<li>QT_BEGIN_NAMESPACE</li>
<li>QT_END_NAMESPACE</li>
<li>QT_USE_NAMESPACE</li>
<li>QT_PREPEND_NAMESPACE(x)</li>
</ul>
<a name="qtimestamp"></a>
<h3 id="qtimestamp">qtimestamp<a class="plink" href="#qtimestamp" title="Direct link to this headline"></a></h3>
<p>qtimestamp was previously defined as an opaque type equivalent to a quint64. It existed as a class due to an implementation detail.</p>
<p>In Qt Sensors, the API uses quint64 instead of qtimestamp. qtimestamp still exists as a typedef so that applications that refer to qtimestamp can be compiled.</p>
<a name="project-files"></a>
<h2 id="project-files">Project Files<a class="plink" href="#project-files" title="Direct link to this headline"></a></h2>
<p>QtMobility Sensors applications used this in their project files to enable the Sensors API.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"> CONFIG <span class="operator">+</span><span class="operator">=</span> mobility
 MOBILITY <span class="operator">+</span><span class="operator">=</span> sensors
</pre></div>
<p>Applications should remove these lines and instead use the following statement to enable the Qt Sensors API:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"> QT <span class="operator">+</span><span class="operator">=</span> sensors
</pre></div>
</div>
<!-- @@@qtsensors-porting.html -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>