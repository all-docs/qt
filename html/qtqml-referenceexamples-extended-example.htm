<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Extending QML - Extension Objects Example | Qt QML</title>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtqml-index.htm" translate="no">Qt QML</a></li>
                            <li><a href="./qmlextendingexamples.htm" translate="no">Qt QML Examples</a></li>
                            <li><a>Extending QML - Extension Objects Example</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Extending QML - Extension Objects Example</h1>
<span class="subtitle"></span>
<!-- $$$referenceexamples/extended-brief -->
<p>Extension Objects.</p>
<!-- @@@referenceexamples/extended -->
<!-- $$$referenceexamples/extended-description -->
<div class="descr"> <a name="details"></a>
<p>This example builds on:</p>
<ul>
<li><a href="./qtqml-referenceexamples-adding-example.htm" translate="no">Extending QML - Adding Types Example</a></li>
</ul>
<p>Shows how to use <a href="./qqmlengine.htm#QML_EXTENDED" translate="no">QML_EXTENDED</a> to provide an <a href="./qtqml-cppintegration-definetypes.htm#registering-extension-objects" translate="no">extension object</a> to a <a href="./qlineedit.htm" translate="no">QLineEdit</a> without modifying or subclassing it.</p>
<p>Firstly, the LineEditExtension class is registered with the QML system as an extension of <a href="./qlineedit.htm" translate="no">QLineEdit</a>. We declare a foreign type to do this as we cannot modify Qt's internal <a href="./qlineedit.htm" translate="no">QLineEdit</a> class.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="keyword">struct</span> <span class="type">QLineEditForeign</span>
{
    Q_GADGET
    QML_FOREIGN(<span class="type"><a href="./qlineedit.htm" translate="no">QLineEdit</a></span>)
    QML_NAMED_ELEMENT(<span class="type"><a href="./qlineedit.htm" translate="no">QLineEdit</a></span>)
    QML_EXTENDED(LineEditExtension)
};</pre></div>
<p>Note the usage of <a href="./qqmlengine.htm#QML_NAMED_ELEMENT" translate="no">QML_NAMED_ELEMENT</a>() instead of <a href="./qqmlengine.htm#QML_ELEMENT" translate="no">QML_ELEMENT</a>. <a href="./qqmlengine.htm#QML_ELEMENT" translate="no">QML_ELEMENT</a> uses the name of the containing type by default, "LineEditExtension" in this case. As the class being an extension class is an implementation detail, we choose the more natural name "LineEdit" instead</p>
<p>The QML engine then instantiates a <a href="./qlineedit.htm" translate="no">QLineEdit</a>:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no">    <span class="type"><a href="./qqmlengine.htm" translate="no">QQmlEngine</a></span> engine;
    <span class="type"><a href="./qqmlcomponent.htm" translate="no">QQmlComponent</a></span> component(<span class="operator">&amp;</span>engine<span class="operator">,</span> <span class="type"><a href="./qurl.htm" translate="no">QUrl</a></span>(<span class="string">"qrc:example.qml"</span>));
    <span class="keyword">auto</span> <span class="operator">*</span>edit <span class="operator">=</span> qobject_cast<span class="operator">&lt;</span><span class="type"><a href="./qlineedit.htm" translate="no">QLineEdit</a></span> <span class="operator">*</span><span class="operator">&gt;</span>(component<span class="operator">.</span>create());</pre></div>
<p>In QML, a property is set on the line edit that only exists in the LineEditExtension class:</p>
<div class="pre"><pre class="qml prettyprint" translate="no"><span class="type">QLineEdit</span> {
    <span class="name">leftMargin</span>: <span class="number">20</span>
}</pre></div>
<p>The extension type performs calls on the <a href="./qlineedit.htm" translate="no">QLineEdit</a> that otherwise will not be accessible to the QML engine.</p>
<p><a href="https://code.qt.io/cgit/qt/qtdeclarative.git/tree/examples/qml/referenceexamples/extended?h=5.15" translate="no">Example project @ code.qt.io</a></p>
</div>
<!-- @@@referenceexamples/extended -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>