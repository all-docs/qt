<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Qt Quick 3D - Custom Shaders Example | Qt Quick 3D</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/qtquick3d-customshaders-example.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtquick3d-index.htm" translate="no">Qt Quick 3D</a></li>
                            <li><a href="./quick3d-examples.htm" translate="no">Qt Quick 3D Examples and Tutorials</a></li>
                            <li class="last"><a>Qt Quick 3D - Custom Shaders Example</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Qt Quick 3D - Custom Shaders Example</h1>
<span class="subtitle"></span>
<!-- $$$customshaders-brief -->
<p>Demonstrates the use of custom vertex and fragment shaders.</p>
<!-- @@@customshaders -->
<!-- $$$customshaders-description -->
<div class="descr"> <a name="details"></a>
<p>This example demonstrates using a custom material composed by a vertex and a fragment shader.</p>
<p class="centerAlign"><img alt="" src="./images/customshaders-example.png"></p><a name="implementing-a-custom-material"></a>
<h4 id="implementing-a-custom-material">Implementing a custom material<a class="plink" href="#implementing-a-custom-material" title="Direct link to this headline"></a></h4>
<p>Uniforms used in the shader are declared in the <a href="./qml-qtquick3d-materials-custommaterial.htm" translate="no">CustomMaterial</a> and the declaration is added dynamically to the shader file by the shader generator. <a href="./qml-qtquick3d-shaderinfo.htm" translate="no">ShaderInfo</a> includes GLSL version that is also added to the shaders, so version declaration is not allowed in the custom shaders themselves.</p>
<p>Each shader is implemented in a separate shader file. In this example, the vertex shader is defined in example.vert and the fragment shader in example.frag. Each shader has to be declared in QML and the stage set appropriately. A custom pass using those particular shaders is also needed.</p>
<p>In this example, a mesh is deformed by the vertex shader according to a sine function. The end result is controlled by two sliders corresponding to the time and amplitude values of the sine function. The fragment shader is used to color the mesh according to the position values of the vertices.</p>
<div class="pre"><pre class="qml prettyprint" translate="no"><span class="type"><a href="./qml-qtquick3d-materials-custommaterial.htm" translate="no">CustomMaterial</a></span> {
    property <span class="type"><a href="./qml-real.htm" translate="no">real</a></span> <span class="name">time</span>: <span class="number">0.0</span>
    property <span class="type"><a href="./qml-real.htm" translate="no">real</a></span> <span class="name">amplitude</span>: <span class="number">5.0</span>

    <span class="name">shaderInfo</span>: <span class="name">ShaderInfo</span> {
        <span class="name">version</span>: <span class="string">"330"</span>
        <span class="name">type</span>: <span class="string">"GLSL"</span>
    }

    <span class="type"><a href="./qml-qtquick3d-shader.htm" translate="no">Shader</a></span> {
        <span class="name">id</span>: <span class="name">vertShader</span>
        <span class="name">stage</span>: <span class="name">Shader</span>.<span class="name">Vertex</span>
        <span class="name">shader</span>: <span class="string">"example.vert"</span>
    }

    <span class="type"><a href="./qml-qtquick3d-shader.htm" translate="no">Shader</a></span> {
        <span class="name">id</span>: <span class="name">fragShader</span>
        <span class="name">stage</span>: <span class="name">Shader</span>.<span class="name">Fragment</span>
        <span class="name">shader</span>: <span class="string">"example.frag"</span>
    }

    <span class="name">passes</span>: [ <span class="type"><a href="./qml-qtquick3d-pass.htm" translate="no">Pass</a></span> {
            <span class="name">shaders</span>: [ <span class="name">vertShader</span>, <span class="name">fragShader</span> ]
        }
    ]
}</pre></div>
<a name="using-a-custom-material"></a>
<h4 id="using-a-custom-material">Using a custom material<a class="plink" href="#using-a-custom-material" title="Direct link to this headline"></a></h4>
<p>A custom material using custom shaders is used the same way as any other material. The uniforms in the shader can be easily updated with property bindings in the QML.</p>
<div class="pre"><pre class="qml prettyprint" translate="no"><span class="type"><a href="./qml-qtquick3d-model.htm" translate="no">Model</a></span> {
    <span class="name">position</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)
    <span class="name">scale</span>: <span class="name">Qt</span>.<span class="name">vector3d</span>(<span class="number">2</span>, <span class="number">2</span>, <span class="number">2</span>)
    <span class="name">source</span>: <span class="string">"#Sphere"</span>
    <span class="name">materials</span>: [
        <span class="type">ExampleMaterial</span> {
            <span class="name">id</span>: <span class="name">exampleMaterial</span>
            <span class="name">time</span>: <span class="name">control</span>.<span class="name">time</span>
            <span class="name">amplitude</span>: <span class="name">control</span>.<span class="name">amplitude</span>
        }
    ]
}</pre></div>
<p>Files:</p>
<ul>
<li><a href="./qtquick3d-customshaders-examplematerial-qml.htm" translate="no">customshaders/ExampleMaterial.qml</a></li>
<li><a href="./qtquick3d-customshaders-materialcontrol-qml.htm" translate="no">customshaders/MaterialControl.qml</a></li>
<li><a href="./qtquick3d-customshaders-customshaders-pro.htm" translate="no">customshaders/customshaders.pro</a></li>
<li><a href="./qtquick3d-customshaders-main-cpp.htm" translate="no">customshaders/main.cpp</a></li>
<li><a href="./qtquick3d-customshaders-main-qml.htm" translate="no">customshaders/main.qml</a></li>
<li><a href="./qtquick3d-customshaders-resources-qrc.htm" translate="no">customshaders/resources.qrc</a></li>
</ul>
</div>
<!-- @@@customshaders -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>