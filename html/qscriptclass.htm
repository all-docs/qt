<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>QScriptClass | Qt Script</title>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtscript-index.htm" translate="no">Qt Script</a></li>
                            <li><a href="./qtscript-module.htm" translate="no">C++ Classes</a></li>
                            <li><a>QScriptClass</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title" translate="no">QScriptClass Class</h1>
<!-- $$$QScriptClass-brief -->
<p>The QScriptClass class provides an interface for defining custom behavior of (a class of) Qt Script objects. <a href="#details">More...</a></p>
<!-- @@@QScriptClass -->
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QScriptClass&gt;</span>
</td></tr><tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += script</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign"> Qt 4.4</td></tr></tbody></table></div><p>This class was introduced in Qt 4.4.</p>
<ul>
<li><a href="./qscriptclass-members.htm">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h2 id="public-types">Public Types<a class="plink" href="#public-types" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#Extension-enum" translate="no">Extension</a></b> { Callable, HasInstance }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#QueryFlag-enum" translate="no">QueryFlag</a></b> { HandlesReadAccess, HandlesWriteAccess }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> flags </td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#QueryFlag-enum" translate="no">QueryFlags</a></b></td></tr>
</tbody></table></div>
<a name="public-functions"></a>
<h2 id="public-functions">Public Functions<a class="plink" href="#public-functions" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#QScriptClass" translate="no">QScriptClass</a></b>(QScriptEngine *<i>engine</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual </td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#dtor.QScriptClass" translate="no">~QScriptClass</a></b>()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QScriptEngine *</td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#engine" translate="no">engine</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QVariant </td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#extension" translate="no">extension</a></b>(QScriptClass::Extension <i>extension</i>, const QVariant &amp;<i>argument</i> = QVariant())</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QString </td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#name" translate="no">name</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QScriptClassPropertyIterator *</td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#newIterator" translate="no">newIterator</a></b>(const QScriptValue &amp;<i>object</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QScriptValue </td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#property" translate="no">property</a></b>(const QScriptValue &amp;<i>object</i>, const QScriptString &amp;<i>name</i>, uint <i>id</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QScriptValue::PropertyFlags </td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#propertyFlags" translate="no">propertyFlags</a></b>(const QScriptValue &amp;<i>object</i>, const QScriptString &amp;<i>name</i>, uint <i>id</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QScriptValue </td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#prototype" translate="no">prototype</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual QScriptClass::QueryFlags </td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#queryProperty" translate="no">queryProperty</a></b>(const QScriptValue &amp;<i>object</i>, const QScriptString &amp;<i>name</i>, QScriptClass::QueryFlags <i>flags</i>, uint *<i>id</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual void </td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#setProperty" translate="no">setProperty</a></b>(QScriptValue &amp;<i>object</i>, const QScriptString &amp;<i>name</i>, uint <i>id</i>, const QScriptValue &amp;<i>value</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="./qscriptclass.htm#supportsExtension" translate="no">supportsExtension</a></b>(QScriptClass::Extension <i>extension</i>) const</td></tr>
</tbody></table></div>
<a name="details"></a>
<!-- $$$QScriptClass-description -->
<div class="descr">
<h2 id="details">Detailed Description<a class="plink" href="#details" title="Direct link to this headline"></a></h2>
<p>The QScriptClass class defines an interface for handling various aspects of interaction with the Qt Script objects associated with the class. Such objects are created by calling <a href="./qscriptengine.htm#newObject" translate="no">QScriptEngine::newObject</a>(), passing a pointer to the QScriptClass as argument.</p>
<p>By subclassing QScriptClass, you can define precisely how access to properties of the objects that use your class is handled. This enables a fully dynamic handling of properties, e.g. it's more powerful than <a href="./qscriptengine.htm#newQObject" translate="no">QScriptEngine::newQObject</a>(). For example, you can use QScriptClass to implement array-type objects (i.e. objects that handle the <code translate="no">length</code> property, and properties whose names are valid array indexes, in a special way), or to implement a "live" (runtime-defined) proxy to an underlying object.</p>
<p>If you just need to handle access to a set of properties that are known at the time an object is created (i.e. "semi-statically"), you might consider using <a href="./qscriptvalue.htm#setProperty" translate="no">QScriptValue::setProperty</a>() to define getter/setter functions for the relevant properties, rather than subclassing QScriptClass.</p>
<p>Reimplement <a href="./qscriptclass.htm#queryProperty" translate="no">queryProperty</a>() to specify which properties are handled in a custom way by your script class (i.e. should be <b>delegated</b> to the QScriptClass), and which properties should be handled just like normal Qt Script object properties.</p>
<p>Reimplement <a href="./qscriptclass.htm#property" translate="no">property</a>() and <a href="./qscriptclass.htm#setProperty" translate="no">setProperty</a>() to perform the actual access (read or write) to the properties that your class handles. Additionally, you can reimplement <a href="./qscriptclass.htm#propertyFlags" translate="no">propertyFlags</a>() to specify custom flags for your properties.</p>
<p>Reimplement <a href="./qscriptclass.htm#newIterator" translate="no">newIterator</a>() to provide an iterator for objects of your custom class. This is only necessary if objects of your class can have custom properties that you want to be reported when an object is used together with the <a href="./qscriptvalueiterator.htm" translate="no">QScriptValueIterator</a> class, or when an object is used in a for-in enumeration statement in a script.</p>
<p>When implementing custom classes of objects, you typically use <a href="./qscriptvalue.htm#setData" translate="no">QScriptValue::setData</a>() to store instance-specific data as part of object initialization; the data won't be accessible from scripts directly, but you can access it in e.g. your reimplementations of <a href="./qscriptclass.htm#property" translate="no">property</a>() and <a href="./qscriptclass.htm#setProperty" translate="no">setProperty</a>() (by calling <a href="./qscriptvalue.htm#data" translate="no">QScriptValue::data</a>()) to perform custom processing.</p>
<p>Reimplement <a href="./qscriptclass.htm#prototype" translate="no">prototype</a>() to provide a custom prototype object for your script class.</p>
<p>Reimplement <a href="./qscriptclass.htm#supportsExtension" translate="no">supportsExtension</a>() and <a href="./qscriptclass.htm#extension" translate="no">extension</a>() if your custom script class supports one or more of the extensions specified by the Extension enum.</p>
</div>
<p><b>See also </b><a href="./qscriptclasspropertyiterator.htm" translate="no">QScriptClassPropertyIterator</a>, <a href="./qscriptengine.htm#newObject" translate="no">QScriptEngine::newObject</a>(), and <a href="./qtscript-index.htm#defining-custom-script-classes-with-qscriptclass" translate="no">Defining Custom Script Classes with QScriptClass</a>.</p>
<!-- @@@QScriptClass -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$Extension$$$Callable$$$HasInstance -->
<h3 class="fn" id="Extension-enum" translate="no"><a name="Extension-enum"></a>enum QScriptClass::<span class="name">Extension</span><a class="plink" href="#Extension-enum" title="Direct link to this headline"></a></h3>
<p>This enum specifies the possible extensions to a <a href="./qscriptclass.htm" translate="no">QScriptClass</a>.</p>
<div class="table"><table class="valuelist"><tbody><tr class="odd" valign="top"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code translate="no">QScriptClass::Callable</code></td><td class="topAlign tblval"><code translate="no">0</code></td><td class="topAlign">Instances of this class can be called as functions.</td></tr>
<tr><td class="topAlign"><code translate="no">QScriptClass::HasInstance</code></td><td class="topAlign tblval"><code translate="no">1</code></td><td class="topAlign">Instances of this class implement [[HasInstance]].</td></tr>
</tbody></table></div>
<p><b>See also </b><a href="./qscriptclass.htm#extension" translate="no">extension</a>().</p>
<!-- @@@Extension -->
<!-- $$$QueryFlag$$$HandlesReadAccess$$$HandlesWriteAccess -->
<h3 class="flags" id="QueryFlag-enum"><a name="QueryFlag-enum"></a>enum QScriptClass::<span class="name">QueryFlag</span><br>flags QScriptClass::<span class="name">QueryFlags</span><a class="plink" href="#QueryFlag-enum" title="Direct link to this headline"></a></h3>
<p>This enum describes flags that are used to query a <a href="./qscriptclass.htm" translate="no">QScriptClass</a> regarding how access to a property should be handled.</p>
<div class="table"><table class="valuelist"><tbody><tr class="odd" valign="top"><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td class="topAlign"><code translate="no">QScriptClass::HandlesReadAccess</code></td><td class="topAlign tblval"><code translate="no">0x01</code></td><td class="topAlign">The <a href="./qscriptclass.htm" translate="no">QScriptClass</a> handles read access to this property.</td></tr>
<tr><td class="topAlign"><code translate="no">QScriptClass::HandlesWriteAccess</code></td><td class="topAlign tblval"><code translate="no">0x02</code></td><td class="topAlign">The <a href="./qscriptclass.htm" translate="no">QScriptClass</a> handles write access to this property.</td></tr>
</tbody></table></div>
<p>The QueryFlags type is a typedef for <a href="./qflags.htm">QFlags</a>&lt;QueryFlag&gt;. It stores an OR combination of QueryFlag values.</p>
<p><b>See also </b><a href="./qscriptclass.htm#queryProperty" translate="no">queryProperty</a>().</p>
<!-- @@@QueryFlag -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QScriptClass[overload1]$$$QScriptClassQScriptEngine* -->
<h3 class="fn" id="QScriptClass" translate="no"><a name="QScriptClass"></a>QScriptClass::<span class="name">QScriptClass</span>(<span class="type"><a href="./qscriptengine.htm" translate="no">QScriptEngine</a></span> *<i>engine</i>)<a class="plink" href="#QScriptClass" title="Direct link to this headline"></a></h3>
<p>Constructs a QScriptClass object to be used in the given <i translate="no">engine</i>.</p>
<p>The engine does not take ownership of the QScriptClass object.</p>
<!-- @@@QScriptClass -->
<!-- $$$~QScriptClass[overload1]$$$~QScriptClass -->
<h3 class="fn" id="dtor.QScriptClass" translate="no"><a name="dtor.QScriptClass"></a><code translate="no">[virtual] </code>QScriptClass::<span class="name">~QScriptClass</span>()<a class="plink" href="#dtor.QScriptClass" title="Direct link to this headline"></a></h3>
<p>Destroys the <a href="./qscriptclass.htm" translate="no">QScriptClass</a> object.</p>
<p>If a <a href="./qscriptclass.htm" translate="no">QScriptClass</a> object is deleted before the associated <a href="./qscriptclass.htm#engine" translate="no">engine</a>(), any Qt Script objects using the <a href="./qscriptclass.htm" translate="no">QScriptClass</a> will be "demoted" to normal Qt Script objects.</p>
<!-- @@@~QScriptClass -->
<!-- $$$engine[overload1]$$$engine -->
<h3 class="fn" id="engine" translate="no"><a name="engine"></a><span class="type"><a href="./qscriptengine.htm" translate="no">QScriptEngine</a></span> *QScriptClass::<span class="name">engine</span>() const<a class="plink" href="#engine" title="Direct link to this headline"></a></h3>
<p>Returns the engine that this <a href="./qscriptclass.htm" translate="no">QScriptClass</a> is associated with.</p>
<!-- @@@engine -->
<!-- $$$extension[overload1]$$$extensionQScriptClass::ExtensionconstQVariant& -->
<h3 class="fn" id="extension" translate="no"><a name="extension"></a><code translate="no">[virtual] </code><span class="type"><a href="./qvariant.htm" translate="no">QVariant</a></span> QScriptClass::<span class="name">extension</span>(<span class="type"><a href="./qscriptclass.htm#Extension-enum" translate="no">QScriptClass::Extension</a></span> <i>extension</i>, const <span class="type"><a href="./qvariant.htm" translate="no">QVariant</a></span> &amp;<i>argument</i> = QVariant())<a class="plink" href="#extension" title="Direct link to this headline"></a></h3>
<p>This virtual function can be reimplemented in a <a href="./qscriptclass.htm" translate="no">QScriptClass</a> subclass to provide support for extensions. The optional <i translate="no">argument</i> can be provided as input to the <i translate="no">extension</i>; the result must be returned in the form of a <a href="./qvariant.htm" translate="no">QVariant</a>. You can call <a href="./qscriptclass.htm#supportsExtension" translate="no">supportsExtension</a>() to check if an extension is supported by the <a href="./qscriptclass.htm" translate="no">QScriptClass</a>. By default, no extensions are supported, and this function returns an invalid <a href="./qvariant.htm" translate="no">QVariant</a>.</p>
<p>If you implement the Callable extension, Qt Script will call this function when an instance of your class is called as a function (e.g. from a script or using <a href="./qscriptvalue.htm#call" translate="no">QScriptValue::call</a>()). The <i translate="no">argument</i> will contain a pointer to the <a href="./qscriptcontext.htm" translate="no">QScriptContext</a> that represents the function call, and you should return a <a href="./qvariant.htm" translate="no">QVariant</a> that holds the result of the function call. In the following example the sum of the arguments to the script function are added up and returned:</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="keyword">if</span> (extension <span class="operator">=</span><span class="operator">=</span> Callable) {
    <span class="type"><a href="./qscriptcontext.htm" translate="no">QScriptContext</a></span> <span class="operator">*</span>context <span class="operator">=</span> qvariant_cast<span class="operator">&lt;</span><span class="type"><a href="./qscriptcontext.htm" translate="no">QScriptContext</a></span><span class="operator">*</span><span class="operator">&gt;</span>(argument);
    <span class="type"><a href="./qscriptengine.htm" translate="no">QScriptEngine</a></span> <span class="operator">*</span>engine <span class="operator">=</span> context<span class="operator">-</span><span class="operator">&gt;</span>engine();
    <span class="type">double</span> sum <span class="operator">=</span> <span class="number">0</span>;
    <span class="keyword">for</span> (<span class="type">int</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> context<span class="operator">-</span><span class="operator">&gt;</span>argumentCount(); <span class="operator">+</span><span class="operator">+</span>i)
        sum <span class="operator">+</span><span class="operator">=</span> context<span class="operator">-</span><span class="operator">&gt;</span>argument(i)<span class="operator">.</span>toNumber();
    <span class="keyword">return</span> sum;
}</pre></div>
<p>If you implement the <a href="./qscriptclass.htm#Extension-enum" translate="no">HasInstance</a> extension, Qt Script will call this function as part of evaluating the <code translate="no">instanceof</code> operator, as described in ECMA-262 Section 11.8.6. The <i translate="no">argument</i> is a QScriptValueList containing two items: The first item is the object that <a href="./qscriptclass.htm#Extension-enum" translate="no">HasInstance</a> is being applied to (an instance of your class), and the second item can be any value. extension() should return true if the value delegates behavior to the object, false otherwise.</p>
<p><b>See also </b><a href="./qscriptclass.htm#supportsExtension" translate="no">supportsExtension</a>().</p>
<!-- @@@extension -->
<!-- $$$name[overload1]$$$name -->
<h3 class="fn" id="name" translate="no"><a name="name"></a><code translate="no">[virtual] </code><span class="type"><a href="./qstring.htm" translate="no">QString</a></span> QScriptClass::<span class="name">name</span>() const<a class="plink" href="#name" title="Direct link to this headline"></a></h3>
<p>Returns the name of the script class.</p>
<p>Qt Script uses this name to generate a default string representation of objects in case you do not provide a toString function.</p>
<p>The default implementation returns a null string.</p>
<!-- @@@name -->
<!-- $$$newIterator[overload1]$$$newIteratorconstQScriptValue& -->
<h3 class="fn" id="newIterator" translate="no"><a name="newIterator"></a><code translate="no">[virtual] </code><span class="type"><a href="./qscriptclasspropertyiterator.htm" translate="no">QScriptClassPropertyIterator</a></span> *QScriptClass::<span class="name">newIterator</span>(const <span class="type"><a href="./qscriptvalue.htm" translate="no">QScriptValue</a></span> &amp;<i>object</i>)<a class="plink" href="#newIterator" title="Direct link to this headline"></a></h3>
<p>Returns an iterator for traversing custom properties of the given <i translate="no">object</i>.</p>
<p>The default implementation returns 0, meaning that there are no custom properties to traverse.</p>
<p>Reimplement this function if objects of your script class can have one or more custom properties (e.g. those reported to be handled by <a href="./qscriptclass.htm#queryProperty" translate="no">queryProperty</a>()) that you want to appear when an object's properties are enumerated (e.g. by a for-in statement in a script).</p>
<p>Qt Script takes ownership of the new iterator object.</p>
<p><b>See also </b><a href="./qscriptvalueiterator.htm" translate="no">QScriptValueIterator</a>.</p>
<!-- @@@newIterator -->
<!-- $$$property[overload1]$$$propertyconstQScriptValue&constQScriptString&uint -->
<h3 class="fn" id="property" translate="no"><a name="property"></a><code translate="no">[virtual] </code><span class="type"><a href="./qscriptvalue.htm" translate="no">QScriptValue</a></span> QScriptClass::<span class="name">property</span>(const <span class="type"><a href="./qscriptvalue.htm" translate="no">QScriptValue</a></span> &amp;<i>object</i>, const <span class="type"><a href="./qscriptstring.htm" translate="no">QScriptString</a></span> &amp;<i>name</i>, <span class="type"><a href="./qtglobal.htm#uint-typedef" translate="no">uint</a></span> <i>id</i>)<a class="plink" href="#property" title="Direct link to this headline"></a></h3>
<p>Returns the value of the property with the given <i translate="no">name</i> of the given <i translate="no">object</i>.</p>
<p>The <i translate="no">id</i> argument is only useful if you assigned a value to it in <a href="./qscriptclass.htm#queryProperty" translate="no">queryProperty</a>().</p>
<p>The default implementation does nothing and returns an invalid <a href="./qscriptvalue.htm" translate="no">QScriptValue</a>.</p>
<p><b>See also </b><a href="./qscriptclass.htm#setProperty" translate="no">setProperty</a>() and <a href="./qscriptclass.htm#propertyFlags" translate="no">propertyFlags</a>().</p>
<!-- @@@property -->
<!-- $$$propertyFlags[overload1]$$$propertyFlagsconstQScriptValue&constQScriptString&uint -->
<h3 class="fn" id="propertyFlags" translate="no"><a name="propertyFlags"></a><code translate="no">[virtual] </code><span class="type"><a href="./qscriptvalue.htm#PropertyFlag-enum" translate="no">QScriptValue::PropertyFlags</a></span> QScriptClass::<span class="name">propertyFlags</span>(const <span class="type"><a href="./qscriptvalue.htm" translate="no">QScriptValue</a></span> &amp;<i>object</i>, const <span class="type"><a href="./qscriptstring.htm" translate="no">QScriptString</a></span> &amp;<i>name</i>, <span class="type"><a href="./qtglobal.htm#uint-typedef" translate="no">uint</a></span> <i>id</i>)<a class="plink" href="#propertyFlags" title="Direct link to this headline"></a></h3>
<p>Returns the flags of the property with the given <i translate="no">name</i> of the given <i translate="no">object</i>.</p>
<p>The <i translate="no">id</i> argument is only useful if you assigned a value to it in <a href="./qscriptclass.htm#queryProperty" translate="no">queryProperty</a>().</p>
<p>The default implementation returns 0.</p>
<p><b>See also </b><a href="./qscriptclass.htm#property" translate="no">property</a>().</p>
<!-- @@@propertyFlags -->
<!-- $$$prototype[overload1]$$$prototype -->
<h3 class="fn" id="prototype" translate="no"><a name="prototype"></a><code translate="no">[virtual] </code><span class="type"><a href="./qscriptvalue.htm" translate="no">QScriptValue</a></span> QScriptClass::<span class="name">prototype</span>() const<a class="plink" href="#prototype" title="Direct link to this headline"></a></h3>
<p>Returns the object to be used as the prototype of new instances of this class (created with <a href="./qscriptengine.htm#newObject" translate="no">QScriptEngine::newObject</a>()).</p>
<p>The default implementation returns an invalid <a href="./qscriptvalue.htm" translate="no">QScriptValue</a>, meaning that the standard Object prototype will be used. Reimplement this function to provide your own custom prototype.</p>
<p>Typically you initialize your prototype object in the constructor of your class, then return it in this function.</p>
<p>See the "Making Use of Prototype-Based Inheritance" section in the Qt Script documentation for more information on how prototypes are used.</p>
<!-- @@@prototype -->
<!-- $$$queryProperty[overload1]$$$queryPropertyconstQScriptValue&constQScriptString&QScriptClass::QueryFlagsuint* -->
<h3 class="fn" id="queryProperty" translate="no"><a name="queryProperty"></a><code translate="no">[virtual] </code><span class="type"><a href="./qscriptclass.htm#QueryFlag-enum" translate="no">QScriptClass::QueryFlags</a></span> QScriptClass::<span class="name">queryProperty</span>(const <span class="type"><a href="./qscriptvalue.htm" translate="no">QScriptValue</a></span> &amp;<i>object</i>, const <span class="type"><a href="./qscriptstring.htm" translate="no">QScriptString</a></span> &amp;<i>name</i>, <span class="type"><a href="./qscriptclass.htm#QueryFlag-enum" translate="no">QScriptClass::QueryFlags</a></span> <i>flags</i>, <span class="type"><a href="./qtglobal.htm#uint-typedef" translate="no">uint</a></span> *<i>id</i>)<a class="plink" href="#queryProperty" title="Direct link to this headline"></a></h3>
<p>Queries this script class for how access to the property with the given <i translate="no">name</i> of the given <i translate="no">object</i> should be handled. The given <i translate="no">flags</i> specify the aspects of interest. This function should return a subset of <i translate="no">flags</i> to indicate which aspects of property access should be further handled by the script class.</p>
<p>For example, if the <i translate="no">flags</i> contain <a href="./qscriptclass.htm#QueryFlag-enum" translate="no">HandlesReadAccess</a>, and you would like your class to handle the reading of the property (through the <a href="./qscriptclass.htm#property" translate="no">property</a>() function), the returned flags should include <a href="./qscriptclass.htm#QueryFlag-enum" translate="no">HandlesReadAccess</a>. If the returned flags do not contain <a href="./qscriptclass.htm#QueryFlag-enum" translate="no">HandlesReadAccess</a>, the property will be handled as a normal script object property.</p>
<p>You can optionally use the <i translate="no">id</i> argument to store a value that will subsequently be passed on to functions such as <a href="./qscriptclass.htm#property" translate="no">property</a>() and <a href="./qscriptclass.htm#setProperty" translate="no">setProperty</a>().</p>
<p>The default implementation of this function returns 0.</p>
<p>Note: This function is only called if the given property isn't already a normal property of the object. For example, say you advertise that you want to handle read access to property <code translate="no">foo</code>, but not write access; if <code translate="no">foo</code> is then assigned a value, it will become a normal script object property, and subsequently you will no longer be queried regarding read access to <code translate="no">foo</code>.</p>
<p><b>See also </b><a href="./qscriptclass.htm#property" translate="no">property</a>().</p>
<!-- @@@queryProperty -->
<!-- $$$setProperty[overload1]$$$setPropertyQScriptValue&constQScriptString&uintconstQScriptValue& -->
<h3 class="fn" id="setProperty" translate="no"><a name="setProperty"></a><code translate="no">[virtual] </code><span class="type">void</span> QScriptClass::<span class="name">setProperty</span>(<span class="type"><a href="./qscriptvalue.htm" translate="no">QScriptValue</a></span> &amp;<i>object</i>, const <span class="type"><a href="./qscriptstring.htm" translate="no">QScriptString</a></span> &amp;<i>name</i>, <span class="type"><a href="./qtglobal.htm#uint-typedef" translate="no">uint</a></span> <i>id</i>, const <span class="type"><a href="./qscriptvalue.htm" translate="no">QScriptValue</a></span> &amp;<i>value</i>)<a class="plink" href="#setProperty" title="Direct link to this headline"></a></h3>
<p>Sets the property with the given <i translate="no">name</i> of the given <i translate="no">object</i> to the given <i translate="no">value</i>.</p>
<p>The <i translate="no">id</i> argument is only useful if you assigned a value to it in <a href="./qscriptclass.htm#queryProperty" translate="no">queryProperty</a>().</p>
<p>The default implementation does nothing.</p>
<p>An invalid <i translate="no">value</i> represents a request to remove the property.</p>
<p><b>See also </b><a href="./qscriptclass.htm#property" translate="no">property</a>().</p>
<!-- @@@setProperty -->
<!-- $$$supportsExtension[overload1]$$$supportsExtensionQScriptClass::Extension -->
<h3 class="fn" id="supportsExtension" translate="no"><a name="supportsExtension"></a><code translate="no">[virtual] </code><span class="type">bool</span> QScriptClass::<span class="name">supportsExtension</span>(<span class="type"><a href="./qscriptclass.htm#Extension-enum" translate="no">QScriptClass::Extension</a></span> <i>extension</i>) const<a class="plink" href="#supportsExtension" title="Direct link to this headline"></a></h3>
<p>Returns true if the <a href="./qscriptclass.htm" translate="no">QScriptClass</a> supports the given <i translate="no">extension</i>; otherwise, false is returned. By default, no extensions are supported.</p>
<p>Reimplement this function to indicate which extensions your custom class supports.</p>
<p><b>See also </b><a href="./qscriptclass.htm#extension" translate="no">extension</a>().</p>
<!-- @@@supportsExtension -->
</div>
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>