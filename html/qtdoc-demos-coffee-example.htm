<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Coffee Machine Example</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/qtdoc-demos-coffee-example.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a>Coffee Machine Example</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Coffee Machine Example</h1>
<span class="subtitle"></span>
<!-- $$$demos/coffee-description -->
<div class="descr"> <a name="details"></a>
<div class="border"><p class="centerAlign"><img alt="" src="./images/coffee_machine_overview.png"></p></div><p>The coffee machine application lets you choose a type of coffee on the left side of the main screen. After selection, the app displays what the coffee blend will contain (ratio coffee/hot milk/milk foam). This can be modified with two sliders. When the brew has been started, the app shows an animated display of the brewing process, then returns to the start screen.</p>
<p>First the start screen <code translate="no">Animationflowform</code> is displayed, showing a sidebar with several types of coffee, and an empty cup on the right screen.</p>
<p>Selecting a coffee type - for example, cappuccino - triggers <code translate="no">animation1</code> and <code translate="no">animation2</code> in CoffeeButton.qml. On the right side, you will see the coffee blend you selected.</p>
<div class="pre"><pre class="qml prettyprint" translate="no">    <span class="type"><a href="./qml-qtquick-mousearea.htm" translate="no">MouseArea</a></span> {
        <span class="name">anchors</span>.fill: <span class="name">parent</span>
        <span class="name">onClicked</span>: <span class="name">root</span>.<span class="name">clicked</span>()
        <span class="name">onPressed</span>: {
            <span class="name">glow</span>.<span class="name">visible</span> <span class="operator">=</span> <span class="number">true</span>
            <span class="name">animation1</span>.<span class="name">start</span>()
            <span class="name">animation2</span>.<span class="name">start</span>()
        }
    }</pre></div>
<p>It also triggers cappuccinoButton.onClicked(), which sets the default mix for the coffee type selected:</p>
<div class="pre"><pre class="qml prettyprint" translate="no">    <span class="name">cappuccinoButton</span>.onClicked: {
        <span class="name">sideBar</span>.<span class="name">currentCoffee</span> <span class="operator">=</span> <span class="name">qsTr</span>(<span class="string">"Cappucino"</span>)
        <span class="name">sideBar</span>.<span class="name">currentMilk</span> <span class="operator">=</span> <span class="number">7</span>
        <span class="name">sideBar</span>.<span class="name">currentCoffeeAmount</span> <span class="operator">=</span> <span class="number">3.5</span>
        <span class="name">sideBar</span>.<span class="name">coffeeSelected</span>()
    }</pre></div>
<div class="border"><p class="centerAlign"><img alt="" src="./images/coffee_machine_selection.png"></p></div><p class="figCaption">Coffee blend cappuccino</p>
<p><code translate="no">sideBar.coffeeSelected()</code> <code translate="no">sets</code> applicationFlow.state to "selection"</p>
<p>If you click "Brew me a cup", choosingCoffee.brewButtonSelection.onClicked is triggered:</p>
<div class="pre"><pre class="qml prettyprint" translate="no">    <span class="name">choosingCoffee</span>.brewButtonSelection.onClicked: {
        <span class="name">applicationFlow</span>.<span class="name">state</span> <span class="operator">=</span> <span class="string">"settings"</span>
        <span class="name">applicationFlow</span>.<span class="name">choosingCoffee</span>.<span class="name">milkSlider</span>.<span class="name">value</span> <span class="operator">=</span> <span class="name">applicationFlow</span>.<span class="name">choosingCoffee</span>.<span class="name">sideBar</span>.<span class="name">currentMilk</span>
        <span class="name">applicationFlow</span>.<span class="name">choosingCoffee</span>.<span class="name">sugarSlider</span>.<span class="name">value</span> <span class="operator">=</span> <span class="number">2</span>
    }</pre></div>
<p>On the right side of the screen, you will see two sliders, one for the amount of milk, and one for sugar. They will have default values, but can be modified by the user.</p>
<div class="border"><p class="centerAlign"><img alt="" src="./images/coffee_machine_modify.png"></p></div><p>If you click on <code translate="no">Brew</code>, <code translate="no">choosingCoffee.brewButton.onClicked()</code> is triggered, which displays a screen with the message "Please insert cup into tray".</p>
<div class="pre"><pre class="qml prettyprint" translate="no">    <span class="name">choosingCoffee</span>.brewButton.onClicked: {
        <span class="name">applicationFlow</span>.<span class="name">state</span> <span class="operator">=</span> <span class="string">"empty cup"</span>
    }</pre></div>
<div class="border"><p class="centerAlign"><img alt="" src="./images/coffee_machine_emptycup.png"></p></div><p>Clicking on <code translate="no">Continue</code> starts the brewing of the coffee type you selected.</p>
<div class="pre"><pre class="qml prettyprint" translate="no">    <span class="name">emptyCup</span>.continueButton.onClicked: {
        <span class="name">applicationFlow</span>.<span class="name">state</span> <span class="operator">=</span> <span class="string">"brewing"</span>
        <span class="name">brewing</span>.<span class="name">coffeeName</span> <span class="operator">=</span> <span class="name">choosingCoffee</span>.<span class="name">sideBar</span>.<span class="name">currentCoffee</span>
        <span class="name">brewing</span>.<span class="name">start</span>()
    }</pre></div>
<p>The brewing process is defined as follows in <code translate="no">Brewing.qml</code>:</p>
<div class="pre"><pre class="qml prettyprint" translate="no"><span class="type">BrewingForm</span> {
    <span class="name">id</span>: <span class="name">root</span>
    <span class="keyword">function </span><span class="name">start</span>() {
        <span class="name">animation</span>.<span class="name">start</span>()
    }

    signal <span class="type">finished</span>()

    <span class="type"><a href="./qml-qtquick-sequentialanimation.htm" translate="no">SequentialAnimation</a></span> {
        <span class="name">id</span>: <span class="name">animation</span>
        <span class="type"><a href="./qml-qtquick-pauseanimation.htm" translate="no">PauseAnimation</a></span> {
            <span class="name">duration</span>: <span class="number">1500</span>
        }
        <span class="type"><a href="./qml-qtquick-propertyaction.htm" translate="no">PropertyAction</a></span> {
            <span class="name">target</span>: <span class="name">root</span>
            <span class="name">property</span>: <span class="string">"state"</span>
            <span class="name">value</span>: <span class="string">"coffee"</span>
        }
        <span class="type"><a href="./qml-qtquick-pauseanimation.htm" translate="no">PauseAnimation</a></span> {
            <span class="name">duration</span>: <span class="number">1500</span>
        }
        <span class="type"><a href="./qml-qtquick-propertyaction.htm" translate="no">PropertyAction</a></span> {
            <span class="name">target</span>: <span class="name">root</span>
            <span class="name">property</span>: <span class="string">"state"</span>
            <span class="name">value</span>: <span class="string">"milk"</span>
        }
        <span class="type"><a href="./qml-qtquick-pauseanimation.htm" translate="no">PauseAnimation</a></span> {
            <span class="name">duration</span>: <span class="number">1500</span>
        }
        <span class="type"><a href="./qml-qtquick-scriptaction.htm" translate="no">ScriptAction</a></span> {
            <span class="name">script</span>: <span class="name">root</span>.<span class="name">finished</span>()
        }
    }

    Behavior on <span class="name">cup</span>.coffeeAmount {
        <span class="type"><a href="./qml-qtquick-propertyanimation.htm" translate="no">PropertyAnimation</a></span> {

        }
    }

    Behavior on <span class="name">cup</span>.milkAmount {
        <span class="type"><a href="./qml-qtquick-propertyanimation.htm" translate="no">PropertyAnimation</a></span> {
        }
    }
}</pre></div>
<p>After completion, the application returns to the start screen.</p>
<p>Files:</p>
<ul>
<li><a href="./qtdoc-demos-coffee-applicationflow-qml.htm" translate="no">demos/coffee/ApplicationFlow.qml</a></li>
<li><a href="./qtdoc-demos-coffee-applicationflowform-ui-qml.htm" translate="no">demos/coffee/ApplicationFlowForm.ui.qml</a></li>
<li><a href="./qtdoc-demos-coffee-brewing-qml.htm" translate="no">demos/coffee/Brewing.qml</a></li>
<li><a href="./qtdoc-demos-coffee-brewingform-ui-qml.htm" translate="no">demos/coffee/BrewingForm.ui.qml</a></li>
<li><a href="./qtdoc-demos-coffee-choosingcoffee-ui-qml.htm" translate="no">demos/coffee/ChoosingCoffee.ui.qml</a></li>
<li><a href="./qtdoc-demos-coffee-coffeebutton-qml.htm" translate="no">demos/coffee/CoffeeButton.qml</a></li>
<li><a href="./qtdoc-demos-coffee-cup-qml.htm" translate="no">demos/coffee/Cup.qml</a></li>
<li><a href="./qtdoc-demos-coffee-cupform-ui-qml.htm" translate="no">demos/coffee/CupForm.ui.qml</a></li>
<li><a href="./qtdoc-demos-coffee-emptycup-qml.htm" translate="no">demos/coffee/EmptyCup.qml</a></li>
<li><a href="./qtdoc-demos-coffee-emptycupform-ui-qml.htm" translate="no">demos/coffee/EmptyCupForm.ui.qml</a></li>
<li><a href="./qtdoc-demos-coffee-navigationbutton-ui-qml.htm" translate="no">demos/coffee/NavigationButton.ui.qml</a></li>
<li><a href="./qtdoc-demos-coffee-sidebar-qml.htm" translate="no">demos/coffee/SideBar.qml</a></li>
<li><a href="./qtdoc-demos-coffee-sidebarform-ui-qml.htm" translate="no">demos/coffee/SideBarForm.ui.qml</a></li>
<li><a href="./qtdoc-demos-coffee-coffee-pro.htm" translate="no">demos/coffee/coffee.pro</a></li>
<li><a href="./qtdoc-demos-coffee-imports-coffee-constants-qml.htm" translate="no">demos/coffee/imports/Coffee/Constants.qml</a></li>
<li><a href="./qtdoc-demos-coffee-imports-coffee-qmldir.htm" translate="no">demos/coffee/imports/Coffee/qmldir</a></li>
<li><a href="./qtdoc-demos-coffee-main-cpp.htm" translate="no">demos/coffee/main.cpp</a></li>
<li><a href="./qtdoc-demos-coffee-main-qml.htm" translate="no">demos/coffee/main.qml</a></li>
<li><a href="./qtdoc-demos-coffee-qml-qrc.htm" translate="no">demos/coffee/qml.qrc</a></li>
</ul>
<p>Images:</p>
<ul>
<li><a href="./images/used-in-examples/demos/coffee/images/cup%2520structure/coffee_cup_large.png" translate="no">demos/coffee/images/cup structure/coffee_cup_large.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/cup%2520structure/coffee_cup_outline.png" translate="no">demos/coffee/images/cup structure/coffee_cup_outline.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/cup%2520structure/cup%2520elements/coffee_cup_back.png" translate="no">demos/coffee/images/cup structure/cup elements/coffee_cup_back.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/cup%2520structure/cup%2520elements/coffee_cup_coverplate.png" translate="no">demos/coffee/images/cup structure/cup elements/coffee_cup_coverplate.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/cup%2520structure/cup%2520elements/coffee_cup_front.png" translate="no">demos/coffee/images/cup structure/cup elements/coffee_cup_front.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/cup%2520structure/liquids/liquid_coffee.png" translate="no">demos/coffee/images/cup structure/liquids/liquid_coffee.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/cup%2520structure/liquids/liquid_foam.png" translate="no">demos/coffee/images/cup structure/liquids/liquid_foam.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/cup%2520structure/liquids/liquid_milk.png" translate="no">demos/coffee/images/cup structure/liquids/liquid_milk.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/icons/coffees/Americano.png" translate="no">demos/coffee/images/icons/coffees/Americano.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/icons/coffees/Espresso.png" translate="no">demos/coffee/images/icons/coffees/Espresso.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/icons/coffees/Latte.png" translate="no">demos/coffee/images/icons/coffees/Latte.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/icons/coffees/Macchiato.png" translate="no">demos/coffee/images/icons/coffees/Macchiato.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/icons/coffees/cappucino.png" translate="no">demos/coffee/images/icons/coffees/cappucino.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/icons/contents/coffee.png" translate="no">demos/coffee/images/icons/contents/coffee.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/icons/contents/milk.png" translate="no">demos/coffee/images/icons/contents/milk.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/icons/contents/sugar.png" translate="no">demos/coffee/images/icons/contents/sugar.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/ui%2520controls/buttons/back/white.png" translate="no">demos/coffee/images/ui controls/buttons/back/white.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/ui%2520controls/buttons/go/white.png" translate="no">demos/coffee/images/ui controls/buttons/go/white.png</a></li>
<li><a href="./images/used-in-examples/demos/coffee/images/ui%2520controls/line.png" translate="no">demos/coffee/images/ui controls/line.png</a></li>
</ul>
</div>
<!-- @@@demos/coffee -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>