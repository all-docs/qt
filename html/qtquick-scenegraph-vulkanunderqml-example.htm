<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Scene Graph - Vulkan Under QML | Qt Quick</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/qtquick-scenegraph-vulkanunderqml-example.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtquick-index.htm" translate="no">Qt Quick</a></li>
                            <li><a>Scene Graph - Vulkan Under QML</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title">Scene Graph - Vulkan Under QML</h1>
<span class="subtitle"></span>
<!-- $$$scenegraph/vulkanunderqml-brief -->
<p>Shows how to render directly with vulkan under a Qt Quick scene.</p>
<!-- @@@scenegraph/vulkanunderqml -->
<!-- $$$scenegraph/vulkanunderqml-description -->
<div class="descr"> <a name="details"></a>
<p class="centerAlign"><img alt="" src="./images/vulkanunderqml-example.jpg"></p><p>The Vulkan Under QML example shows how an application can make use of the <a href="./qquickwindow.htm#beforeRendering" translate="no">QQuickWindow::beforeRendering</a>() and <a href="./qquickwindow.htm#beforeRenderPassRecording" translate="no">QQuickWindow::beforeRenderPassRecording</a>() signals to draw custom Vulkan content under a Qt Quick scene. This signal is emitted at the start of every frame, before the scene graph starts its rendering, thus any Vulkan draw calls that are made as a response to this signal, will stack under the Qt Quick items. There are two signals, because the custom Vulkan commands are recorded onto the same command buffer that is used by the scene graph. beforeRendering() on its own is not sufficient for this because it gets emitted at the start of the frame, before recording the start of a renderpass instance via <a href="https://www.khronos.org/registry/vulkan/specs/1.1-extensions/man/html/vkCmdBeginRenderPass.html" translate="no">vkCmdBeginRenderPass</a>. By also connecting to beforeRenderPassRecording(), the application's own commands and the scene graph's scaffolding will end up in the right order.</p>
<p>As an alternative, applications that wish to render Vulkan content on top of the Qt Quick scene, can do so by connecting to the <a href="./qquickwindow.htm#afterRendering" translate="no">QQuickWindow::afterRendering</a>() and <a href="./qquickwindow.htm#afterRenderPassRecording" translate="no">QQuickWindow::afterRenderPassRecording</a>() signals.</p>
<p>In this example, we will also see how it is possible to have values that are exposed to QML which affect the Vulkan rendering. We animate the threshold value using a <a href="./qml-qtquick-numberanimation.htm" translate="no">NumberAnimation</a> in the QML file and this value is used by the SPIR-V shader program that draws the squircles.</p>
<p>The example is equivalent in most ways to the <a href="./qtquick-scenegraph-openglunderqml-example.htm" translate="no">OpenGL Under QML</a>, <a href="./qtquick-scenegraph-d3d11underqml-example.htm" translate="no">Direct3D 11 Under QML</a>, and <a href="./qtquick-scenegraph-metalunderqml-example.htm" translate="no">Metal Under QML</a> examples, they all render the same custom content, just via different native APIs.</p>
<p><a href="https://code.qt.io/cgit/qt/qtdeclarative.git/tree/examples/quick/scenegraph/vulkanunderqml?h=5.15" translate="no">Example project @ code.qt.io</a></p>
</div>
<!-- @@@scenegraph/vulkanunderqml -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>