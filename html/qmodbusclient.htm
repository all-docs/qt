<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>QModbusClient | Qt Serial Bus</title>
<link rel="canonical" href="https://doc.qt.io/qt-6/qmodbusclient.html">
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qtserialbus-index.htm" translate="no">Qt Serial Bus</a></li>
                            <li><a href="./qtserialbus-module.htm" translate="no">C++ Classes</a></li>
                            <li><a>QModbusClient</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title" translate="no">QModbusClient Class</h1>
<!-- $$$QModbusClient-brief -->
<p>The QModbusClient class is the interface to send Modbus requests. <a href="#details">More...</a></p>
<!-- @@@QModbusClient -->
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> Header:</td><td class="memItemRight bottomAlign"> <span class="preprocessor">#include &lt;QModbusClient&gt;</span>
</td></tr><tr><td class="memItemLeft rightAlign topAlign"> qmake:</td><td class="memItemRight bottomAlign"> QT += serialbus</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Since:</td><td class="memItemRight bottomAlign"> Qt 5.8</td></tr><tr><td class="memItemLeft rightAlign topAlign"> Inherits:</td><td class="memItemRight bottomAlign"> <a href="./qmodbusdevice.htm" translate="no">QModbusDevice</a></td></tr><tr><td class="memItemLeft rightAlign topAlign"> Inherited By:</td><td class="memItemRight bottomAlign"> <p><a href="./qmodbusrtuserialmaster.htm" translate="no">QModbusRtuSerialMaster</a> and <a href="./qmodbustcpclient.htm" translate="no">QModbusTcpClient</a></p>
</td></tr></tbody></table></div><p>This class was introduced in Qt 5.8.</p>
<ul>
<li><a href="./qmodbusclient-members.htm">List of all members, including inherited members</a></li>
</ul>
<a name="properties"></a>
<h2 id="properties">Properties<a class="plink" href="#properties" title="Direct link to this headline"></a></h2>
<ul>
<li class="fn" translate="no"><b><a href="./qmodbusclient.htm#timeout-prop" translate="no">timeout</a></b> : int</li>
</ul>
<a name="public-functions"></a>
<h2 id="public-functions">Public Functions<a class="plink" href="#public-functions" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="./qmodbusclient.htm#QModbusClient" translate="no">QModbusClient</a></b>(QObject *<i>parent</i> = nullptr)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="./qmodbusclient.htm#numberOfRetries" translate="no">numberOfRetries</a></b>() const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QModbusReply *</td><td class="memItemRight bottomAlign"><b><a href="./qmodbusclient.htm#sendRawRequest" translate="no">sendRawRequest</a></b>(const QModbusRequest &amp;<i>request</i>, int <i>serverAddress</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QModbusReply *</td><td class="memItemRight bottomAlign"><b><a href="./qmodbusclient.htm#sendReadRequest" translate="no">sendReadRequest</a></b>(const QModbusDataUnit &amp;<i>read</i>, int <i>serverAddress</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QModbusReply *</td><td class="memItemRight bottomAlign"><b><a href="./qmodbusclient.htm#sendReadWriteRequest" translate="no">sendReadWriteRequest</a></b>(const QModbusDataUnit &amp;<i>read</i>, const QModbusDataUnit &amp;<i>write</i>, int <i>serverAddress</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QModbusReply *</td><td class="memItemRight bottomAlign"><b><a href="./qmodbusclient.htm#sendWriteRequest" translate="no">sendWriteRequest</a></b>(const QModbusDataUnit &amp;<i>write</i>, int <i>serverAddress</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qmodbusclient.htm#setNumberOfRetries" translate="no">setNumberOfRetries</a></b>(int <i>number</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qmodbusclient.htm#setTimeout" translate="no">setTimeout</a></b>(int <i>newTimeout</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> int </td><td class="memItemRight bottomAlign"><b><a href="./qmodbusclient.htm#timeout-prop" translate="no">timeout</a></b>() const</td></tr>
</tbody></table></div>
<a name="signals"></a>
<h2 id="signals">Signals<a class="plink" href="#signals" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="./qmodbusclient.htm#timeoutChanged" translate="no">timeoutChanged</a></b>(int <i>newTimeout</i>)</td></tr>
</tbody></table></div>
<a name="protected-functions"></a>
<h2 id="protected-functions">Protected Functions<a class="plink" href="#protected-functions" title="Direct link to this headline"></a></h2>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="./qmodbusclient.htm#processPrivateResponse" translate="no">processPrivateResponse</a></b>(const QModbusResponse &amp;<i>response</i>, QModbusDataUnit *<i>data</i>)</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> virtual bool </td><td class="memItemRight bottomAlign"><b><a href="./qmodbusclient.htm#processResponse" translate="no">processResponse</a></b>(const QModbusResponse &amp;<i>response</i>, QModbusDataUnit *<i>data</i>)</td></tr>
</tbody></table></div>
<a name="details"></a>
<!-- $$$QModbusClient-description -->
<div class="descr">
<h2 id="details">Detailed Description<a class="plink" href="#details" title="Direct link to this headline"></a></h2>
<p>The QModbusClient API is constructed around one QModbusClient object, which holds the common configuration and settings for the requests it sends. One QModbusClient should be enough for the whole Qt application.</p>
<p>Once a QModbusClient object has been created, the application can use it to send requests. The returned object is used to obtain any data returned in response to the corresponding request.</p>
<p>QModbusClient has an asynchronous API. When the finished slot is called, the parameter it takes is the <a href="./qmodbusreply.htm" translate="no">QModbusReply</a> object containing the PDU as well as meta-data (Addressing, etc.).</p>
<p>Note: QModbusClient queues the requests it receives. The number of requests executed in parallel is dependent on the protocol. For example, the HTTP protocol on desktop platforms issues 6 requests in parallel for one host/port combination.</p>
</div>
<!-- @@@QModbusClient -->
<div class="prop">
<h2>Property Documentation</h2>
<!-- $$$timeout-prop$$$timeout$$$setTimeoutint$$$timeoutChangedint -->
<h3 class="fn" id="timeout-prop" translate="no"><a name="timeout-prop"></a><span class="name">timeout</span> : <span class="type">int</span><a class="plink" href="#timeout-prop" title="Direct link to this headline"></a></h3>
<p>This property holds the timeout value used by this client</p>
<p>Returns the timeout value used by this <a href="./qmodbusclient.htm" translate="no">QModbusClient</a> instance in ms. A timeout is indicated by a <a href="./qmodbusdevice.htm#Error-enum" translate="no">TimeoutError</a>. The default value is 1000 ms.</p>
<p><b>Access functions:</b></p>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft topAlign rightAlign"> int </td><td class="memItemRight bottomAlign"><span class="name"><b>timeout</b></span>() const</td></tr>
<tr><td class="memItemLeft topAlign rightAlign"> void </td><td class="memItemRight bottomAlign"><span class="name"><b><a href="./qmodbusclient.htm#setTimeout" translate="no">setTimeout</a></b></span>(int <i>newTimeout</i>)</td></tr>
</tbody></table></div>
<p><b>Notifier signal:</b></p>
<div class="table"><table class="alignedsummary" translate="no">
<tbody><tr><td class="memItemLeft topAlign rightAlign"> void </td><td class="memItemRight bottomAlign"><span class="name"><b><a href="./qmodbusclient.htm#timeoutChanged" translate="no">timeoutChanged</a></b></span>(int <i>newTimeout</i>)</td></tr>
</tbody></table></div>
<p><b>See also </b><a href="./qmodbusclient.htm#setTimeout" translate="no">setTimeout</a>.</p>
<!-- @@@timeout -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QModbusClient[overload1]$$$QModbusClientQObject* -->
<h3 class="fn" id="QModbusClient" translate="no"><a name="QModbusClient"></a>QModbusClient::<span class="name">QModbusClient</span>(<span class="type"><a href="./qobject.htm#QObject" translate="no">QObject</a></span> *<i>parent</i> = nullptr)<a class="plink" href="#QModbusClient" title="Direct link to this headline"></a></h3>
<p>Constructs a Modbus client device with the specified <i translate="no">parent</i>.</p>
<!-- @@@QModbusClient -->
<!-- $$$timeoutChanged -->
<h3 class="fn" id="timeoutChanged" translate="no"><a name="timeoutChanged"></a><code translate="no">[signal] </code><span class="type">void</span> QModbusClient::<span class="name">timeoutChanged</span>(<span class="type">int</span> <i>newTimeout</i>)<a class="plink" href="#timeoutChanged" title="Direct link to this headline"></a></h3>
<p>This signal is emitted when the timeout used by this <a href="./qmodbusclient.htm" translate="no">QModbusClient</a> instance is changed. The new response timeout for the device is passed as <i translate="no">newTimeout</i>.</p>
<p><b>Note: </b>Notifier signal for property <a href="./qmodbusclient.htm#timeout-prop" translate="no">timeout</a>. </p>
<p><b>See also </b><a href="./qmodbusclient.htm#setTimeout" translate="no">setTimeout</a>().</p>
<!-- @@@timeoutChanged -->
<!-- $$$numberOfRetries[overload1]$$$numberOfRetries -->
<h3 class="fn" id="numberOfRetries" translate="no"><a name="numberOfRetries"></a><span class="type">int</span> QModbusClient::<span class="name">numberOfRetries</span>() const<a class="plink" href="#numberOfRetries" title="Direct link to this headline"></a></h3>
<p>Returns the number of retries a client will perform before a request fails. The default value is set to <code translate="no">3</code>.</p>
<p><b>See also </b><a href="./qmodbusclient.htm#setNumberOfRetries" translate="no">setNumberOfRetries</a>().</p>
<!-- @@@numberOfRetries -->
<!-- $$$processPrivateResponse[overload1]$$$processPrivateResponseconstQModbusResponse&QModbusDataUnit* -->
<h3 class="fn" id="processPrivateResponse" translate="no"><a name="processPrivateResponse"></a><code translate="no">[virtual protected] </code><span class="type">bool</span> QModbusClient::<span class="name">processPrivateResponse</span>(const <span class="type"><a href="./qmodbusresponse.htm" translate="no">QModbusResponse</a></span> &amp;<i>response</i>, <span class="type"><a href="./qmodbusdataunit.htm" translate="no">QModbusDataUnit</a></span> *<i>data</i>)<a class="plink" href="#processPrivateResponse" title="Direct link to this headline"></a></h3>
<p>To be implemented by custom Modbus client implementation. The default implementation ignores <i translate="no">response</i> and <i translate="no">data</i>. It always returns false to indicate error.</p>
<!-- @@@processPrivateResponse -->
<!-- $$$processResponse[overload1]$$$processResponseconstQModbusResponse&QModbusDataUnit* -->
<h3 class="fn" id="processResponse" translate="no"><a name="processResponse"></a><code translate="no">[virtual protected] </code><span class="type">bool</span> QModbusClient::<span class="name">processResponse</span>(const <span class="type"><a href="./qmodbusresponse.htm" translate="no">QModbusResponse</a></span> &amp;<i>response</i>, <span class="type"><a href="./qmodbusdataunit.htm" translate="no">QModbusDataUnit</a></span> *<i>data</i>)<a class="plink" href="#processResponse" title="Direct link to this headline"></a></h3>
<p>Processes a Modbus server <i translate="no">response</i> and stores the decoded information in <i translate="no">data</i>. Returns <code translate="no">true</code> on success; otherwise <code translate="no">false</code>.</p>
<div class="admonition note">
<p><b>Note: </b>The default implementation does not support all <a href="./qmodbuspdu.htm#FunctionCode-enum" translate="no">FunctionCode</a>s. Override this method in a custom Modbus client implementations to handle the needed functions.</p>
</div>
<!-- @@@processResponse -->
<!-- $$$sendRawRequest[overload1]$$$sendRawRequestconstQModbusRequest&int -->
<h3 class="fn" id="sendRawRequest" translate="no"><a name="sendRawRequest"></a><span class="type"><a href="./qmodbusreply.htm" translate="no">QModbusReply</a></span> *QModbusClient::<span class="name">sendRawRequest</span>(const <span class="type"><a href="./qmodbusrequest.htm" translate="no">QModbusRequest</a></span> &amp;<i>request</i>, <span class="type">int</span> <i>serverAddress</i>)<a class="plink" href="#sendRawRequest" title="Direct link to this headline"></a></h3>
<p>Sends a raw Modbus <i translate="no">request</i>. A raw request can contain anything that fits inside the Modbus PDU data section and has a valid function code. The only check performed before sending is therefore the validity check, see <a href="./qmodbuspdu.htm#isValid" translate="no">QModbusPdu::isValid</a>. If no error occurred the function returns a a new valid <a href="./qmodbusreply.htm" translate="no">QModbusReply</a>; nullptr otherwise. Modbus networks may have multiple servers, each server has a unique <i translate="no">serverAddress</i>.</p>
<p><b>See also </b><a href="./qmodbusreply.htm#rawResult" translate="no">QModbusReply::rawResult</a>().</p>
<!-- @@@sendRawRequest -->
<!-- $$$sendReadRequest[overload1]$$$sendReadRequestconstQModbusDataUnit&int -->
<h3 class="fn" id="sendReadRequest" translate="no"><a name="sendReadRequest"></a><span class="type"><a href="./qmodbusreply.htm" translate="no">QModbusReply</a></span> *QModbusClient::<span class="name">sendReadRequest</span>(const <span class="type"><a href="./qmodbusdataunit.htm" translate="no">QModbusDataUnit</a></span> &amp;<i>read</i>, <span class="type">int</span> <i>serverAddress</i>)<a class="plink" href="#sendReadRequest" title="Direct link to this headline"></a></h3>
<p>Sends a request to read the contents of the data pointed by <i translate="no">read</i>. Returns a new valid <a href="./qmodbusreply.htm" translate="no">QModbusReply</a> object if no error occurred, otherwise nullptr. Modbus network may have multiple servers, each server has unique <i translate="no">serverAddress</i>.</p>
<!-- @@@sendReadRequest -->
<!-- $$$sendReadWriteRequest[overload1]$$$sendReadWriteRequestconstQModbusDataUnit&constQModbusDataUnit&int -->
<h3 class="fn" id="sendReadWriteRequest" translate="no"><a name="sendReadWriteRequest"></a><span class="type"><a href="./qmodbusreply.htm" translate="no">QModbusReply</a></span> *QModbusClient::<span class="name">sendReadWriteRequest</span>(const <span class="type"><a href="./qmodbusdataunit.htm" translate="no">QModbusDataUnit</a></span> &amp;<i>read</i>, const <span class="type"><a href="./qmodbusdataunit.htm" translate="no">QModbusDataUnit</a></span> &amp;<i>write</i>, <span class="type">int</span> <i>serverAddress</i>)<a class="plink" href="#sendReadWriteRequest" title="Direct link to this headline"></a></h3>
<p>Sends a request to read the contents of the data pointed by <i translate="no">read</i> and to modify the contents of the data pointed by <i translate="no">write</i> using Modbus function code <a href="./qmodbuspdu.htm#FunctionCode-enum" translate="no">QModbusPdu::ReadWriteMultipleRegisters</a>. Returns a new valid <a href="./qmodbusreply.htm" translate="no">QModbusReply</a> object if no error occurred, otherwise nullptr. Modbus network may have multiple servers, each server has unique <i translate="no">serverAddress</i>.</p>
<div class="admonition note">
<p><b>Note: </b>: Sending this kind of request is only valid of both <i translate="no">read</i> and <i translate="no">write</i> are of type <a href="./qmodbusdataunit.htm#RegisterType-enum" translate="no">QModbusDataUnit::HoldingRegisters</a>.</p>
</div>
<!-- @@@sendReadWriteRequest -->
<!-- $$$sendWriteRequest[overload1]$$$sendWriteRequestconstQModbusDataUnit&int -->
<h3 class="fn" id="sendWriteRequest" translate="no"><a name="sendWriteRequest"></a><span class="type"><a href="./qmodbusreply.htm" translate="no">QModbusReply</a></span> *QModbusClient::<span class="name">sendWriteRequest</span>(const <span class="type"><a href="./qmodbusdataunit.htm" translate="no">QModbusDataUnit</a></span> &amp;<i>write</i>, <span class="type">int</span> <i>serverAddress</i>)<a class="plink" href="#sendWriteRequest" title="Direct link to this headline"></a></h3>
<p>Sends a request to modify the contents of the data pointed by <i translate="no">write</i>. Returns a new valid <a href="./qmodbusreply.htm" translate="no">QModbusReply</a> object if no error occurred, otherwise nullptr. Modbus network may have multiple servers, each server has unique <i translate="no">serverAddress</i>.</p>
<!-- @@@sendWriteRequest -->
<!-- $$$setNumberOfRetries[overload1]$$$setNumberOfRetriesint -->
<h3 class="fn" id="setNumberOfRetries" translate="no"><a name="setNumberOfRetries"></a><span class="type">void</span> QModbusClient::<span class="name">setNumberOfRetries</span>(<span class="type">int</span> <i>number</i>)<a class="plink" href="#setNumberOfRetries" title="Direct link to this headline"></a></h3>
<p>Sets the <i translate="no">number</i> of retries a client will perform before a request fails. The default value is set to <code translate="no">3</code>.</p>
<div class="admonition note">
<p><b>Note: </b>The new value must be greater than or equal to <code translate="no">0</code>. Changing this property will only effect new requests, not already scheduled ones.</p>
</div>
<p><b>See also </b><a href="./qmodbusclient.htm#numberOfRetries" translate="no">numberOfRetries</a>().</p>
<!-- @@@setNumberOfRetries -->
<!-- $$$setTimeout -->
<h3 class="fn" id="setTimeout" translate="no"><a name="setTimeout"></a><span class="type">void</span> QModbusClient::<span class="name">setTimeout</span>(<span class="type">int</span> <i>newTimeout</i>)<a class="plink" href="#setTimeout" title="Direct link to this headline"></a></h3>
<p>Sets the <i translate="no">newTimeout</i> for this <a href="./qmodbusclient.htm" translate="no">QModbusClient</a> instance. The minimum timeout is 10 ms.</p>
<p>The timeout is used by the client to determine how long it waits for a response from the server. If the response is not received within the required timeout, the <a href="./qmodbusdevice.htm#Error-enum" translate="no">TimeoutError</a> is set.</p>
<p>Already active/running timeouts are not affected by such timeout duration changes.</p>
<p><b>Note: </b>Setter function for property <a href="./qmodbusclient.htm#timeout-prop" translate="no">timeout</a>. </p>
<p><b>See also </b><a href="./qmodbusclient.htm#timeout-prop" translate="no">timeout</a> and <a href="./qmodbusclient.htm#timeoutChanged" translate="no">timeoutChanged</a>().</p>
<!-- @@@setTimeout -->
</div>
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>