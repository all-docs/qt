<html lang="en"><head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Qt 3D Animation C++es | Qt 3D</title>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <!-- Google Tag Manager -->
    
  <!-- End Google Tag Manager -->
  
  
</head>
<body class="qt-design-system" style="background:var(--content-bg-color)" onload="prettyPrint()">

<div data-global-resource-path="qt-design-system/components/b-sidebar.html">
    <div class="b-sidebar b-sidebar--full-width">
        
        <div class="b-sidebar__content">
            <div class="b-sidebar__topbar" data-margin-bottom="sm">
                <div class="b-topbar">
                                        <div class="b-topbar__breadcrump" translate="no">
                        <ul class="c-breadcrump">
                            <li><a href="./index.htm" translate="no">Qt 5.15</a></li>
                            <li><a href="./qt3d-index.htm" translate="no">Qt 3D</a></li>
                            <li><a>Qt 3D Animation C++ Classes</a></li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="b-sidebar__content__wrapper">
                <article class="b-sidebar__content__left">
                    <div class="context mainContent" style="margin: 0;padding: 0; background: 0;">
                    

<div class="context">
<h1 class="title" translate="no">Qt 3D Animation C++ Classes</h1>
<span class="subtitle" translate="no"></span>
<!-- $$$Qt3DAnimation-brief -->
<p>The Qt 3D Animation modules provides a set of prebuilt elements to help you get started with Qt 3D. <a href="#details">More...</a></p>
<!-- @@@Qt3DAnimation -->
<p><b>This module is under development and is subject to change.</b></p>
<a name="namespaces"></a>
<h2 id="namespaces">Namespaces<a class="plink" href="#namespaces" title="Direct link to this headline"></a></h2>
<div class="table"><table class="annotated">
<tbody><tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation.htm">Qt3DAnimation</a></p></td><td class="tblDescr"><p>Contains classes from the Qt3DAnimation module</p></td></tr>
</tbody></table></div>
<a name="classes"></a>
<h2 id="classes">Classes<a class="plink" href="#classes" title="Direct link to this headline"></a></h2>
<div class="table"><table class="annotated">
<tbody><tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qabstractanimation.htm">Qt3DAnimation::QAbstractAnimation</a></p></td><td class="tblDescr"><p>An abstract base class for Qt3D animations</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qabstractanimationclip.htm">Qt3DAnimation::QAbstractAnimationClip</a></p></td><td class="tblDescr"><p>The base class for types providing key frame animation data</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qabstractclipanimator.htm">Qt3DAnimation::QAbstractClipAnimator</a></p></td><td class="tblDescr"><p>The base class for types providing animation playback capabilities</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qabstractclipblendnode.htm">Qt3DAnimation::QAbstractClipBlendNode</a></p></td><td class="tblDescr"><p>The base class for types used to construct animation blend trees</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qadditiveclipblend.htm">Qt3DAnimation::QAdditiveClipBlend</a></p></td><td class="tblDescr"><p>Performs an additive blend of two animation clips based on an additive factor</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qanimationaspect.htm">Qt3DAnimation::QAnimationAspect</a></p></td><td class="tblDescr"><p>Provides key-frame animation capabilities to Qt 3D</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qanimationcallback.htm">Qt3DAnimation::QAnimationCallback</a></p></td><td class="tblDescr"><p>Represents an animation callback object</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qanimationclip.htm">Qt3DAnimation::QAnimationClip</a></p></td><td class="tblDescr"><p>Specifies key frame animation data</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qanimationclipdata.htm">Qt3DAnimation::QAnimationClipData</a></p></td><td class="tblDescr"><p>Class containing the animation data</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qanimationcliploader.htm">Qt3DAnimation::QAnimationClipLoader</a></p></td><td class="tblDescr"><p>Enables loading key frame animation data from a file</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qanimationcontroller.htm">Qt3DAnimation::QAnimationController</a></p></td><td class="tblDescr"><p>A controller class for animations</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qanimationgroup.htm">Qt3DAnimation::QAnimationGroup</a></p></td><td class="tblDescr"><p>A class grouping animations together</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qblendedclipanimator.htm">Qt3DAnimation::QBlendedClipAnimator</a></p></td><td class="tblDescr"><p>Component providing animation playback capabilities of a tree of blend nodes</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qcallbackmapping.htm">Qt3DAnimation::QCallbackMapping</a></p></td><td class="tblDescr"><p>Allows to map the channels within the clip onto an invocation of a callback object</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qchannel.htm">Qt3DAnimation::QChannel</a></p></td><td class="tblDescr"><p>Defines a channel for a QAnimationClipData. The animation system interpolates each channel component independently except in the case the QChannel is called "Rotation" (case sensitive), it has four QChannelComponents and the same number of keyframes for each QChannelComponent. In that case the interpolation will be performed using SLERP</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qchannelmapper.htm">Qt3DAnimation::QChannelMapper</a></p></td><td class="tblDescr"><p>Allows to map the channels within the clip onto properties of objects in the application</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qchannelmapping.htm">Qt3DAnimation::QChannelMapping</a></p></td><td class="tblDescr"><p>Allows to map the channels within the clip onto properties of objects in the application</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qclipanimator.htm">Qt3DAnimation::QClipAnimator</a></p></td><td class="tblDescr"><p>Component providing simple animation playback capabilities</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qclipblendnodecreatedchangebase.htm">Qt3DAnimation::QClipBlendNodeCreatedChangeBase</a></p></td><td class="tblDescr"><p>Base class for changes in QClipBlendNode</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qclipblendvalue.htm">Qt3DAnimation::QClipBlendValue</a></p></td><td class="tblDescr"><p>Class used for including a clip in a blend tree</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qkeyframe.htm">Qt3DAnimation::QKeyFrame</a></p></td><td class="tblDescr"><p>A base class for handling keyframes</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qkeyframeanimation.htm">Qt3DAnimation::QKeyframeAnimation</a></p></td><td class="tblDescr"><p>A class implementing simple keyframe animation to a QTransform</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qlerpclipblend.htm">Qt3DAnimation::QLerpClipBlend</a></p></td><td class="tblDescr"><p>Performs a linear interpolation of two animation clips based on a normalized factor</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qmorphtarget.htm">Qt3DAnimation::QMorphTarget</a></p></td><td class="tblDescr"><p>A class providing morph targets to blend-shape animation</p></td></tr>
<tr class="odd topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qmorphinganimation.htm">Qt3DAnimation::QMorphingAnimation</a></p></td><td class="tblDescr"><p>A class implementing blend-shape morphing animation</p></td></tr>
<tr class="even topAlign"><td class="tblName" translate="no"><p><a href="./qt3danimation-qvertexblendanimation.htm">Qt3DAnimation::QVertexBlendAnimation</a></p></td><td class="tblDescr"><p>A class implementing vertex-blend morphing animation</p></td></tr>
</tbody></table></div>
<!-- $$$Qt3DAnimation-description -->
<a name="details"></a>
<div class="descr">
<h2 id="details">Detailed Description<a class="plink" href="#details" title="Direct link to this headline"></a></h2>
<p>This module is still in development but is available as a technology preview. This means it is unstable, likely to change and provided as a convenience only.</p>
<div class="pre"><pre class="cpp prettyprint" translate="no"><span class="preprocessor">#include &lt;Qt3DAnimation&gt;</span></pre></div>
<p>To link against the corresponding C++ library, add the following to your qmake project file:</p>
<div class="pre"><pre class="cpp plain" translate="no">QT += 3danimation</pre></div>
<p>Classes, types, and functions are declared under the <a href="./qt3danimation-module.htm" translate="no">Qt3DAnimation</a> namespace.</p>
<a name="overview"></a>
<h3 id="overview">Overview<a class="plink" href="#overview" title="Direct link to this headline"></a></h3>
<p>The Qt 3D Animation module adds support for specifying and using animations that can be applied to the properties of objects in your simulation. Initially this module supports key frame based animations. That is, properties have values 'keyed' at certain times and when played back the property values are calculated by interpolating between the known values within the key frames. All of the animation evaluation within the Qt 3D Animation module takes place on the Qt 3D threadpool. This allows the animations to run smoothly and to scale up to high throughput.</p>
<a name="animation-data"></a>
<h4 id="animation-data">Animation Data<a class="plink" href="#animation-data" title="Direct link to this headline"></a></h4>
<p>Key frame animation data can either be created programmatically via the Qt 3D Animation APIs such as Qt3DAnimation::QKeyFrameData or it can come from digital content creation (DCC) tools such as Blender, Maya or 3D Studio Max. Qt 3D provides an example export script for animation data for Blender. The format consumed by Qt 3D Animation at present is a simple JSON based format. This allows both developers and artists to easily work with animation data. More formats optimised for runtime consumption will be added later.</p>
<p>The key frame animation data can be loaded from file using the <a href="./qt3danimation-qanimationcliploader.htm" translate="no">Qt3DAnimation::QAnimationClipLoader</a> class. To specify animation data programmatically use the <a href="./qt3danimation-qanimationclip.htm" translate="no">Qt3DAnimation::QAnimationClip</a> class.</p>
<p>By default, the key frame data is specified using cubic bezier curves. This allows smooth animations to be created from a small number of key frame data points. Other interpolation types will be added later.</p>
<a name="playing-animations"></a>
<h4 id="playing-animations">Playing Animations<a class="plink" href="#playing-animations" title="Direct link to this headline"></a></h4>
<p>In addition to the animation data containing the key frames, Qt 3D Animation also provides APIs for playing the animations and mapping the resulting property values onto properties of objects in your simulation. There are currently two ways of playing the animations:</p>
<ul>
<li><a href="./qt3danimation-qclipanimator.htm" translate="no">Qt3DAnimation::QClipAnimator</a></li>
<li><a href="./qt3danimation-qblendedclipanimator.htm" translate="no">Qt3DAnimation::QBlendedClipAnimator</a></li>
</ul>
<p>Both of these are implemented as subclasses of <a href="./qt3dcore-qcomponent.htm" translate="no">Qt3DCore::QComponent</a> meaning that objects of these types can be aggregated by <a href="./qt3dcore-qentity.htm" translate="no">Qt3DCore::QEntity</a> objects to add animation capabilities to your simulated entities.</p>
<a name="simple-animation-playback"></a>
<h4 id="simple-animation-playback">Simple Animation Playback<a class="plink" href="#simple-animation-playback" title="Direct link to this headline"></a></h4>
<p>The <a href="./qt3danimation-qclipanimator.htm" translate="no">Qt3DAnimation::QClipAnimator</a> class allows the playback of a single <a href="./qt3danimation-qabstractanimationclip.htm" translate="no">Qt3DAnimation::QAbstractAnimationClip</a> at a time. To add an animation to an entity, simply add an instance of the <a href="./qt3danimation-qclipanimator.htm" translate="no">Qt3DAnimation::QClipAnimator</a> class to your entity's <code translate="no">components</code> property.</p>
<p>The Qt 3D Animation module takes a slightly different approach to <a href="./qpropertyanimation.htm" translate="no">QPropertyAnimation</a> and <a href="./qml-qt3d-animation-abstractanimation.htm" translate="no">AbstractAnimation</a>. With those animation frameworks, the animation specifies both the animation values <i>and</i> the target objects and properties. The animation components in Qt 3D separate these two orthogonal concepts. For example, the <a href="./qt3danimation-qclipanimator.htm" translate="no">Qt3DAnimation::QClipAnimator</a> component has a <code translate="no">clip</code> property for specifying the animation data (<a href="./qt3danimation-qanimationclip.htm" translate="no">Qt3DAnimation::QAnimationClip</a> or <a href="./qt3danimation-qanimationcliploader.htm" translate="no">Qt3DAnimation::QAnimationClipLoader</a>).</p>
<p>This allows calculation of the animated values, but more information is needed in order to map these values onto properties of objects. This is accomplished with the a <a href="./qt3danimation-qchannelmapper.htm" translate="no">Qt3DAnimation::QChannelMapper</a> which contains a list of <a href="./qt3danimation-qchannelmapping.htm" translate="no">Qt3DAnimation::QChannelMapping</a> objects. A <a href="./qt3danimation-qchannelmapping.htm" translate="no">Qt3DAnimation::QChannelMapping</a> is used to map a specific channel from an animation clip onto a named property of a target object. By separating the animation data and property mappings like this, the same animation can be applied to many objects without needing to have multiple copies of the animation data or objects. It also allows animation data to easily be retargeted to other objects.</p>
<a name="blended-animation-playback"></a>
<h4 id="blended-animation-playback">Blended Animation Playback<a class="plink" href="#blended-animation-playback" title="Direct link to this headline"></a></h4>
<p>The <a href="./qt3danimation-qblendedclipanimator.htm" translate="no">Qt3DAnimation::QBlendedClipAnimator</a> component allows to go beyond what is possible with <a href="./qt3danimation-qclipanimator.htm" translate="no">Qt3DAnimation::QClipAnimator</a> by blending several animation clips together before applying the property changes to the target properties. The animator component still takes a channel mapper just like the standard <a href="./qt3danimation-qclipanimator.htm" translate="no">Qt3DAnimation::QClipAnimator</a> component. However, instead of specifying a single animation clip, it is necessary to set the <code translate="no">blendTree</code> property to point to the root node of a <i>blend tree</i>.</p>
<p>A blend tree is a data structure representing how animation clips get aggregated or blended together as the function of properties on the blend tree nodes. The currently supported set of blend tree nodes are:</p>
<ul>
<li><a href="./qt3danimation-qclipblendvalue.htm" translate="no">Qt3DAnimation::QClipBlendValue</a></li>
<li><a href="./qt3danimation-qlerpclipblend.htm" translate="no">Qt3DAnimation::QLerpClipBlend</a></li>
<li><a href="./qt3danimation-qadditiveclipblend.htm" translate="no">Qt3DAnimation::QAdditiveClipBlend</a></li>
</ul>
<p>The source animation clip inputs are specified as leaf nodes in the blend tree using instances of the <a href="./qt3danimation-qclipblendvalue.htm" translate="no">Qt3DAnimation::QClipBlendValue</a> class. These animation clips can be combined in a large number of ways. For now the Qt3D Animation module provides linear interpolation (LERP) and additive blend operations. More blend node types will be added over time. These are expected to include at least a generalised LERP node and a barycentric LERP node.</p>
<p>As an example consider the following blend tree:</p>
<div class="pre"><pre class="cpp plain" translate="no">Clip0----
        |
        Lerp Node----
        |           |
Clip1----           Additive Node
                    |
            Clip2----</pre></div>
<p>Let's assume that <code translate="no">Clip0</code> represents a walk animation cycle with a duration of 3 seconds and that <code translate="no">Clip1</code> is a run animation cycle with a duration of 2 seconds. These are both inputs (and dependencies) of the <code translate="no">Lerp</code> blend node. The result of evaluating the <code translate="no">Lerp</code> node depends upon the <code translate="no">blendFactor</code> property of the <code translate="no">Lerp</code> node. This could be bound to the speed of a humanoid character entity for example. As the speed of the character increases the animation gradually cross-fades from the walk animation in <code translate="no">Clip0</code> to the run animation in <code translate="no">Clip1</code>.</p>
<p>Furthermore, let's assume that <code translate="no">Clip2</code> represents some variation animation that can be added on (waving arms or shaking head for e.g.). The amount of this additive clip that is added can be controlled by the <code translate="no">additiveFactor</code> property on the <code translate="no">Additive</code> blend node.</p>
<p>When evaluating a blend tree, normalized time (or phase) is used so that clips of different durations can be blended together without problems. For example, even though the walk and run animation clips are of different lengths, as long as they are created by the animator such that the foot-falls line up at the same phase these can be nicely interpolated.</p>
<p>The implication of this is that the duration of the blended clip is actually a function of the blend factors of the nodes in the tree. Considering only the <code translate="no">Lerp</code> node in the above example, when the blend factor of the <code translate="no">Lerp</code> node is 0, only the walk animation in Clip0 is used resulting in a duration of 3 seconds. With a blend factor of 1 the resulting duration will be 2 seconds. For intermediate blend factors, the duration will be linearly interpolated between 3 and 2 seconds.</p>
<p>By definining your own blend trees, you have complete control over how to combine your collection of input animation clips. The blend tree can be configured by the properties on the blend nodes. Note also that the properties on the blend nodes themselves are just standard properties, so these could in turn be driven by other animations if desired.</p>
<a name="reference"></a>
<h3 id="reference">Reference<a class="plink" href="#reference" title="Direct link to this headline"></a></h3>
<ul>
<li><a href="./qt3danimation-module.htm" translate="no">Qt 3D Animation C++ Classes</a></li>
<li><a href="./qt3d-examples.htm" translate="no">Qt 3D Examples</a></li>
</ul>
</div>
<!-- @@@Qt3DAnimation -->
</div>
<p class="copy-notice">
<acronym title="Copyright">Â©</acronym> 2025 The Qt Company Ltd.
   Documentation contributions included herein are the copyrights of
   their respective owners.     The documentation provided herein is licensed under the terms of the    <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation    License version 1.3</a> as published by the Free Software Foundation.     Qt and respective logos are <a href="https://doc.qt.io/qt/trademarks.html">    trademarks</a> of The Qt Company Ltd. in Finland and/or other countries
   worldwide. All other trademarks are property of their respective owners. </p>

                    </div>
                </article>
                
            </div>
        </div>
    </div>
</div>
</body></html>